KCPSM6 Assembler log file for program 'C:\Users\Jacky\FPGA_Space_Invaders\software\software.psm'.
Generated by KCPSM6 version v2.51
Ken Chapman - Xilinx Ltd - 29th May 2013

Assembly datestamp: 13 Dec 2016
Assembly timestamp: 18:56:22

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 7FF hex
Nominal program memory size: 2K (2048)   address(10:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 2032
Memory locations available: 2064


Assembly listing

 Addr Code                            Instruction

 000                                  ;;============================================================================
 000                                  ;; File: software.psm
 000                                  ;; This is the PicoBlaze example game program for EE178 Lab #8.
 000                                  ;; No guarantee this is bug-free but it is a playable example.
 000                                  ;;============================================================================
 000                                  ;;============================================================================
 000                                  ;; Editor: Jacky, Thi
 000                                  ;; Current Version: 2.0
 000                                  ;; Change Log: 1.0 - initial file provided
 000                                  ;;      1.1 - replaced padl with tank and cleaned up code
 000                                  ;;      1.2 - added in bullet, bullet shooting, and bullet resetting
 000                                  ;;      1.3 - added in shield drawings
 000                                  ;;      1.4 - completion of shield hit detection and bullet reset
 000                                  ;;      1.5 - added in shield health, with full/dead shield models
 000                                  ;;      2.0 - merged with alien code
 000                                  ;;============================================================================
 000                                  ;;============================================================================
 000                                  ;; Ports and related constants.
 000                                  ;;============================================================================
 000                                  CONSTANT stax, 00                          ; port for 8-bit start-x
 000                                  CONSTANT stay, 01                          ; port for 8-bit start-y
 000                                  CONSTANT endx, 02                          ; port for 8-bit end-x
 000                                  CONSTANT endy, 03                          ; port for 8-bit end-y
 000                                  CONSTANT busy, 04                          ; port for 8-bit busy
 000                                  CONSTANT beam, 05                          ; port for 8-bit beam
 000                                  CONSTANT mode, 06                          ; port for 8-bit mode
 000                                  CONSTANT prng, 07                          ; port for 8-bit prng
 000                                  CONSTANT leds_lo, 08                       ; port for 8-bit led data out
 000                                  CONSTANT leds_hi, 09                       ; port for 8-bit led data out
 000                                  CONSTANT qssd_lo, 0A                       ; port for 8-bit qssd data out
 000                                  CONSTANT qssd_hi, 0B                       ; port for 8-bit qssd data out
 000                                  CONSTANT qssd_dp, 0C                       ; port for 8-bit qssd data out
 000                                  CONSTANT switches_lo, 0D                   ; port for 8-bit switch input
 000                                  CONSTANT switches_hi, 0E                   ; port for 8-bit switch input
 000                                  CONSTANT buttons, 0F                       ; port for 8-bit button input
 000                                  CONSTANT busy_go, 01                       ; go command and busy status
 000                                  CONSTANT beam_hi, 0F                       ; beam high intensity
 000                                  CONSTANT beam_md, 07                       ; beam med intensity
 000                                  CONSTANT beam_lo, 03                       ; beam low intensity
 000                                  CONSTANT mode_hld, 00                      ; mode hold framebuffer
 000                                  CONSTANT mode_clr, 01                      ; mode clear framebuffer
 000                                  CONSTANT mode_lin, 02                      ; mode linear decay
 000                                  CONSTANT mode_exp, 03                      ; mode exponential decay
 000                                  CONSTANT buttons_ct, 10                    ; center
 000                                  CONSTANT buttons_up, 08                    ; up
 000                                  CONSTANT buttons_dn, 04                    ; down
 000                                  CONSTANT buttons_lf, 02                    ; left
 000                                  CONSTANT buttons_rt, 01                    ; right
 000                                  ;;============================================================================
 000                                  ;; Game state declarations.
 000                                  ;;============================================================================
 000                                  NAMEREG s0, gs_major
 000                                  CONSTANT gs_major_attrone, 00              ; state assignment
 000                                  CONSTANT gs_major_attrtwo, 01              ; state assignment
 000                                  CONSTANT gs_major_playing, 02              ; state assignment
 000                                  CONSTANT gs_major_gameend, 03              ; state assignment
 000                                  NAMEREG s1, gs_minor
 000                                  CONSTANT gs_minor_begins, 00               ; counter initialize
 000                                  CONSTANT gs_minor_twosec, 78               ; frame count about 2.0 secs
 000                                  CONSTANT gs_minor_onesec, 3C               ; frame count about 1.0 secs
 000                                  CONSTANT gs_minor_getrdy, 1E               ; frame count about 0.5 secs
 000                                  NAMEREG s2, gs_tbulletx
 000                                  NAMEREG s3, gs_tbullety
 000                                  NAMEREG s4, gs_tbulletdy
 000                                  CONSTANT gs_tbullet_xdim, 00               ; it's this plus 1
 000                                  CONSTANT gs_tbullet_ydim, 05               ; it's this plus 1
 000                                  CONSTANT gs_tbullet_speed, 08              ; pixels per frame
 000                                  NAMEREG s5, gs_tankx
 000                                  CONSTANT gs_tanky, F4                      ; tank y location
 000                                  CONSTANT gs_tank_xdim, 10                  ; it's this plus 1
 000                                  CONSTANT gs_tank_ydim, 08                  ; it's this plus 1
 000                                  CONSTANT gs_tank_speed, 02                 ; pixels per frame
 000                                  NAMEREG s6, shieldshp                      ; full health register counter for 4 shields: 00 00 00 00
 000                                  CONSTANT shield1hit, 40                    ; add 01 from shieldshp when shield 1 is hit: 01 00 00 00
 000                                  CONSTANT shield2hit, 10                    ; add 01 from shieldshp when shield 2 is hit: 00 01 00 00
 000                                  CONSTANT shield3hit, 04                    ; add 01 from shieldshp when shield 3 is hit: 00 00 01 00
 000                                  CONSTANT shield4hit, 01                    ; add 01 from shieldshp when shield 4 is hit: 00 00 00 01
 000                                  CONSTANT shield1dead_test, 3F              ; used to test shield1 hp with shieldshp reg: 00 11 11 11
 000                                  CONSTANT shield2dead_test, CF              ; used to test shield2 hp with shieldshp reg: 11 00 11 11
 000                                  CONSTANT shield3dead_test, F3              ; used to test shield3 hp with shieldshp reg: 11 11 00 11
 000                                  CONSTANT shield4dead_test, FC              ; used to test shield4 hp with shieldshp reg: 11 11 11 00
 000                                  CONSTANT shieldxdim, 18                    ; shield x dimension is 24 pixels
 000                                  CONSTANT shieldydim, 14                    ; shield y dimension is 20 pixels
 000                                  CONSTANT shield1x, 10                      ; shield 1 starts at x = 16
 000                                  CONSTANT shield2x, 52                      ; shield 2 starts at x = 82
 000                                  CONSTANT shield3x, 95                      ; shield 3 starts at x = 149
 000                                  CONSTANT shield4x, D7                      ; shield 4 starts at x = 215
 000                                  CONSTANT shieldy, D0                       ; shield starts at y = 208
 000                                  CONSTANT alien_x, 00                       ; scratchpad memory location
 000                                  CONSTANT alien_y, 01
 000                                  CONSTANT alien_1_hp, 02
 000                                  CONSTANT alien_2_hp, 03
 000                                  CONSTANT alien_3_hp, 04
 000                                  CONSTANT alien_4_hp, 05
 000                                  CONSTANT alien_5_hp, 06
 000                                  CONSTANT alien_x_dim, 08
 000                                  CONSTANT alien_y_dim, 02
 000                                  ;;============================================================================
 000                                  ;; Global variables.
 000                                  ;;============================================================================
 000                                  NAMEREG s7, resvd1                         ; reserved
 000                                  NAMEREG s8, resvd2                         ; reserved
 000                                  NAMEREG sC, resvd3                         ; reserved
 000                                  NAMEREG s9, xpos                           ; for drawing routines
 000                                  NAMEREG sA, ypos                           ; for drawing routines
 000                                  NAMEREG sB, tbullet_en                     ; for tank bullet enable
 000                                  NAMEREG sD, btnsamp                        ; button sample
 000                                  NAMEREG sE, loopvar                        ; for loops
 000                                  NAMEREG sF, scratch                        ; for scratch
 000                                  ;;============================================================================
 000                                  ;; Other stuff.
 000                                  ;;============================================================================
 000                                  CONSTANT minusone, FF                      ; minusone
 000                                  CONSTANT minusmax, 80                      ; minus 128
 000                                  CONSTANT plusmax, 7F                       ; plus 127
 000                                  CONSTANT zero, 00                          ; zero
 000                                  CONSTANT one, 01                           ; one
 000                                  ;;============================================================================
 000                                  ;; Boot.
 000                                  ;; This performs one-time initialization of the hardware and the game state.
 000                                  ;;============================================================================
 000                            boot: 
 000  20008                           CALL 008[hw_init]                          ; initial hardware setup
 001  20016                           CALL 016[gs_init]                          ; set initial game state
 002  28001                           ENABLE INTERRUPT                           ; enable vblnk interrupt
 003                                  ;;============================================================================
 003                                  ;; Main.
 003                                  ;; This is an empty loop, does nothing, waiting for interrupts to occur.
 003                                  ;;============================================================================
 003                            main: 
 003  22003                           JUMP 003[main]                             ; empty loop, does nothing
 004                                  ;;============================================================================
 004                                  ;; Interrupt.
 004                                  ;; This is the main game logic.  At each interrupt, the procedure is to read
 004                                  ;; the user input, calculate the next game state, and then draw the game
 004                                  ;; state on the display.
 004                                  ;;============================================================================
 004                             isr: 
 004  20028                           CALL 028[user_input]                       ; get the user input
 005  2002A                           CALL 02A[calc_next_gs]                     ; calculate next state
 006  20464                           CALL 464[draw_gs]                          ; draw the state
 007  29001                           RETURNI ENABLE                             ; return with enable
 008                                  ;;============================================================================
 008                                  ;; Subroutine: hw_init
 008                                  ;; This puts the hardware into a known, initial state.  This includes a wait
 008                                  ;; to make sure the line drawing harware is idle (a wait loop which is also
 008                                  ;; called from other routines, as a subroutine).
 008                                  ;;============================================================================
 008                         hw_init: 
 008  01F00                           LOAD sF[scratch], 00[zero]                 ; going to use lot of zero
 009  2DF08                           OUTPUT sF[scratch], 08[leds_lo]            ; turn off lo leds
 00A  2DF09                           OUTPUT sF[scratch], 09[leds_hi]            ; turn off hi leds
 00B  2DF0A                           OUTPUT sF[scratch], 0A[qssd_lo]            ; zeroize qssd lo
 00C  2DF0B                           OUTPUT sF[scratch], 0B[qssd_hi]            ; zeroize qssd hi
 00D  2DF0C                           OUTPUT sF[scratch], 0C[qssd_dp]            ; turn off qssd dots
 00E  01F03                           LOAD sF[scratch], 03[mode_exp]             ; load desired mode
 00F  2DF06                           OUTPUT sF[scratch], 06[mode]               ; program the framebuffer
 010  01F0F                           LOAD sF[scratch], 0F[beam_hi]              ; load desired beam
 011  2DF05                           OUTPUT sF[scratch], 05[beam]               ; program the framebuffer
 012                    hw_init_wait: 
 012  09F04                           INPUT sF[scratch], 04[busy]                ; get framebuffer busy
 013  1DF01                           COMPARE sF[scratch], 01[busy_go]           ; check framebuffer busy
 014  32012                           JUMP Z, 012[hw_init_wait]                  ; back to wait if busy
 015  25000                           RETURN                                     ; return
 016                                  ;;============================================================================
 016                                  ;; Subroutine: gs_init
 016                                  ;; This puts the game into a known, initial state.  I've assigned all of the
 016                                  ;; game state to a known value -- although some of these assignments do not
 016                                  ;; really matter based on design of the game state machine.
 016                                  ;;============================================================================
 016                         gs_init: 
 016  01000                           LOAD s0[gs_major], 00[gs_major_attrone]    ; start in attract mdoe
 017  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]     ; start with counter zero
 018  01200                           LOAD s2[gs_tbulletx], 00[zero]             ; doesn't really matter
 019  01300                           LOAD s3[gs_tbullety], 00[zero]             ; doesn't really matter
 01A  01500                           LOAD s5[gs_tankx], 00[zero]                ; doesn't really matter
 01B  01400                           LOAD s4[gs_tbulletdy], 00[zero]            ; doesn't really matter
 01C  01B00                           LOAD sB[tbullet_en], 00[zero]              ; start with top button not pressed
 01D  01600                           LOAD s6[shieldshp], 00[zero]               ; start shieldshp as 00 00 00 00
 01E  01F00                           LOAD sF[scratch], 00[zero]                 ; loads zero to scratch
 01F  2FF00                           STORE sF[scratch], 00[alien_x]             ; aliens start at 0,0
 020  2FF01                           STORE sF[scratch], 01[alien_y]             ; aliens start at 0,0
 021  01FFF                           LOAD sF[scratch], FF                       ; loads ff to scratch
 022  2FF02                           STORE sF[scratch], 02[alien_1_hp]          ; sets full health to aliens
 023  2FF03                           STORE sF[scratch], 03[alien_2_hp]          ; sets full health to aliens
 024  2FF04                           STORE sF[scratch], 04[alien_3_hp]          ; sets full health to aliens
 025  2FF05                           STORE sF[scratch], 05[alien_4_hp]          ; sets full health to aliens
 026  2FF06                           STORE sF[scratch], 06[alien_5_hp]          ; sets full health to aliens
 027  25000                           RETURN                                     ; return
 028                                  ;;============================================================================
 028                                  ;; Subroutine: user_input
 028                                  ;; This samples the user inputs required for this game (which happens to be
 028                                  ;; only the buttons, but this could is extended to the switches as well).
 028                                  ;; This subroutine calls an example of how to use the RAM scratchpad, by
 028                                  ;; implementing access of a 256x8 array using switches, button, and qssd.
 028                                  ;; The call to the ram_example routine (and ram_example routine itself)
 028                                  ;; can be entirely removed as it is not needed in this game.
 028                                  ;;============================================================================
 028                      user_input: 
 028  09D0F                           INPUT sD[btnsamp], 0F[buttons]             ; sample button hardware
 029  25000                           RETURN                                     ; return
 02A                                  ;;============================================================================
 02A                                  ;; Subroutine: calc_next_gs
 02A                                  ;; This logic calculates the next state of the game, given the sampled user
 02A                                  ;; inputs and the current state of the game.
 02A                                  ;;============================================================================
 02A                    calc_next_gs: 
 02A  1D000                           COMPARE s0[gs_major], 00[gs_major_attrone] ; are we in attrone?
 02B  32033                           JUMP Z, 033[calc_attrone]                  ; do ns calc for attrone
 02C  1D001                           COMPARE s0[gs_major], 01[gs_major_attrtwo] ; are we in attrtwo?
 02D  32039                           JUMP Z, 039[calc_attrtwo]                  ; do ns calc for attrtwo
 02E  1D002                           COMPARE s0[gs_major], 02[gs_major_playing] ; are we in playing?
 02F  32057                           JUMP Z, 057[calc_playing]                  ; do ns calc for playing
 030  1D003                           COMPARE s0[gs_major], 03[gs_major_gameend] ; are we in gameend?
 031  32457                           JUMP Z, 457[calc_gameend]                  ; do ns calc for gameend
 032  25000                           RETURN 
 033                    calc_attrone: 
 033  0DD10                           TEST sD[btnsamp], 10[buttons_ct]           ; starts game if center button is pressed
 034  3603F                           JUMP NZ, 03F[initial_positions]            ; othersize, swap between bong and ec
 035  1D178                           COMPARE s1[gs_minor], 78[gs_minor_twosec]  ; attrone is bong, attrtwo is ec
 036  3245E                           JUMP Z, 45E[goto_attrtwo]
 037  11101                           ADD s1[gs_minor], 01[one]
 038  25000                           RETURN 
 039                    calc_attrtwo: 
 039  0DD10                           TEST sD[btnsamp], 10[buttons_ct]
 03A  3603F                           JUMP NZ, 03F[initial_positions]
 03B  1D13C                           COMPARE s1[gs_minor], 3C[gs_minor_onesec]
 03C  3245B                           JUMP Z, 45B[goto_attrone]
 03D  11101                           ADD s1[gs_minor], 01[one]
 03E  25000                           RETURN 
 03F               initial_positions: 
 03F  01510                           LOAD s5[gs_tankx], 10[gs_tank_xdim]        ; start tank at the bottom horizontal center of screen
 040  1450A                           SRX s5[gs_tankx]
 041  075FF                           XOR s5[gs_tankx], FF[minusone]
 042  11501                           ADD s5[gs_tankx], 01[one]
 043  11580                           ADD s5[gs_tankx], 80[minusmax]
 044  00F50                           LOAD sF[scratch], s5[gs_tankx]             ; start bullet at the upper center of the tank
 045  11F08                           ADD sF[scratch], 08
 046  002F0                           LOAD s2[gs_tbulletx], sF[scratch]
 047  01FF4                           LOAD sF[scratch], F4[gs_tanky]
 048  19F03                           SUB sF[scratch], 03
 049  003F0                           LOAD s3[gs_tbullety], sF[scratch]
 04A  01002                           LOAD s0[gs_major], 02[gs_major_playing]
 04B  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 04C  01600                           LOAD s6[shieldshp], 00[zero]               ; start shieldshp as 00 00 00 00
 04D  01F00                           LOAD sF[scratch], 00[zero]                 ; loads zero to scratch
 04E  2FF00                           STORE sF[scratch], 00[alien_x]             ; aliens start at 0,0
 04F  2FF01                           STORE sF[scratch], 01[alien_y]             ; aliens start at 0,0
 050  01FFF                           LOAD sF[scratch], FF                       ; loads ff to scratch
 051  2FF02                           STORE sF[scratch], 02[alien_1_hp]          ; sets full health to aliens
 052  2FF03                           STORE sF[scratch], 03[alien_2_hp]          ; sets full health to aliens
 053  2FF04                           STORE sF[scratch], 04[alien_3_hp]          ; sets full health to aliens
 054  2FF05                           STORE sF[scratch], 05[alien_4_hp]          ; sets full health to aliens
 055  2FF06                           STORE sF[scratch], 06[alien_5_hp]          ; sets full health to aliens
 056  25000                           RETURN 
 057                    calc_playing: 
 057  2010C                           CALL 10C[upd_tank]                         ; go to update tank position
 058  0DD08                           TEST sD[btnsamp], 08[buttons_up]           ; check if the top button was pushed
 059  34126                           CALL NZ, 126[load_tbullet_en]              ; if it was, enable bullet enable
 05A  1DB00                           COMPARE sB[tbullet_en], 00[zero]           ; check if bullet enable is enabled
 05B  34128                           CALL NZ, 128[upd_tbullet]                  ; if it is, update shot bullet position
 05C  1D6FF                           COMPARE s6[shieldshp], FF                  ; check if shields hp is depleted
 05D  343AE                           CALL NZ, 3AE[upd_shields]                  ; if it is, stop updating shields
 05E  20061                           CALL 061[upd_aliens]                       ; update aliens
 05F  11101                           ADD s1[gs_minor], 01[one]
 060  25000                           RETURN 
 061                      upd_aliens: 
 061  0BF00                           FETCH sF[scratch], 00[alien_x]
 062  1DF00                           COMPARE sF[scratch], 00
 063  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 064  0BF02                           FETCH sF[scratch], 02[alien_1_hp]          ;left shift aliens if left side is dystroyed
 065  0DF01                           TEST sF[scratch], 01
 066  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 067  0FF01                           TESTCY sF[scratch], 01
 068  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 069  0FF01                           TESTCY sF[scratch], 01
 06A  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 06B  0FF01                           TESTCY sF[scratch], 01
 06C  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 06D  0FF01                           TESTCY sF[scratch], 01
 06E  300F0                           CALL Z, 0F0[alien_hp_shift]
 06F  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 070  0DFFE                           TEST sF[scratch], FE
 071  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 072  0FFFE                           TESTCY sF[scratch], FE
 073  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 074  0FFFE                           TESTCY sF[scratch], FE
 075  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 076  0FFFE                           TESTCY sF[scratch], FE
 077  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 078  0FFFE                           TESTCY sF[scratch], FE
 079  320EC                           JUMP Z, 0EC[upd_aliens_y_7]
 07A  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 07B  0DFFC                           TEST sF[scratch], FC
 07C  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 07D  0FFFC                           TESTCY sF[scratch], FC
 07E  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 07F  0FFFC                           TESTCY sF[scratch], FC
 080  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 081  0FFFC                           TESTCY sF[scratch], FC
 082  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 083  0FFFC                           TESTCY sF[scratch], FC
 084  320E8                           JUMP Z, 0E8[upd_aliens_y_6]
 085  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 086  0DFF8                           TEST sF[scratch], F8
 087  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 088  0FFF8                           TESTCY sF[scratch], F8
 089  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 08A  0FFF8                           TESTCY sF[scratch], F8
 08B  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 08C  0FFF8                           TESTCY sF[scratch], F8
 08D  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 08E  0FFF8                           TESTCY sF[scratch], F8
 08F  320E4                           JUMP Z, 0E4[upd_aliens_y_5]
 090  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 091  0DFF0                           TEST sF[scratch], F0
 092  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 093  0FFF0                           TESTCY sF[scratch], F0
 094  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 095  0FFF0                           TESTCY sF[scratch], F0
 096  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 097  0FFF0                           TESTCY sF[scratch], F0
 098  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 099  0FFF0                           TESTCY sF[scratch], F0
 09A  320E0                           JUMP Z, 0E0[upd_aliens_y_4]
 09B  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 09C  0DFE0                           TEST sF[scratch], E0
 09D  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 09E  0FFE0                           TESTCY sF[scratch], E0
 09F  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 0A0  0FFE0                           TESTCY sF[scratch], E0
 0A1  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 0A2  0FFE0                           TESTCY sF[scratch], E0
 0A3  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 0A4  0FFE0                           TESTCY sF[scratch], E0
 0A5  320DC                           JUMP Z, 0DC[upd_aliens_y_3]
 0A6  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 0A7  0DFC0                           TEST sF[scratch], C0
 0A8  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 0A9  0FFC0                           TESTCY sF[scratch], C0
 0AA  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 0AB  0FFC0                           TESTCY sF[scratch], C0
 0AC  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 0AD  0FFC0                           TESTCY sF[scratch], C0
 0AE  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 0AF  0FFC0                           TESTCY sF[scratch], C0
 0B0  320D8                           JUMP Z, 0D8[upd_aliens_y_2]
 0B1  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 0B2  0DF80                           TEST sF[scratch], 80
 0B3  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 0B4  0FF80                           TESTCY sF[scratch], 80
 0B5  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 0B6  0FF80                           TESTCY sF[scratch], 80
 0B7  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 0B8  0FF80                           TESTCY sF[scratch], 80
 0B9  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 0BA  0FF80                           TESTCY sF[scratch], 80
 0BB  320D4                           JUMP Z, 0D4[upd_aliens_y_1]
 0BC  220D0                           JUMP 0D0[upd_aliens_y_0]
 0BD                 upd_aliens_cont: 
 0BD  0BF01                           FETCH sF[scratch], 01[alien_y]
 0BE  0DF01                           TEST sF[scratch], 01
 0BF  3C104                           CALL NC, 104[upd_aliens_x_left]
 0C0  38100                           CALL C, 100[upd_aliens_x_right]
 0C1  0BF01                           FETCH sF[scratch], 01[alien_y]
 0C2  1DFBE                           COMPARE sF[scratch], BE
 0C3  32461                           JUMP Z, 461[goto_gameend]
 0C4  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 0C5  1DF00                           COMPARE sF[scratch], 00
 0C6  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 0C7  1FF00                           COMPARECY sF[scratch], 00
 0C8  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 0C9  1FF00                           COMPARECY sF[scratch], 00
 0CA  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 0CB  1FF00                           COMPARECY sF[scratch], 00
 0CC  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 0CD  1FF00                           COMPARECY sF[scratch], 00
 0CE  32461                           JUMP Z, 461[goto_gameend]                  ; end the game if aliens reach end
 0CF  25000                           RETURN 
 0D0                  upd_aliens_y_0: 
 0D0  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0D1  1DF87                           COMPARE sF[scratch], 87                    ; compare and check if at end
 0D2  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0D3  220BD                           JUMP 0BD[upd_aliens_cont]
 0D4                  upd_aliens_y_1: 
 0D4  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0D5  1DF97                           COMPARE sF[scratch], 97                    ; compare and check if at end
 0D6  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0D7  220BD                           JUMP 0BD[upd_aliens_cont]
 0D8                  upd_aliens_y_2: 
 0D8  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0D9  1DFA7                           COMPARE sF[scratch], A7                    ; compare and check if at end
 0DA  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0DB  220BD                           JUMP 0BD[upd_aliens_cont]
 0DC                  upd_aliens_y_3: 
 0DC  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0DD  1DFB7                           COMPARE sF[scratch], B7                    ; compare and check if at end
 0DE  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0DF  220BD                           JUMP 0BD[upd_aliens_cont]
 0E0                  upd_aliens_y_4: 
 0E0  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0E1  1DFC7                           COMPARE sF[scratch], C7                    ; compare and check if at end
 0E2  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0E3  220BD                           JUMP 0BD[upd_aliens_cont]
 0E4                  upd_aliens_y_5: 
 0E4  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0E5  1DFD7                           COMPARE sF[scratch], D7                    ; compare and check if at end
 0E6  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0E7  220BD                           JUMP 0BD[upd_aliens_cont]
 0E8                  upd_aliens_y_6: 
 0E8  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0E9  1DFE7                           COMPARE sF[scratch], E7                    ; compare and check if at end
 0EA  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0EB  220BD                           JUMP 0BD[upd_aliens_cont]
 0EC                  upd_aliens_y_7: 
 0EC  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 0ED  1DFF7                           COMPARE sF[scratch], F7                    ; compare and check if at end
 0EE  30108                           CALL Z, 108[upd_aliens_y]                  ; if at end add one to y position
 0EF  220BD                           JUMP 0BD[upd_aliens_cont]
 0F0                  alien_hp_shift: 
 0F0  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 0F1  14F0E                           SR0 sF[scratch]
 0F2  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 0F3  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 0F4  14F0E                           SR0 sF[scratch]
 0F5  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 0F6  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 0F7  14F0E                           SR0 sF[scratch]
 0F8  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 0F9  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 0FA  14F0E                           SR0 sF[scratch]
 0FB  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 0FC  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 0FD  14F0E                           SR0 sF[scratch]
 0FE  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 0FF  25000                           RETURN 
 100              upd_aliens_x_right: 
 100  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 101  11F01                           ADD sF[scratch], 01[one]                   ; adds one to scratch
 102  2FF00                           STORE sF[scratch], 00[alien_x]             ; store scratch back into alien x position
 103  25000                           RETURN 
 104               upd_aliens_x_left: 
 104  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 105  19F01                           SUB sF[scratch], 01[one]                   ; sub one to scratch
 106  2FF00                           STORE sF[scratch], 00[alien_x]             ; store scratch back into alien x position
 107  25000                           RETURN 
 108                    upd_aliens_y: 
 108  0BF01                           FETCH sF[scratch], 01[alien_y]             ; store alien y position to scratch
 109  11F05                           ADD sF[scratch], 05                        ; adds one to scratch
 10A  2FF01                           STORE sF[scratch], 01[alien_y]             ; store scratch back into alien y position
 10B  25000                           RETURN 
 10C                        upd_tank: 
 10C  01F00                           LOAD sF[scratch], 00[zero]                 ; update tank position
 10D  0DD02                           TEST sD[btnsamp], 02[buttons_lf]
 10E  1BF00                           SUBCY sF[scratch], 00[zero]
 10F  0DD01                           TEST sD[btnsamp], 01[buttons_rt]
 110  13F00                           ADDCY sF[scratch], 00[zero]
 111  1DFFF                           COMPARE sF[scratch], FF[minusone]
 112  3011B                           CALL Z, 11B[upd_tank_lt]
 113  1DF01                           COMPARE sF[scratch], 01[one]
 114  3011F                           CALL Z, 11F[upd_tank_rt]
 115  1DB00                           COMPARE sB[tbullet_en], 00[zero]           ; if bullet enable is 0, update unshot bullet x position
 116  35000                           RETURN NZ                                  ; if bullet enable is 1, do not update bullet x position
 117  00F50                           LOAD sF[scratch], s5[gs_tankx]             ; update unshot bullet x position
 118  11F08                           ADD sF[scratch], 08
 119  002F0                           LOAD s2[gs_tbulletx], sF[scratch]
 11A  25000                           RETURN 
 11B                     upd_tank_lt: 
 11B  19502                           SUB s5[gs_tankx], 02[gs_tank_speed]
 11C  3D000                           RETURN NC
 11D  01500                           LOAD s5[gs_tankx], 00[zero]
 11E  25000                           RETURN 
 11F                     upd_tank_rt: 
 11F  11502                           ADD s5[gs_tankx], 02[gs_tank_speed]
 120  00F50                           LOAD sF[scratch], s5[gs_tankx]
 121  11F10                           ADD sF[scratch], 10[gs_tank_xdim]
 122  3D000                           RETURN NC
 123  015FF                           LOAD s5[gs_tankx], FF[minusone]
 124  19510                           SUB s5[gs_tankx], 10[gs_tank_xdim]
 125  25000                           RETURN 
 126                 load_tbullet_en: 
 126  01B01                           LOAD sB[tbullet_en], 01[one]               ; enable bullet enable
 127  25000                           RETURN 
 128                     upd_tbullet: 
 128  01E08                           LOAD sE[loopvar], 08[gs_tbullet_speed]     ; loop for bullety moving up
 129                upd_tbullet_loop: 
 129  19E01                           SUB sE[loopvar], 01[one]
 12A  39000                           RETURN C                                   ; needed for some reason I do not know... yet
 12B  19301                           SUB s3[gs_tbullety], 01[one]
 12C  32145                           JUMP Z, 145[reset_tbullet]
 12D  1D6FF                           COMPARE s6[shieldshp], FF
 12E  32144                           JUMP Z, 144[restart_upd_bullet_loop]
 12F  1D3D0                           COMPARE s3[gs_tbullety], D0[shieldy]
 130  32355                           JUMP Z, 355[check_shield]
 131  0BF01                           FETCH sF[scratch], 01[alien_y]
 132  11F20                           ADD sF[scratch], 20
 133  1C3F0                           COMPARE s3[gs_tbullety], sF[scratch]
 134  3214D                           JUMP Z, 14D[check_alien_5_hp]
 135  0BF01                           FETCH sF[scratch], 01[alien_y]
 136  11F18                           ADD sF[scratch], 18
 137  1C3F0                           COMPARE s3[gs_tbullety], sF[scratch]
 138  321B5                           JUMP Z, 1B5[check_alien_4_hp]
 139  0BF01                           FETCH sF[scratch], 01[alien_y]
 13A  11F10                           ADD sF[scratch], 10
 13B  1C3F0                           COMPARE s3[gs_tbullety], sF[scratch]
 13C  3221D                           JUMP Z, 21D[check_alien_3_hp]
 13D  0BF01                           FETCH sF[scratch], 01[alien_y]
 13E  11F08                           ADD sF[scratch], 08
 13F  1C3F0                           COMPARE s3[gs_tbullety], sF[scratch]
 140  32285                           JUMP Z, 285[check_alien_2_hp]
 141  0BF01                           FETCH sF[scratch], 01[alien_y]
 142  1C3F0                           COMPARE s3[gs_tbullety], sF[scratch]
 143  322ED                           JUMP Z, 2ED[check_alien_1_hp]
 144         restart_upd_bullet_loop: 
 144  22129                           JUMP 129[upd_tbullet_loop]
 145                   reset_tbullet: ; reload bullet position when it hits something
 145  00F50                           LOAD sF[scratch], s5[gs_tankx]
 146  11F08                           ADD sF[scratch], 08
 147  002F0                           LOAD s2[gs_tbulletx], sF[scratch]
 148  01FF4                           LOAD sF[scratch], F4[gs_tanky]
 149  19F03                           SUB sF[scratch], 03
 14A  003F0                           LOAD s3[gs_tbullety], sF[scratch]
 14B  01B00                           LOAD sB[tbullet_en], 00[zero]
 14C  25000                           RETURN 
 14D                check_alien_5_hp: 
 14D  0BF00                           FETCH sF[scratch], 00[alien_x]
 14E  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 14F  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 150  11F08                           ADD sF[scratch], 08[alien_x_dim]
 151  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 152  3E185                           JUMP NC, 185[check_alien_5_hp_1]
 153  0BF00                           FETCH sF[scratch], 00[alien_x]
 154  11F10                           ADD sF[scratch], 10
 155  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 156  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 157  11F08                           ADD sF[scratch], 08[alien_x_dim]
 158  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 159  3E18B                           JUMP NC, 18B[check_alien_5_hp_2]
 15A  0BF00                           FETCH sF[scratch], 00[alien_x]
 15B  11F20                           ADD sF[scratch], 20
 15C  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 15D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 15E  11F08                           ADD sF[scratch], 08[alien_x_dim]
 15F  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 160  3E191                           JUMP NC, 191[check_alien_5_hp_3]
 161  0BF00                           FETCH sF[scratch], 00[alien_x]
 162  11F30                           ADD sF[scratch], 30
 163  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 164  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 165  11F08                           ADD sF[scratch], 08[alien_x_dim]
 166  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 167  3E197                           JUMP NC, 197[check_alien_5_hp_4]
 168  0BF00                           FETCH sF[scratch], 00[alien_x]
 169  11F40                           ADD sF[scratch], 40
 16A  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 16B  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 16C  11F08                           ADD sF[scratch], 08[alien_x_dim]
 16D  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 16E  3E19D                           JUMP NC, 19D[check_alien_5_hp_5]
 16F  0BF00                           FETCH sF[scratch], 00[alien_x]
 170  11F50                           ADD sF[scratch], 50
 171  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 172  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 173  11F08                           ADD sF[scratch], 08[alien_x_dim]
 174  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 175  3E1A3                           JUMP NC, 1A3[check_alien_5_hp_6]
 176  0BF00                           FETCH sF[scratch], 00[alien_x]
 177  11F60                           ADD sF[scratch], 60
 178  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 179  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 17A  11F08                           ADD sF[scratch], 08[alien_x_dim]
 17B  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 17C  3E1A9                           JUMP NC, 1A9[check_alien_5_hp_7]
 17D  0BF00                           FETCH sF[scratch], 00[alien_x]
 17E  11F70                           ADD sF[scratch], 70
 17F  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 180  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 181  11F08                           ADD sF[scratch], 08[alien_x_dim]
 182  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 183  3E1AF                           JUMP NC, 1AF[check_alien_5_hp_8]
 184  22144                           JUMP 144[restart_upd_bullet_loop]
 185              check_alien_5_hp_1: 
 185  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 186  0DF01                           TEST sF[scratch], 01
 187  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 188  07F01                           XOR sF[scratch], 01
 189  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 18A  22145                           JUMP 145[reset_tbullet]
 18B              check_alien_5_hp_2: 
 18B  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 18C  0DF02                           TEST sF[scratch], 02
 18D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 18E  07F02                           XOR sF[scratch], 02
 18F  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 190  22145                           JUMP 145[reset_tbullet]
 191              check_alien_5_hp_3: 
 191  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 192  0DF04                           TEST sF[scratch], 04
 193  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 194  07F04                           XOR sF[scratch], 04
 195  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 196  22145                           JUMP 145[reset_tbullet]
 197              check_alien_5_hp_4: 
 197  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 198  0DF08                           TEST sF[scratch], 08
 199  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 19A  07F08                           XOR sF[scratch], 08
 19B  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 19C  22145                           JUMP 145[reset_tbullet]
 19D              check_alien_5_hp_5: 
 19D  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 19E  0DF10                           TEST sF[scratch], 10
 19F  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1A0  07F10                           XOR sF[scratch], 10
 1A1  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 1A2  22145                           JUMP 145[reset_tbullet]
 1A3              check_alien_5_hp_6: 
 1A3  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 1A4  0DF20                           TEST sF[scratch], 20
 1A5  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1A6  07F20                           XOR sF[scratch], 20
 1A7  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 1A8  22145                           JUMP 145[reset_tbullet]
 1A9              check_alien_5_hp_7: 
 1A9  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 1AA  0DF40                           TEST sF[scratch], 40
 1AB  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1AC  07F40                           XOR sF[scratch], 40
 1AD  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 1AE  22145                           JUMP 145[reset_tbullet]
 1AF              check_alien_5_hp_8: 
 1AF  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 1B0  0DF80                           TEST sF[scratch], 80
 1B1  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1B2  07F80                           XOR sF[scratch], 80
 1B3  2FF06                           STORE sF[scratch], 06[alien_5_hp]
 1B4  22145                           JUMP 145[reset_tbullet]
 1B5                check_alien_4_hp: 
 1B5  0BF00                           FETCH sF[scratch], 00[alien_x]
 1B6  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1B7  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1B8  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1B9  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1BA  3E1ED                           JUMP NC, 1ED[check_alien_4_hp_1]
 1BB  0BF00                           FETCH sF[scratch], 00[alien_x]
 1BC  11F10                           ADD sF[scratch], 10
 1BD  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1BE  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1BF  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1C0  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1C1  3E1F3                           JUMP NC, 1F3[check_alien_4_hp_2]
 1C2  0BF00                           FETCH sF[scratch], 00[alien_x]
 1C3  11F20                           ADD sF[scratch], 20
 1C4  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1C5  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1C6  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1C7  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1C8  3E1F9                           JUMP NC, 1F9[check_alien_4_hp_3]
 1C9  0BF00                           FETCH sF[scratch], 00[alien_x]
 1CA  11F30                           ADD sF[scratch], 30
 1CB  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1CC  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1CD  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1CE  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1CF  3E1FF                           JUMP NC, 1FF[check_alien_4_hp_4]
 1D0  0BF00                           FETCH sF[scratch], 00[alien_x]
 1D1  11F40                           ADD sF[scratch], 40
 1D2  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1D3  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1D4  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1D5  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1D6  3E205                           JUMP NC, 205[check_alien_4_hp_5]
 1D7  0BF00                           FETCH sF[scratch], 00[alien_x]
 1D8  11F50                           ADD sF[scratch], 50
 1D9  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1DA  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1DB  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1DC  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1DD  3E20B                           JUMP NC, 20B[check_alien_4_hp_6]
 1DE  0BF00                           FETCH sF[scratch], 00[alien_x]
 1DF  11F60                           ADD sF[scratch], 60
 1E0  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1E1  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1E2  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1E3  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1E4  3E211                           JUMP NC, 211[check_alien_4_hp_7]
 1E5  0BF00                           FETCH sF[scratch], 00[alien_x]
 1E6  11F70                           ADD sF[scratch], 70
 1E7  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1E8  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1E9  11F08                           ADD sF[scratch], 08[alien_x_dim]
 1EA  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 1EB  3E217                           JUMP NC, 217[check_alien_4_hp_8]
 1EC  22144                           JUMP 144[restart_upd_bullet_loop]
 1ED              check_alien_4_hp_1: 
 1ED  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 1EE  0DF01                           TEST sF[scratch], 01
 1EF  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1F0  07F01                           XOR sF[scratch], 01
 1F1  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 1F2  22145                           JUMP 145[reset_tbullet]
 1F3              check_alien_4_hp_2: 
 1F3  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 1F4  0DF02                           TEST sF[scratch], 02
 1F5  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1F6  07F02                           XOR sF[scratch], 02
 1F7  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 1F8  22145                           JUMP 145[reset_tbullet]
 1F9              check_alien_4_hp_3: 
 1F9  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 1FA  0DF04                           TEST sF[scratch], 04
 1FB  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 1FC  07F04                           XOR sF[scratch], 04
 1FD  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 1FE  22145                           JUMP 145[reset_tbullet]
 1FF              check_alien_4_hp_4: 
 1FF  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 200  0DF08                           TEST sF[scratch], 08
 201  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 202  07F08                           XOR sF[scratch], 08
 203  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 204  22145                           JUMP 145[reset_tbullet]
 205              check_alien_4_hp_5: 
 205  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 206  0DF10                           TEST sF[scratch], 10
 207  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 208  07F10                           XOR sF[scratch], 10
 209  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 20A  22145                           JUMP 145[reset_tbullet]
 20B              check_alien_4_hp_6: 
 20B  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 20C  0DF20                           TEST sF[scratch], 20
 20D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 20E  07F20                           XOR sF[scratch], 20
 20F  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 210  22145                           JUMP 145[reset_tbullet]
 211              check_alien_4_hp_7: 
 211  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 212  0DF40                           TEST sF[scratch], 40
 213  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 214  07F40                           XOR sF[scratch], 40
 215  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 216  22145                           JUMP 145[reset_tbullet]
 217              check_alien_4_hp_8: 
 217  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 218  0DF80                           TEST sF[scratch], 80
 219  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 21A  07F80                           XOR sF[scratch], 80
 21B  2FF05                           STORE sF[scratch], 05[alien_4_hp]
 21C  22145                           JUMP 145[reset_tbullet]
 21D                check_alien_3_hp: 
 21D  0BF00                           FETCH sF[scratch], 00[alien_x]
 21E  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 21F  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 220  11F08                           ADD sF[scratch], 08[alien_x_dim]
 221  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 222  3E255                           JUMP NC, 255[check_alien_3_hp_1]
 223  0BF00                           FETCH sF[scratch], 00[alien_x]
 224  11F10                           ADD sF[scratch], 10
 225  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 226  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 227  11F08                           ADD sF[scratch], 08[alien_x_dim]
 228  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 229  3E25B                           JUMP NC, 25B[check_alien_3_hp_2]
 22A  0BF00                           FETCH sF[scratch], 00[alien_x]
 22B  11F20                           ADD sF[scratch], 20
 22C  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 22D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 22E  11F08                           ADD sF[scratch], 08[alien_x_dim]
 22F  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 230  3E261                           JUMP NC, 261[check_alien_3_hp_3]
 231  0BF00                           FETCH sF[scratch], 00[alien_x]
 232  11F30                           ADD sF[scratch], 30
 233  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 234  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 235  11F08                           ADD sF[scratch], 08[alien_x_dim]
 236  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 237  3E267                           JUMP NC, 267[check_alien_3_hp_4]
 238  0BF00                           FETCH sF[scratch], 00[alien_x]
 239  11F40                           ADD sF[scratch], 40
 23A  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 23B  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 23C  11F08                           ADD sF[scratch], 08[alien_x_dim]
 23D  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 23E  3E26D                           JUMP NC, 26D[check_alien_3_hp_5]
 23F  0BF00                           FETCH sF[scratch], 00[alien_x]
 240  11F50                           ADD sF[scratch], 50
 241  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 242  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 243  11F08                           ADD sF[scratch], 08[alien_x_dim]
 244  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 245  3E273                           JUMP NC, 273[check_alien_3_hp_6]
 246  0BF00                           FETCH sF[scratch], 00[alien_x]
 247  11F60                           ADD sF[scratch], 60
 248  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 249  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 24A  11F08                           ADD sF[scratch], 08[alien_x_dim]
 24B  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 24C  3E279                           JUMP NC, 279[check_alien_3_hp_7]
 24D  0BF00                           FETCH sF[scratch], 00[alien_x]
 24E  11F70                           ADD sF[scratch], 70
 24F  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 250  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 251  11F08                           ADD sF[scratch], 08[alien_x_dim]
 252  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 253  3E27F                           JUMP NC, 27F[check_alien_3_hp_8]
 254  22144                           JUMP 144[restart_upd_bullet_loop]
 255              check_alien_3_hp_1: 
 255  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 256  0DF01                           TEST sF[scratch], 01
 257  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 258  07F01                           XOR sF[scratch], 01
 259  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 25A  22145                           JUMP 145[reset_tbullet]
 25B              check_alien_3_hp_2: 
 25B  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 25C  0DF02                           TEST sF[scratch], 02
 25D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 25E  07F02                           XOR sF[scratch], 02
 25F  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 260  22145                           JUMP 145[reset_tbullet]
 261              check_alien_3_hp_3: 
 261  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 262  0DF04                           TEST sF[scratch], 04
 263  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 264  07F04                           XOR sF[scratch], 04
 265  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 266  22145                           JUMP 145[reset_tbullet]
 267              check_alien_3_hp_4: 
 267  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 268  0DF08                           TEST sF[scratch], 08
 269  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 26A  07F08                           XOR sF[scratch], 08
 26B  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 26C  22145                           JUMP 145[reset_tbullet]
 26D              check_alien_3_hp_5: 
 26D  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 26E  0DF10                           TEST sF[scratch], 10
 26F  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 270  07F10                           XOR sF[scratch], 10
 271  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 272  22145                           JUMP 145[reset_tbullet]
 273              check_alien_3_hp_6: 
 273  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 274  0DF20                           TEST sF[scratch], 20
 275  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 276  07F20                           XOR sF[scratch], 20
 277  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 278  22145                           JUMP 145[reset_tbullet]
 279              check_alien_3_hp_7: 
 279  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 27A  0DF40                           TEST sF[scratch], 40
 27B  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 27C  07F40                           XOR sF[scratch], 40
 27D  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 27E  22145                           JUMP 145[reset_tbullet]
 27F              check_alien_3_hp_8: 
 27F  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 280  0DF80                           TEST sF[scratch], 80
 281  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 282  07F80                           XOR sF[scratch], 80
 283  2FF04                           STORE sF[scratch], 04[alien_3_hp]
 284  22145                           JUMP 145[reset_tbullet]
 285                check_alien_2_hp: 
 285  0BF00                           FETCH sF[scratch], 00[alien_x]
 286  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 287  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 288  11F08                           ADD sF[scratch], 08[alien_x_dim]
 289  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 28A  3E2BD                           JUMP NC, 2BD[check_alien_2_hp_1]
 28B  0BF00                           FETCH sF[scratch], 00[alien_x]
 28C  11F10                           ADD sF[scratch], 10
 28D  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 28E  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 28F  11F08                           ADD sF[scratch], 08[alien_x_dim]
 290  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 291  3E2C3                           JUMP NC, 2C3[check_alien_2_hp_2]
 292  0BF00                           FETCH sF[scratch], 00[alien_x]
 293  11F20                           ADD sF[scratch], 20
 294  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 295  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 296  11F08                           ADD sF[scratch], 08[alien_x_dim]
 297  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 298  3E2C9                           JUMP NC, 2C9[check_alien_2_hp_3]
 299  0BF00                           FETCH sF[scratch], 00[alien_x]
 29A  11F30                           ADD sF[scratch], 30
 29B  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 29C  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 29D  11F08                           ADD sF[scratch], 08[alien_x_dim]
 29E  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 29F  3E2CF                           JUMP NC, 2CF[check_alien_2_hp_4]
 2A0  0BF00                           FETCH sF[scratch], 00[alien_x]
 2A1  11F40                           ADD sF[scratch], 40
 2A2  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2A3  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2A4  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2A5  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2A6  3E2D5                           JUMP NC, 2D5[check_alien_2_hp_5]
 2A7  0BF00                           FETCH sF[scratch], 00[alien_x]
 2A8  11F50                           ADD sF[scratch], 50
 2A9  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2AA  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2AB  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2AC  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2AD  3E2DB                           JUMP NC, 2DB[check_alien_2_hp_6]
 2AE  0BF00                           FETCH sF[scratch], 00[alien_x]
 2AF  11F60                           ADD sF[scratch], 60
 2B0  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2B1  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2B2  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2B3  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2B4  3E2E1                           JUMP NC, 2E1[check_alien_2_hp_7]
 2B5  0BF00                           FETCH sF[scratch], 00[alien_x]
 2B6  11F70                           ADD sF[scratch], 70
 2B7  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2B8  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2B9  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2BA  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2BB  3E2E7                           JUMP NC, 2E7[check_alien_2_hp_8]
 2BC  22144                           JUMP 144[restart_upd_bullet_loop]
 2BD              check_alien_2_hp_1: 
 2BD  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2BE  0DF01                           TEST sF[scratch], 01
 2BF  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2C0  07F01                           XOR sF[scratch], 01
 2C1  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2C2  22145                           JUMP 145[reset_tbullet]
 2C3              check_alien_2_hp_2: 
 2C3  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2C4  0DF02                           TEST sF[scratch], 02
 2C5  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2C6  07F02                           XOR sF[scratch], 02
 2C7  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2C8  22145                           JUMP 145[reset_tbullet]
 2C9              check_alien_2_hp_3: 
 2C9  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2CA  0DF04                           TEST sF[scratch], 04
 2CB  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2CC  07F04                           XOR sF[scratch], 04
 2CD  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2CE  22145                           JUMP 145[reset_tbullet]
 2CF              check_alien_2_hp_4: 
 2CF  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2D0  0DF08                           TEST sF[scratch], 08
 2D1  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2D2  07F08                           XOR sF[scratch], 08
 2D3  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2D4  22145                           JUMP 145[reset_tbullet]
 2D5              check_alien_2_hp_5: 
 2D5  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2D6  0DF10                           TEST sF[scratch], 10
 2D7  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2D8  07F10                           XOR sF[scratch], 10
 2D9  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2DA  22145                           JUMP 145[reset_tbullet]
 2DB              check_alien_2_hp_6: 
 2DB  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2DC  0DF20                           TEST sF[scratch], 20
 2DD  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2DE  07F20                           XOR sF[scratch], 20
 2DF  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2E0  22145                           JUMP 145[reset_tbullet]
 2E1              check_alien_2_hp_7: 
 2E1  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2E2  0DF40                           TEST sF[scratch], 40
 2E3  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2E4  07F40                           XOR sF[scratch], 40
 2E5  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2E6  22145                           JUMP 145[reset_tbullet]
 2E7              check_alien_2_hp_8: 
 2E7  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2E8  0DF80                           TEST sF[scratch], 80
 2E9  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2EA  07F80                           XOR sF[scratch], 80
 2EB  2FF03                           STORE sF[scratch], 03[alien_2_hp]
 2EC  22145                           JUMP 145[reset_tbullet]
 2ED                check_alien_1_hp: 
 2ED  0BF00                           FETCH sF[scratch], 00[alien_x]
 2EE  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2EF  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2F0  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2F1  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2F2  3E325                           JUMP NC, 325[check_alien_1_hp_1]
 2F3  0BF00                           FETCH sF[scratch], 00[alien_x]
 2F4  11F10                           ADD sF[scratch], 10
 2F5  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2F6  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2F7  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2F8  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2F9  3E32B                           JUMP NC, 32B[check_alien_1_hp_2]
 2FA  0BF00                           FETCH sF[scratch], 00[alien_x]
 2FB  11F20                           ADD sF[scratch], 20
 2FC  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 2FD  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 2FE  11F08                           ADD sF[scratch], 08[alien_x_dim]
 2FF  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 300  3E331                           JUMP NC, 331[check_alien_1_hp_3]
 301  0BF00                           FETCH sF[scratch], 00[alien_x]
 302  11F30                           ADD sF[scratch], 30
 303  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 304  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 305  11F08                           ADD sF[scratch], 08[alien_x_dim]
 306  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 307  3E337                           JUMP NC, 337[check_alien_1_hp_4]
 308  0BF00                           FETCH sF[scratch], 00[alien_x]
 309  11F40                           ADD sF[scratch], 40
 30A  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 30B  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 30C  11F08                           ADD sF[scratch], 08[alien_x_dim]
 30D  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 30E  3E33D                           JUMP NC, 33D[check_alien_1_hp_5]
 30F  0BF00                           FETCH sF[scratch], 00[alien_x]
 310  11F50                           ADD sF[scratch], 50
 311  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 312  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 313  11F08                           ADD sF[scratch], 08[alien_x_dim]
 314  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 315  3E343                           JUMP NC, 343[check_alien_1_hp_6]
 316  0BF00                           FETCH sF[scratch], 00[alien_x]
 317  11F60                           ADD sF[scratch], 60
 318  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 319  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 31A  11F08                           ADD sF[scratch], 08[alien_x_dim]
 31B  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 31C  3E349                           JUMP NC, 349[check_alien_1_hp_7]
 31D  0BF00                           FETCH sF[scratch], 00[alien_x]
 31E  11F70                           ADD sF[scratch], 70
 31F  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 320  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 321  11F08                           ADD sF[scratch], 08[alien_x_dim]
 322  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 323  3E34F                           JUMP NC, 34F[check_alien_1_hp_8]
 324  22144                           JUMP 144[restart_upd_bullet_loop]
 325              check_alien_1_hp_1: 
 325  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 326  0DF01                           TEST sF[scratch], 01
 327  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 328  07F01                           XOR sF[scratch], 01
 329  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 32A  22145                           JUMP 145[reset_tbullet]
 32B              check_alien_1_hp_2: 
 32B  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 32C  0DF02                           TEST sF[scratch], 02
 32D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 32E  07F02                           XOR sF[scratch], 02
 32F  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 330  22145                           JUMP 145[reset_tbullet]
 331              check_alien_1_hp_3: 
 331  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 332  0DF04                           TEST sF[scratch], 04
 333  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 334  07F04                           XOR sF[scratch], 04
 335  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 336  22145                           JUMP 145[reset_tbullet]
 337              check_alien_1_hp_4: 
 337  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 338  0DF08                           TEST sF[scratch], 08
 339  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 33A  07F08                           XOR sF[scratch], 08
 33B  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 33C  22145                           JUMP 145[reset_tbullet]
 33D              check_alien_1_hp_5: 
 33D  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 33E  0DF10                           TEST sF[scratch], 10
 33F  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 340  07F10                           XOR sF[scratch], 10
 341  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 342  22145                           JUMP 145[reset_tbullet]
 343              check_alien_1_hp_6: 
 343  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 344  0DF20                           TEST sF[scratch], 20
 345  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 346  07F20                           XOR sF[scratch], 20
 347  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 348  22145                           JUMP 145[reset_tbullet]
 349              check_alien_1_hp_7: 
 349  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 34A  0DF40                           TEST sF[scratch], 40
 34B  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 34C  07F40                           XOR sF[scratch], 40
 34D  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 34E  22145                           JUMP 145[reset_tbullet]
 34F              check_alien_1_hp_8: 
 34F  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 350  0DF80                           TEST sF[scratch], 80
 351  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 352  07F80                           XOR sF[scratch], 80
 353  2FF02                           STORE sF[scratch], 02[alien_1_hp]
 354  22145                           JUMP 145[reset_tbullet]
 355                    check_shield: ; check which shield region the bullet is in
 355  01F10                           LOAD sF[scratch], 10[shield1x]
 356  11F18                           ADD sF[scratch], 18[shieldxdim]
 357  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 358  3A366                           JUMP C, 366[check_shield1]
 359  01F52                           LOAD sF[scratch], 52[shield2x]
 35A  11F18                           ADD sF[scratch], 18[shieldxdim]
 35B  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 35C  3A371                           JUMP C, 371[check_shield2]
 35D  01F95                           LOAD sF[scratch], 95[shield3x]
 35E  11F18                           ADD sF[scratch], 18[shieldxdim]
 35F  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 360  3A37C                           JUMP C, 37C[check_shield3]
 361  01FD7                           LOAD sF[scratch], D7[shield4x]
 362  11F18                           ADD sF[scratch], 18[shieldxdim]
 363  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 364  3A387                           JUMP C, 387[check_shield4]
 365  22144                           JUMP 144[restart_upd_bullet_loop]
 366                   check_shield1: ; checks if the bullet hit shield 1
 366  00F60                           LOAD sF[scratch], s6[shieldshp]            ; disregard shield check if shield 1 HP is depleted
 367  05F3F                           OR sF[scratch], 3F[shield1dead_test]
 368  07FFF                           XOR sF[scratch], FF
 369  32144                           JUMP Z, 144[restart_upd_bullet_loop]
 36A  01F10                           LOAD sF[scratch], 10[shield1x]             ; checks bulletx with left game edge
 36B  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 36C  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 36D  01F10                           LOAD sF[scratch], 10[shield1x]             ; checks bulletx with shield 1
 36E  11F18                           ADD sF[scratch], 18[shieldxdim]
 36F  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 370  3E392                           JUMP NC, 392[shield1_hit]                  ; if hit, update shield 1 and bullet
 371                   check_shield2: ; checks if the bullet hit shield 2
 371  00F60                           LOAD sF[scratch], s6[shieldshp]            ; disregard shield check if shield 2 HP is depleted
 372  05FCF                           OR sF[scratch], CF[shield2dead_test]
 373  07FFF                           XOR sF[scratch], FF
 374  32144                           JUMP Z, 144[restart_upd_bullet_loop]
 375  01F52                           LOAD sF[scratch], 52[shield2x]             ; checks bulletx with gap between shield 1 and shield 2
 376  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 377  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 378  01F52                           LOAD sF[scratch], 52[shield2x]             ; checks bulletx with shield 2
 379  11F18                           ADD sF[scratch], 18[shieldxdim]
 37A  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 37B  3E399                           JUMP NC, 399[shield2_hit]                  ; if hit, update shield 2 and bullet
 37C                   check_shield3: ; checks if the bullet hit shield 3
 37C  00F60                           LOAD sF[scratch], s6[shieldshp]            ; disregard shield check if shield 3 HP is depleted
 37D  05FF3                           OR sF[scratch], F3[shield3dead_test]
 37E  07FFF                           XOR sF[scratch], FF
 37F  32144                           JUMP Z, 144[restart_upd_bullet_loop]
 380  01F95                           LOAD sF[scratch], 95[shield3x]             ; checks bulletx with gap between shield 2 and shield 3
 381  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 382  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 383  01F95                           LOAD sF[scratch], 95[shield3x]             ; checks bulletx with shield 3
 384  11F18                           ADD sF[scratch], 18[shieldxdim]
 385  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 386  3E3A0                           JUMP NC, 3A0[shield3_hit]                  ; if hit, update shield 3 and bullet
 387                   check_shield4: ; checks if the bullet hit shield 4
 387  00F60                           LOAD sF[scratch], s6[shieldshp]            ; disregard shield check if shield 4 HP is depleted
 388  05FFC                           OR sF[scratch], FC[shield4dead_test]
 389  07FFF                           XOR sF[scratch], FF
 38A  32144                           JUMP Z, 144[restart_upd_bullet_loop]
 38B  01FD7                           LOAD sF[scratch], D7[shield4x]             ; checks bulletx with gap between shield 3 and shield 4
 38C  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 38D  3E144                           JUMP NC, 144[restart_upd_bullet_loop]
 38E  01FD7                           LOAD sF[scratch], D7[shield4x]             ; checks bulletx with shield 4
 38F  11F18                           ADD sF[scratch], 18[shieldxdim]
 390  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 391  3E3A7                           JUMP NC, 3A7[shield4_hit]                  ; if hit, update shield 4 and bullet
 392                     shield1_hit: 
 392  00F60                           LOAD sF[scratch], s6[shieldshp]            ; check if shield 1 HP is depleted
 393  05F3F                           OR sF[scratch], 3F[shield1dead_test]
 394  07FFF                           XOR sF[scratch], FF
 395  32145                           JUMP Z, 145[reset_tbullet]
 396  01F40                           LOAD sF[scratch], 40[shield1hit]
 397  106F0                           ADD s6[shieldshp], sF[scratch]
 398  22145                           JUMP 145[reset_tbullet]
 399                     shield2_hit: 
 399  00F60                           LOAD sF[scratch], s6[shieldshp]            ; check if shield 2 HP is depleted
 39A  05FCF                           OR sF[scratch], CF[shield2dead_test]
 39B  07FFF                           XOR sF[scratch], FF
 39C  32145                           JUMP Z, 145[reset_tbullet]
 39D  01F10                           LOAD sF[scratch], 10[shield2hit]
 39E  106F0                           ADD s6[shieldshp], sF[scratch]
 39F  22145                           JUMP 145[reset_tbullet]
 3A0                     shield3_hit: 
 3A0  00F60                           LOAD sF[scratch], s6[shieldshp]            ; check if shield 3 HP is depleted
 3A1  05FF3                           OR sF[scratch], F3[shield3dead_test]
 3A2  07FFF                           XOR sF[scratch], FF
 3A3  32145                           JUMP Z, 145[reset_tbullet]
 3A4  01F04                           LOAD sF[scratch], 04[shield3hit]
 3A5  106F0                           ADD s6[shieldshp], sF[scratch]
 3A6  22145                           JUMP 145[reset_tbullet]
 3A7                     shield4_hit: 
 3A7  00F60                           LOAD sF[scratch], s6[shieldshp]            ; check if shield 4 HP is depleted
 3A8  05FFC                           OR sF[scratch], FC[shield4dead_test]
 3A9  07FFF                           XOR sF[scratch], FF
 3AA  32145                           JUMP Z, 145[reset_tbullet]
 3AB  01F01                           LOAD sF[scratch], 01[shield4hit]
 3AC  106F0                           ADD s6[shieldshp], sF[scratch]
 3AD  22145                           JUMP 145[reset_tbullet]
 3AE                     upd_shields: 
 3AE  00F60                           LOAD sF[scratch], s6[shieldshp]
 3AF  05F3F                           OR sF[scratch], 3F[shield1dead_test]
 3B0  07FFF                           XOR sF[scratch], FF
 3B1  343BF                           CALL NZ, 3BF[draw_shield1_full]
 3B2  00F60                           LOAD sF[scratch], s6[shieldshp]
 3B3  05FCF                           OR sF[scratch], CF[shield2dead_test]
 3B4  07FFF                           XOR sF[scratch], FF
 3B5  343E5                           CALL NZ, 3E5[draw_shield2_full]
 3B6  00F60                           LOAD sF[scratch], s6[shieldshp]
 3B7  05FF3                           OR sF[scratch], F3[shield3dead_test]
 3B8  07FFF                           XOR sF[scratch], FF
 3B9  3440B                           CALL NZ, 40B[draw_shield3_full]
 3BA  00F60                           LOAD sF[scratch], s6[shieldshp]
 3BB  05FFC                           OR sF[scratch], FC[shield4dead_test]
 3BC  07FFF                           XOR sF[scratch], FF
 3BD  34431                           CALL NZ, 431[draw_shield4_full]
 3BE  25000                           RETURN 
 3BF               draw_shield1_full: 
 3BF  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1
 3C0  01AD0                           LOAD sA[ypos], D0[shieldy]
 3C1  207E2                           CALL 7E2[moveto]
 3C2  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 1
 3C3  01AD0                           LOAD sA[ypos], D0[shieldy]
 3C4  19A14                           SUB sA[ypos], 14[shieldydim]
 3C5  207E5                           CALL 7E5[drawto]
 3C6  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 2
 3C7  01AD0                           LOAD sA[ypos], D0[shieldy]
 3C8  11918                           ADD s9[xpos], 18[shieldxdim]
 3C9  19A14                           SUB sA[ypos], 14[shieldydim]
 3CA  207E5                           CALL 7E5[drawto]
 3CB  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 3
 3CC  01AD0                           LOAD sA[ypos], D0[shieldy]
 3CD  11918                           ADD s9[xpos], 18[shieldxdim]
 3CE  207E5                           CALL 7E5[drawto]
 3CF  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 4
 3D0  01AD0                           LOAD sA[ypos], D0[shieldy]
 3D1  1190F                           ADD s9[xpos], 0F
 3D2  207E5                           CALL 7E5[drawto]
 3D3  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 5
 3D4  01AD0                           LOAD sA[ypos], D0[shieldy]
 3D5  1190F                           ADD s9[xpos], 0F
 3D6  19A06                           SUB sA[ypos], 06
 3D7  207E5                           CALL 7E5[drawto]
 3D8  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 6
 3D9  01AD0                           LOAD sA[ypos], D0[shieldy]
 3DA  11909                           ADD s9[xpos], 09
 3DB  19A06                           SUB sA[ypos], 06
 3DC  207E5                           CALL 7E5[drawto]
 3DD  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 7
 3DE  01AD0                           LOAD sA[ypos], D0[shieldy]
 3DF  11909                           ADD s9[xpos], 09
 3E0  207E5                           CALL 7E5[drawto]
 3E1  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 8
 3E2  01AD0                           LOAD sA[ypos], D0[shieldy]
 3E3  207E5                           CALL 7E5[drawto]
 3E4  25000                           RETURN 
 3E5               draw_shield2_full: 
 3E5  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2
 3E6  01AD0                           LOAD sA[ypos], D0[shieldy]
 3E7  207E2                           CALL 7E2[moveto]
 3E8  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 1
 3E9  01AD0                           LOAD sA[ypos], D0[shieldy]
 3EA  19A14                           SUB sA[ypos], 14[shieldydim]
 3EB  207E5                           CALL 7E5[drawto]
 3EC  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 2
 3ED  01AD0                           LOAD sA[ypos], D0[shieldy]
 3EE  11918                           ADD s9[xpos], 18[shieldxdim]
 3EF  19A14                           SUB sA[ypos], 14[shieldydim]
 3F0  207E5                           CALL 7E5[drawto]
 3F1  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 3
 3F2  01AD0                           LOAD sA[ypos], D0[shieldy]
 3F3  11918                           ADD s9[xpos], 18[shieldxdim]
 3F4  207E5                           CALL 7E5[drawto]
 3F5  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 4
 3F6  01AD0                           LOAD sA[ypos], D0[shieldy]
 3F7  1190F                           ADD s9[xpos], 0F
 3F8  207E5                           CALL 7E5[drawto]
 3F9  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 5
 3FA  01AD0                           LOAD sA[ypos], D0[shieldy]
 3FB  1190F                           ADD s9[xpos], 0F
 3FC  19A06                           SUB sA[ypos], 06
 3FD  207E5                           CALL 7E5[drawto]
 3FE  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 6
 3FF  01AD0                           LOAD sA[ypos], D0[shieldy]
 400  11909                           ADD s9[xpos], 09
 401  19A06                           SUB sA[ypos], 06
 402  207E5                           CALL 7E5[drawto]
 403  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 7
 404  01AD0                           LOAD sA[ypos], D0[shieldy]
 405  11909                           ADD s9[xpos], 09
 406  207E5                           CALL 7E5[drawto]
 407  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 8
 408  01AD0                           LOAD sA[ypos], D0[shieldy]
 409  207E5                           CALL 7E5[drawto]
 40A  25000                           RETURN 
 40B               draw_shield3_full: 
 40B  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3
 40C  01AD0                           LOAD sA[ypos], D0[shieldy]
 40D  207E2                           CALL 7E2[moveto]
 40E  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 1
 40F  01AD0                           LOAD sA[ypos], D0[shieldy]
 410  19A14                           SUB sA[ypos], 14[shieldydim]
 411  207E5                           CALL 7E5[drawto]
 412  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 2
 413  01AD0                           LOAD sA[ypos], D0[shieldy]
 414  11918                           ADD s9[xpos], 18[shieldxdim]
 415  19A14                           SUB sA[ypos], 14[shieldydim]
 416  207E5                           CALL 7E5[drawto]
 417  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 3
 418  01AD0                           LOAD sA[ypos], D0[shieldy]
 419  11918                           ADD s9[xpos], 18[shieldxdim]
 41A  207E5                           CALL 7E5[drawto]
 41B  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 4
 41C  01AD0                           LOAD sA[ypos], D0[shieldy]
 41D  1190F                           ADD s9[xpos], 0F
 41E  207E5                           CALL 7E5[drawto]
 41F  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 5
 420  01AD0                           LOAD sA[ypos], D0[shieldy]
 421  1190F                           ADD s9[xpos], 0F
 422  19A06                           SUB sA[ypos], 06
 423  207E5                           CALL 7E5[drawto]
 424  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 6
 425  01AD0                           LOAD sA[ypos], D0[shieldy]
 426  11909                           ADD s9[xpos], 09
 427  19A06                           SUB sA[ypos], 06
 428  207E5                           CALL 7E5[drawto]
 429  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 7
 42A  01AD0                           LOAD sA[ypos], D0[shieldy]
 42B  11909                           ADD s9[xpos], 09
 42C  207E5                           CALL 7E5[drawto]
 42D  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 8
 42E  01AD0                           LOAD sA[ypos], D0[shieldy]
 42F  207E5                           CALL 7E5[drawto]
 430  25000                           RETURN 
 431               draw_shield4_full: 
 431  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4
 432  01AD0                           LOAD sA[ypos], D0[shieldy]
 433  207E2                           CALL 7E2[moveto]
 434  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 1
 435  01AD0                           LOAD sA[ypos], D0[shieldy]
 436  19A14                           SUB sA[ypos], 14[shieldydim]
 437  207E5                           CALL 7E5[drawto]
 438  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 2
 439  01AD0                           LOAD sA[ypos], D0[shieldy]
 43A  11918                           ADD s9[xpos], 18[shieldxdim]
 43B  19A14                           SUB sA[ypos], 14[shieldydim]
 43C  207E5                           CALL 7E5[drawto]
 43D  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 3
 43E  01AD0                           LOAD sA[ypos], D0[shieldy]
 43F  11918                           ADD s9[xpos], 18[shieldxdim]
 440  207E5                           CALL 7E5[drawto]
 441  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 4
 442  01AD0                           LOAD sA[ypos], D0[shieldy]
 443  1190F                           ADD s9[xpos], 0F
 444  207E5                           CALL 7E5[drawto]
 445  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 5
 446  01AD0                           LOAD sA[ypos], D0[shieldy]
 447  1190F                           ADD s9[xpos], 0F
 448  19A06                           SUB sA[ypos], 06
 449  207E5                           CALL 7E5[drawto]
 44A  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 6
 44B  01AD0                           LOAD sA[ypos], D0[shieldy]
 44C  11909                           ADD s9[xpos], 09
 44D  19A06                           SUB sA[ypos], 06
 44E  207E5                           CALL 7E5[drawto]
 44F  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 7
 450  01AD0                           LOAD sA[ypos], D0[shieldy]
 451  11909                           ADD s9[xpos], 09
 452  207E5                           CALL 7E5[drawto]
 453  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 8
 454  01AD0                           LOAD sA[ypos], D0[shieldy]
 455  207E5                           CALL 7E5[drawto]
 456  25000                           RETURN 
 457                    calc_gameend: 
 457  1D13C                           COMPARE s1[gs_minor], 3C[gs_minor_onesec]
 458  3245B                           JUMP Z, 45B[goto_attrone]
 459  11101                           ADD s1[gs_minor], 01[one]
 45A  25000                           RETURN 
 45B                    goto_attrone: 
 45B  01000                           LOAD s0[gs_major], 00[gs_major_attrone]
 45C  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 45D  25000                           RETURN 
 45E                    goto_attrtwo: 
 45E  01001                           LOAD s0[gs_major], 01[gs_major_attrtwo]
 45F  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 460  25000                           RETURN 
 461                    goto_gameend: 
 461  01003                           LOAD s0[gs_major], 03[gs_major_gameend]
 462  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 463  25000                           RETURN 
 464                                  ;;============================================================================
 464                                  ;; Subroutine: draw_gs
 464                                  ;; This uses the current game state as input, and draws it on the display.
 464                                  ;; This subroutine calls an example of how to output debug or diagnostic info
 464                                  ;; using the leds.  The call to the draw_gs_debug routine (and draw_gs_debug
 464                                  ;; routine itself) can be entirely remove as it is required to play the game.
 464                                  ;;============================================================================
 464                         draw_gs: 
 464  2046E                           CALL 46E[draw_gs_debug]                    ; for debug info display
 465  1D000                           COMPARE s0[gs_major], 00[gs_major_attrone] ; are we in attrone?
 466  32471                           JUMP Z, 471[draw_attrone]                  ; do drawing for attrone
 467  1D001                           COMPARE s0[gs_major], 01[gs_major_attrtwo] ; are we in attrtwo?
 468  324AE                           JUMP Z, 4AE[draw_attrtwo]                  ; do drawing for attrtwo
 469  1D002                           COMPARE s0[gs_major], 02[gs_major_playing] ; are we in playing?
 46A  324CA                           JUMP Z, 4CA[draw_playing]                  ; do drawing for playing
 46B  1D003                           COMPARE s0[gs_major], 03[gs_major_gameend] ; are we in gameend?
 46C  327A8                           JUMP Z, 7A8[draw_gameend]                  ; do drawing for gameend
 46D  25000                           RETURN                                     ; return
 46E                   draw_gs_debug: 
 46E  2D009                           OUTPUT s0[gs_major], 09[leds_hi]           ; debug display on leds
 46F  2D108                           OUTPUT s1[gs_minor], 08[leds_lo]           ; debug display on leds
 470  25000                           RETURN                                     ; return
 471                    draw_attrone: 
 471  01928                           LOAD s9[xpos], 28                          ; draw letter b
 472  01A50                           LOAD sA[ypos], 50
 473  207E2                           CALL 7E2[moveto]
 474  01928                           LOAD s9[xpos], 28
 475  01A90                           LOAD sA[ypos], 90
 476  207E5                           CALL 7E5[drawto]
 477  01948                           LOAD s9[xpos], 48
 478  01A90                           LOAD sA[ypos], 90
 479  207E5                           CALL 7E5[drawto]
 47A  01948                           LOAD s9[xpos], 48
 47B  01A70                           LOAD sA[ypos], 70
 47C  207E5                           CALL 7E5[drawto]
 47D  01928                           LOAD s9[xpos], 28
 47E  01A70                           LOAD sA[ypos], 70
 47F  207E5                           CALL 7E5[drawto]
 480  01958                           LOAD s9[xpos], 58                          ; draw letter o
 481  01A70                           LOAD sA[ypos], 70
 482  207E2                           CALL 7E2[moveto]
 483  01958                           LOAD s9[xpos], 58
 484  01A90                           LOAD sA[ypos], 90
 485  207E5                           CALL 7E5[drawto]
 486  01978                           LOAD s9[xpos], 78
 487  01A90                           LOAD sA[ypos], 90
 488  207E5                           CALL 7E5[drawto]
 489  01978                           LOAD s9[xpos], 78
 48A  01A70                           LOAD sA[ypos], 70
 48B  207E5                           CALL 7E5[drawto]
 48C  01958                           LOAD s9[xpos], 58
 48D  01A70                           LOAD sA[ypos], 70
 48E  207E5                           CALL 7E5[drawto]
 48F  01988                           LOAD s9[xpos], 88                          ; draw letter n
 490  01A90                           LOAD sA[ypos], 90
 491  207E2                           CALL 7E2[moveto]
 492  01988                           LOAD s9[xpos], 88
 493  01A70                           LOAD sA[ypos], 70
 494  207E5                           CALL 7E5[drawto]
 495  019A8                           LOAD s9[xpos], A8
 496  01A70                           LOAD sA[ypos], 70
 497  207E5                           CALL 7E5[drawto]
 498  019A8                           LOAD s9[xpos], A8
 499  01A90                           LOAD sA[ypos], 90
 49A  207E5                           CALL 7E5[drawto]
 49B  019B8                           LOAD s9[xpos], B8                          ; draw letter g
 49C  01AB0                           LOAD sA[ypos], B0
 49D  207E2                           CALL 7E2[moveto]
 49E  019D8                           LOAD s9[xpos], D8
 49F  01AB0                           LOAD sA[ypos], B0
 4A0  207E5                           CALL 7E5[drawto]
 4A1  019D8                           LOAD s9[xpos], D8
 4A2  01A70                           LOAD sA[ypos], 70
 4A3  207E5                           CALL 7E5[drawto]
 4A4  019B8                           LOAD s9[xpos], B8
 4A5  01A70                           LOAD sA[ypos], 70
 4A6  207E5                           CALL 7E5[drawto]
 4A7  019B8                           LOAD s9[xpos], B8
 4A8  01A90                           LOAD sA[ypos], 90
 4A9  207E5                           CALL 7E5[drawto]
 4AA  019D8                           LOAD s9[xpos], D8
 4AB  01A90                           LOAD sA[ypos], 90
 4AC  207E5                           CALL 7E5[drawto]
 4AD  25000                           RETURN 
 4AE                    draw_attrtwo: 
 4AE  01978                           LOAD s9[xpos], 78                          ; draw letter e
 4AF  01A90                           LOAD sA[ypos], 90
 4B0  207E2                           CALL 7E2[moveto]
 4B1  01958                           LOAD s9[xpos], 58
 4B2  01A90                           LOAD sA[ypos], 90
 4B3  207E5                           CALL 7E5[drawto]
 4B4  01958                           LOAD s9[xpos], 58
 4B5  01A70                           LOAD sA[ypos], 70
 4B6  207E5                           CALL 7E5[drawto]
 4B7  01978                           LOAD s9[xpos], 78
 4B8  01A70                           LOAD sA[ypos], 70
 4B9  207E5                           CALL 7E5[drawto]
 4BA  01958                           LOAD s9[xpos], 58
 4BB  01A90                           LOAD sA[ypos], 90
 4BC  207E5                           CALL 7E5[drawto]
 4BD  019A8                           LOAD s9[xpos], A8                          ; draw letter c
 4BE  01A70                           LOAD sA[ypos], 70
 4BF  207E2                           CALL 7E2[moveto]
 4C0  01988                           LOAD s9[xpos], 88
 4C1  01A70                           LOAD sA[ypos], 70
 4C2  207E5                           CALL 7E5[drawto]
 4C3  01988                           LOAD s9[xpos], 88
 4C4  01A90                           LOAD sA[ypos], 90
 4C5  207E5                           CALL 7E5[drawto]
 4C6  019A8                           LOAD s9[xpos], A8
 4C7  01A90                           LOAD sA[ypos], 90
 4C8  207E5                           CALL 7E5[drawto]
 4C9  25000                           RETURN 
 4CA                    draw_playing: 
 4CA  00920                           LOAD s9[xpos], s2[gs_tbulletx]             ; draw bullet
 4CB  00A30                           LOAD sA[ypos], s3[gs_tbullety]
 4CC  207E2                           CALL 7E2[moveto]
 4CD  00920                           LOAD s9[xpos], s2[gs_tbulletx]
 4CE  00A30                           LOAD sA[ypos], s3[gs_tbullety]
 4CF  11A05                           ADD sA[ypos], 05[gs_tbullet_ydim]
 4D0  207E5                           CALL 7E5[drawto]
 4D1  00950                           LOAD s9[xpos], s5[gs_tankx]                ; draw tank
 4D2  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 4D3  207E2                           CALL 7E2[moveto]
 4D4  00950                           LOAD s9[xpos], s5[gs_tankx]
 4D5  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 4D6  11A08                           ADD sA[ypos], 08[gs_tank_ydim]
 4D7  207E5                           CALL 7E5[drawto]
 4D8  00950                           LOAD s9[xpos], s5[gs_tankx]
 4D9  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 4DA  11910                           ADD s9[xpos], 10[gs_tank_xdim]
 4DB  11A08                           ADD sA[ypos], 08[gs_tank_ydim]
 4DC  207E5                           CALL 7E5[drawto]
 4DD  00950                           LOAD s9[xpos], s5[gs_tankx]
 4DE  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 4DF  11910                           ADD s9[xpos], 10[gs_tank_xdim]
 4E0  207E5                           CALL 7E5[drawto]
 4E1  00950                           LOAD s9[xpos], s5[gs_tankx]
 4E2  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 4E3  207E5                           CALL 7E5[drawto]
 4E4                    draw_alien_1: 
 4E4  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 4E5  0DF01                           TEST sF[scratch], 01
 4E6  3E4F4                           JUMP NC, 4F4[draw_alien_2]
 4E7  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 1 alien
 4E8  009F0                           LOAD s9[xpos], sF[scratch]
 4E9  0BF01                           FETCH sF[scratch], 01[alien_y]
 4EA  00AF0                           LOAD sA[ypos], sF[scratch]
 4EB  207E2                           CALL 7E2[moveto]
 4EC  11908                           ADD s9[xpos], 08[alien_x_dim]
 4ED  207E5                           CALL 7E5[drawto]
 4EE  11A02                           ADD sA[ypos], 02[alien_y_dim]
 4EF  207E5                           CALL 7E5[drawto]
 4F0  19908                           SUB s9[xpos], 08[alien_x_dim]
 4F1  207E5                           CALL 7E5[drawto]
 4F2  19A02                           SUB sA[ypos], 02[alien_y_dim]
 4F3  207E5                           CALL 7E5[drawto]
 4F4                    draw_alien_2: 
 4F4  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 4F5  0DF02                           TEST sF[scratch], 02
 4F6  3E505                           JUMP NC, 505[draw_alien_3]
 4F7  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 2 alien
 4F8  11F10                           ADD sF[scratch], 10
 4F9  009F0                           LOAD s9[xpos], sF[scratch]
 4FA  0BF01                           FETCH sF[scratch], 01[alien_y]
 4FB  00AF0                           LOAD sA[ypos], sF[scratch]
 4FC  207E2                           CALL 7E2[moveto]
 4FD  11908                           ADD s9[xpos], 08[alien_x_dim]
 4FE  207E5                           CALL 7E5[drawto]
 4FF  11A02                           ADD sA[ypos], 02[alien_y_dim]
 500  207E5                           CALL 7E5[drawto]
 501  19908                           SUB s9[xpos], 08[alien_x_dim]
 502  207E5                           CALL 7E5[drawto]
 503  19A02                           SUB sA[ypos], 02[alien_y_dim]
 504  207E5                           CALL 7E5[drawto]
 505                    draw_alien_3: 
 505  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 506  0DF04                           TEST sF[scratch], 04
 507  3E516                           JUMP NC, 516[draw_alien_4]
 508  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 3 alien
 509  11F20                           ADD sF[scratch], 20
 50A  009F0                           LOAD s9[xpos], sF[scratch]
 50B  0BF01                           FETCH sF[scratch], 01[alien_y]
 50C  00AF0                           LOAD sA[ypos], sF[scratch]
 50D  207E2                           CALL 7E2[moveto]
 50E  11908                           ADD s9[xpos], 08[alien_x_dim]
 50F  207E5                           CALL 7E5[drawto]
 510  11A02                           ADD sA[ypos], 02[alien_y_dim]
 511  207E5                           CALL 7E5[drawto]
 512  19908                           SUB s9[xpos], 08[alien_x_dim]
 513  207E5                           CALL 7E5[drawto]
 514  19A02                           SUB sA[ypos], 02[alien_y_dim]
 515  207E5                           CALL 7E5[drawto]
 516                    draw_alien_4: 
 516  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 517  0DF08                           TEST sF[scratch], 08
 518  3E527                           JUMP NC, 527[draw_alien_5]
 519  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 4 alien
 51A  11F30                           ADD sF[scratch], 30
 51B  009F0                           LOAD s9[xpos], sF[scratch]
 51C  0BF01                           FETCH sF[scratch], 01[alien_y]
 51D  00AF0                           LOAD sA[ypos], sF[scratch]
 51E  207E2                           CALL 7E2[moveto]
 51F  11908                           ADD s9[xpos], 08[alien_x_dim]
 520  207E5                           CALL 7E5[drawto]
 521  11A02                           ADD sA[ypos], 02[alien_y_dim]
 522  207E5                           CALL 7E5[drawto]
 523  19908                           SUB s9[xpos], 08[alien_x_dim]
 524  207E5                           CALL 7E5[drawto]
 525  19A02                           SUB sA[ypos], 02[alien_y_dim]
 526  207E5                           CALL 7E5[drawto]
 527                    draw_alien_5: 
 527  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 528  0DF10                           TEST sF[scratch], 10
 529  3E538                           JUMP NC, 538[draw_alien_6]
 52A  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 5 alien
 52B  11F40                           ADD sF[scratch], 40
 52C  009F0                           LOAD s9[xpos], sF[scratch]
 52D  0BF01                           FETCH sF[scratch], 01[alien_y]
 52E  00AF0                           LOAD sA[ypos], sF[scratch]
 52F  207E2                           CALL 7E2[moveto]
 530  11908                           ADD s9[xpos], 08[alien_x_dim]
 531  207E5                           CALL 7E5[drawto]
 532  11A02                           ADD sA[ypos], 02[alien_y_dim]
 533  207E5                           CALL 7E5[drawto]
 534  19908                           SUB s9[xpos], 08[alien_x_dim]
 535  207E5                           CALL 7E5[drawto]
 536  19A02                           SUB sA[ypos], 02[alien_y_dim]
 537  207E5                           CALL 7E5[drawto]
 538                    draw_alien_6: 
 538  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 539  0DF20                           TEST sF[scratch], 20
 53A  3E549                           JUMP NC, 549[draw_alien_7]
 53B  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 6 alien
 53C  11F50                           ADD sF[scratch], 50
 53D  009F0                           LOAD s9[xpos], sF[scratch]
 53E  0BF01                           FETCH sF[scratch], 01[alien_y]
 53F  00AF0                           LOAD sA[ypos], sF[scratch]
 540  207E2                           CALL 7E2[moveto]
 541  11908                           ADD s9[xpos], 08[alien_x_dim]
 542  207E5                           CALL 7E5[drawto]
 543  11A02                           ADD sA[ypos], 02[alien_y_dim]
 544  207E5                           CALL 7E5[drawto]
 545  19908                           SUB s9[xpos], 08[alien_x_dim]
 546  207E5                           CALL 7E5[drawto]
 547  19A02                           SUB sA[ypos], 02[alien_y_dim]
 548  207E5                           CALL 7E5[drawto]
 549                    draw_alien_7: 
 549  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 54A  0DF40                           TEST sF[scratch], 40
 54B  3E55A                           JUMP NC, 55A[draw_alien_8]
 54C  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 7 alien
 54D  11F60                           ADD sF[scratch], 60
 54E  009F0                           LOAD s9[xpos], sF[scratch]
 54F  0BF01                           FETCH sF[scratch], 01[alien_y]
 550  00AF0                           LOAD sA[ypos], sF[scratch]
 551  207E2                           CALL 7E2[moveto]
 552  11908                           ADD s9[xpos], 08[alien_x_dim]
 553  207E5                           CALL 7E5[drawto]
 554  11A02                           ADD sA[ypos], 02[alien_y_dim]
 555  207E5                           CALL 7E5[drawto]
 556  19908                           SUB s9[xpos], 08[alien_x_dim]
 557  207E5                           CALL 7E5[drawto]
 558  19A02                           SUB sA[ypos], 02[alien_y_dim]
 559  207E5                           CALL 7E5[drawto]
 55A                    draw_alien_8: 
 55A  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 55B  0DF80                           TEST sF[scratch], 80
 55C  3E56B                           JUMP NC, 56B[draw_alien_9]
 55D  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 8 alien
 55E  11F70                           ADD sF[scratch], 70
 55F  009F0                           LOAD s9[xpos], sF[scratch]
 560  0BF01                           FETCH sF[scratch], 01[alien_y]
 561  00AF0                           LOAD sA[ypos], sF[scratch]
 562  207E2                           CALL 7E2[moveto]
 563  11908                           ADD s9[xpos], 08[alien_x_dim]
 564  207E5                           CALL 7E5[drawto]
 565  11A02                           ADD sA[ypos], 02[alien_y_dim]
 566  207E5                           CALL 7E5[drawto]
 567  19908                           SUB s9[xpos], 08[alien_x_dim]
 568  207E5                           CALL 7E5[drawto]
 569  19A02                           SUB sA[ypos], 02[alien_y_dim]
 56A  207E5                           CALL 7E5[drawto]
 56B                    draw_alien_9: 
 56B  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 56C  0DF01                           TEST sF[scratch], 01
 56D  3E57C                           JUMP NC, 57C[draw_alien_10]
 56E  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 9 alien
 56F  009F0                           LOAD s9[xpos], sF[scratch]
 570  0BF01                           FETCH sF[scratch], 01[alien_y]
 571  11F08                           ADD sF[scratch], 08
 572  00AF0                           LOAD sA[ypos], sF[scratch]
 573  207E2                           CALL 7E2[moveto]
 574  11908                           ADD s9[xpos], 08[alien_x_dim]
 575  207E5                           CALL 7E5[drawto]
 576  11A02                           ADD sA[ypos], 02[alien_y_dim]
 577  207E5                           CALL 7E5[drawto]
 578  19908                           SUB s9[xpos], 08[alien_x_dim]
 579  207E5                           CALL 7E5[drawto]
 57A  19A02                           SUB sA[ypos], 02[alien_y_dim]
 57B  207E5                           CALL 7E5[drawto]
 57C                   draw_alien_10: 
 57C  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 57D  0DF02                           TEST sF[scratch], 02
 57E  3E58E                           JUMP NC, 58E[draw_alien_11]
 57F  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 10 alien
 580  11F10                           ADD sF[scratch], 10
 581  009F0                           LOAD s9[xpos], sF[scratch]
 582  0BF01                           FETCH sF[scratch], 01[alien_y]
 583  11F08                           ADD sF[scratch], 08
 584  00AF0                           LOAD sA[ypos], sF[scratch]
 585  207E2                           CALL 7E2[moveto]
 586  11908                           ADD s9[xpos], 08[alien_x_dim]
 587  207E5                           CALL 7E5[drawto]
 588  11A02                           ADD sA[ypos], 02[alien_y_dim]
 589  207E5                           CALL 7E5[drawto]
 58A  19908                           SUB s9[xpos], 08[alien_x_dim]
 58B  207E5                           CALL 7E5[drawto]
 58C  19A02                           SUB sA[ypos], 02[alien_y_dim]
 58D  207E5                           CALL 7E5[drawto]
 58E                   draw_alien_11: 
 58E  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 58F  0DF04                           TEST sF[scratch], 04
 590  3E5A0                           JUMP NC, 5A0[draw_alien_12]
 591  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 11 alien
 592  11F20                           ADD sF[scratch], 20
 593  009F0                           LOAD s9[xpos], sF[scratch]
 594  0BF01                           FETCH sF[scratch], 01[alien_y]
 595  11F08                           ADD sF[scratch], 08
 596  00AF0                           LOAD sA[ypos], sF[scratch]
 597  207E2                           CALL 7E2[moveto]
 598  11908                           ADD s9[xpos], 08[alien_x_dim]
 599  207E5                           CALL 7E5[drawto]
 59A  11A02                           ADD sA[ypos], 02[alien_y_dim]
 59B  207E5                           CALL 7E5[drawto]
 59C  19908                           SUB s9[xpos], 08[alien_x_dim]
 59D  207E5                           CALL 7E5[drawto]
 59E  19A02                           SUB sA[ypos], 02[alien_y_dim]
 59F  207E5                           CALL 7E5[drawto]
 5A0                   draw_alien_12: 
 5A0  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 5A1  0DF08                           TEST sF[scratch], 08
 5A2  3E5B2                           JUMP NC, 5B2[draw_alien_13]
 5A3  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 12 alien
 5A4  11F30                           ADD sF[scratch], 30
 5A5  009F0                           LOAD s9[xpos], sF[scratch]
 5A6  0BF01                           FETCH sF[scratch], 01[alien_y]
 5A7  11F08                           ADD sF[scratch], 08
 5A8  00AF0                           LOAD sA[ypos], sF[scratch]
 5A9  207E2                           CALL 7E2[moveto]
 5AA  11908                           ADD s9[xpos], 08[alien_x_dim]
 5AB  207E5                           CALL 7E5[drawto]
 5AC  11A02                           ADD sA[ypos], 02[alien_y_dim]
 5AD  207E5                           CALL 7E5[drawto]
 5AE  19908                           SUB s9[xpos], 08[alien_x_dim]
 5AF  207E5                           CALL 7E5[drawto]
 5B0  19A02                           SUB sA[ypos], 02[alien_y_dim]
 5B1  207E5                           CALL 7E5[drawto]
 5B2                   draw_alien_13: 
 5B2  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 5B3  0DF10                           TEST sF[scratch], 10
 5B4  3E5C4                           JUMP NC, 5C4[draw_alien_14]
 5B5  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 13 alien
 5B6  11F40                           ADD sF[scratch], 40
 5B7  009F0                           LOAD s9[xpos], sF[scratch]
 5B8  0BF01                           FETCH sF[scratch], 01[alien_y]
 5B9  11F08                           ADD sF[scratch], 08
 5BA  00AF0                           LOAD sA[ypos], sF[scratch]
 5BB  207E2                           CALL 7E2[moveto]
 5BC  11908                           ADD s9[xpos], 08[alien_x_dim]
 5BD  207E5                           CALL 7E5[drawto]
 5BE  11A02                           ADD sA[ypos], 02[alien_y_dim]
 5BF  207E5                           CALL 7E5[drawto]
 5C0  19908                           SUB s9[xpos], 08[alien_x_dim]
 5C1  207E5                           CALL 7E5[drawto]
 5C2  19A02                           SUB sA[ypos], 02[alien_y_dim]
 5C3  207E5                           CALL 7E5[drawto]
 5C4                   draw_alien_14: 
 5C4  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 5C5  0DF20                           TEST sF[scratch], 20
 5C6  3E5D6                           JUMP NC, 5D6[draw_alien_15]
 5C7  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 14 alien
 5C8  11F50                           ADD sF[scratch], 50
 5C9  009F0                           LOAD s9[xpos], sF[scratch]
 5CA  0BF01                           FETCH sF[scratch], 01[alien_y]
 5CB  11F08                           ADD sF[scratch], 08
 5CC  00AF0                           LOAD sA[ypos], sF[scratch]
 5CD  207E2                           CALL 7E2[moveto]
 5CE  11908                           ADD s9[xpos], 08[alien_x_dim]
 5CF  207E5                           CALL 7E5[drawto]
 5D0  11A02                           ADD sA[ypos], 02[alien_y_dim]
 5D1  207E5                           CALL 7E5[drawto]
 5D2  19908                           SUB s9[xpos], 08[alien_x_dim]
 5D3  207E5                           CALL 7E5[drawto]
 5D4  19A02                           SUB sA[ypos], 02[alien_y_dim]
 5D5  207E5                           CALL 7E5[drawto]
 5D6                   draw_alien_15: 
 5D6  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 5D7  0DF40                           TEST sF[scratch], 40
 5D8  3E5E8                           JUMP NC, 5E8[draw_alien_16]
 5D9  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 15 alien
 5DA  11F60                           ADD sF[scratch], 60
 5DB  009F0                           LOAD s9[xpos], sF[scratch]
 5DC  0BF01                           FETCH sF[scratch], 01[alien_y]
 5DD  11F08                           ADD sF[scratch], 08
 5DE  00AF0                           LOAD sA[ypos], sF[scratch]
 5DF  207E2                           CALL 7E2[moveto]
 5E0  11908                           ADD s9[xpos], 08[alien_x_dim]
 5E1  207E5                           CALL 7E5[drawto]
 5E2  11A02                           ADD sA[ypos], 02[alien_y_dim]
 5E3  207E5                           CALL 7E5[drawto]
 5E4  19908                           SUB s9[xpos], 08[alien_x_dim]
 5E5  207E5                           CALL 7E5[drawto]
 5E6  19A02                           SUB sA[ypos], 02[alien_y_dim]
 5E7  207E5                           CALL 7E5[drawto]
 5E8                   draw_alien_16: 
 5E8  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 5E9  0DF80                           TEST sF[scratch], 80
 5EA  3E5FA                           JUMP NC, 5FA[draw_alien_17]
 5EB  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 16 alien
 5EC  11F70                           ADD sF[scratch], 70
 5ED  009F0                           LOAD s9[xpos], sF[scratch]
 5EE  0BF01                           FETCH sF[scratch], 01[alien_y]
 5EF  11F08                           ADD sF[scratch], 08
 5F0  00AF0                           LOAD sA[ypos], sF[scratch]
 5F1  207E2                           CALL 7E2[moveto]
 5F2  11908                           ADD s9[xpos], 08[alien_x_dim]
 5F3  207E5                           CALL 7E5[drawto]
 5F4  11A02                           ADD sA[ypos], 02[alien_y_dim]
 5F5  207E5                           CALL 7E5[drawto]
 5F6  19908                           SUB s9[xpos], 08[alien_x_dim]
 5F7  207E5                           CALL 7E5[drawto]
 5F8  19A02                           SUB sA[ypos], 02[alien_y_dim]
 5F9  207E5                           CALL 7E5[drawto]
 5FA                   draw_alien_17: 
 5FA  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 5FB  0DF01                           TEST sF[scratch], 01
 5FC  3E60B                           JUMP NC, 60B[draw_alien_18]
 5FD  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 17 alien
 5FE  009F0                           LOAD s9[xpos], sF[scratch]
 5FF  0BF01                           FETCH sF[scratch], 01[alien_y]
 600  11F10                           ADD sF[scratch], 10
 601  00AF0                           LOAD sA[ypos], sF[scratch]
 602  207E2                           CALL 7E2[moveto]
 603  11908                           ADD s9[xpos], 08[alien_x_dim]
 604  207E5                           CALL 7E5[drawto]
 605  11A02                           ADD sA[ypos], 02[alien_y_dim]
 606  207E5                           CALL 7E5[drawto]
 607  19908                           SUB s9[xpos], 08[alien_x_dim]
 608  207E5                           CALL 7E5[drawto]
 609  19A02                           SUB sA[ypos], 02[alien_y_dim]
 60A  207E5                           CALL 7E5[drawto]
 60B                   draw_alien_18: 
 60B  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 60C  0DF02                           TEST sF[scratch], 02
 60D  3E61D                           JUMP NC, 61D[draw_alien_19]
 60E  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 18 alien
 60F  11F10                           ADD sF[scratch], 10
 610  009F0                           LOAD s9[xpos], sF[scratch]
 611  0BF01                           FETCH sF[scratch], 01[alien_y]
 612  11F10                           ADD sF[scratch], 10
 613  00AF0                           LOAD sA[ypos], sF[scratch]
 614  207E2                           CALL 7E2[moveto]
 615  11908                           ADD s9[xpos], 08[alien_x_dim]
 616  207E5                           CALL 7E5[drawto]
 617  11A02                           ADD sA[ypos], 02[alien_y_dim]
 618  207E5                           CALL 7E5[drawto]
 619  19908                           SUB s9[xpos], 08[alien_x_dim]
 61A  207E5                           CALL 7E5[drawto]
 61B  19A02                           SUB sA[ypos], 02[alien_y_dim]
 61C  207E5                           CALL 7E5[drawto]
 61D                   draw_alien_19: 
 61D  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 61E  0DF04                           TEST sF[scratch], 04
 61F  3E62F                           JUMP NC, 62F[draw_alien_20]
 620  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 19 alien
 621  11F20                           ADD sF[scratch], 20
 622  009F0                           LOAD s9[xpos], sF[scratch]
 623  0BF01                           FETCH sF[scratch], 01[alien_y]
 624  11F10                           ADD sF[scratch], 10
 625  00AF0                           LOAD sA[ypos], sF[scratch]
 626  207E2                           CALL 7E2[moveto]
 627  11908                           ADD s9[xpos], 08[alien_x_dim]
 628  207E5                           CALL 7E5[drawto]
 629  11A02                           ADD sA[ypos], 02[alien_y_dim]
 62A  207E5                           CALL 7E5[drawto]
 62B  19908                           SUB s9[xpos], 08[alien_x_dim]
 62C  207E5                           CALL 7E5[drawto]
 62D  19A02                           SUB sA[ypos], 02[alien_y_dim]
 62E  207E5                           CALL 7E5[drawto]
 62F                   draw_alien_20: 
 62F  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 630  0DF08                           TEST sF[scratch], 08
 631  3E641                           JUMP NC, 641[draw_alien_21]
 632  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 20 alien
 633  11F30                           ADD sF[scratch], 30
 634  009F0                           LOAD s9[xpos], sF[scratch]
 635  0BF01                           FETCH sF[scratch], 01[alien_y]
 636  11F10                           ADD sF[scratch], 10
 637  00AF0                           LOAD sA[ypos], sF[scratch]
 638  207E2                           CALL 7E2[moveto]
 639  11908                           ADD s9[xpos], 08[alien_x_dim]
 63A  207E5                           CALL 7E5[drawto]
 63B  11A02                           ADD sA[ypos], 02[alien_y_dim]
 63C  207E5                           CALL 7E5[drawto]
 63D  19908                           SUB s9[xpos], 08[alien_x_dim]
 63E  207E5                           CALL 7E5[drawto]
 63F  19A02                           SUB sA[ypos], 02[alien_y_dim]
 640  207E5                           CALL 7E5[drawto]
 641                   draw_alien_21: 
 641  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 642  0DF10                           TEST sF[scratch], 10
 643  3E653                           JUMP NC, 653[draw_alien_22]
 644  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 21 alien
 645  11F40                           ADD sF[scratch], 40
 646  009F0                           LOAD s9[xpos], sF[scratch]
 647  0BF01                           FETCH sF[scratch], 01[alien_y]
 648  11F10                           ADD sF[scratch], 10
 649  00AF0                           LOAD sA[ypos], sF[scratch]
 64A  207E2                           CALL 7E2[moveto]
 64B  11908                           ADD s9[xpos], 08[alien_x_dim]
 64C  207E5                           CALL 7E5[drawto]
 64D  11A02                           ADD sA[ypos], 02[alien_y_dim]
 64E  207E5                           CALL 7E5[drawto]
 64F  19908                           SUB s9[xpos], 08[alien_x_dim]
 650  207E5                           CALL 7E5[drawto]
 651  19A02                           SUB sA[ypos], 02[alien_y_dim]
 652  207E5                           CALL 7E5[drawto]
 653                   draw_alien_22: 
 653  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 654  0DF20                           TEST sF[scratch], 20
 655  3E665                           JUMP NC, 665[draw_alien_23]
 656  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 22 alien
 657  11F50                           ADD sF[scratch], 50
 658  009F0                           LOAD s9[xpos], sF[scratch]
 659  0BF01                           FETCH sF[scratch], 01[alien_y]
 65A  11F10                           ADD sF[scratch], 10
 65B  00AF0                           LOAD sA[ypos], sF[scratch]
 65C  207E2                           CALL 7E2[moveto]
 65D  11908                           ADD s9[xpos], 08[alien_x_dim]
 65E  207E5                           CALL 7E5[drawto]
 65F  11A02                           ADD sA[ypos], 02[alien_y_dim]
 660  207E5                           CALL 7E5[drawto]
 661  19908                           SUB s9[xpos], 08[alien_x_dim]
 662  207E5                           CALL 7E5[drawto]
 663  19A02                           SUB sA[ypos], 02[alien_y_dim]
 664  207E5                           CALL 7E5[drawto]
 665                   draw_alien_23: 
 665  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 666  0DF40                           TEST sF[scratch], 40
 667  3E677                           JUMP NC, 677[draw_alien_24]
 668  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 23 alien
 669  11F60                           ADD sF[scratch], 60
 66A  009F0                           LOAD s9[xpos], sF[scratch]
 66B  0BF01                           FETCH sF[scratch], 01[alien_y]
 66C  11F10                           ADD sF[scratch], 10
 66D  00AF0                           LOAD sA[ypos], sF[scratch]
 66E  207E2                           CALL 7E2[moveto]
 66F  11908                           ADD s9[xpos], 08[alien_x_dim]
 670  207E5                           CALL 7E5[drawto]
 671  11A02                           ADD sA[ypos], 02[alien_y_dim]
 672  207E5                           CALL 7E5[drawto]
 673  19908                           SUB s9[xpos], 08[alien_x_dim]
 674  207E5                           CALL 7E5[drawto]
 675  19A02                           SUB sA[ypos], 02[alien_y_dim]
 676  207E5                           CALL 7E5[drawto]
 677                   draw_alien_24: 
 677  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 678  0DF80                           TEST sF[scratch], 80
 679  3E689                           JUMP NC, 689[draw_alien_25]
 67A  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 24 alien
 67B  11F70                           ADD sF[scratch], 70
 67C  009F0                           LOAD s9[xpos], sF[scratch]
 67D  0BF01                           FETCH sF[scratch], 01[alien_y]
 67E  11F10                           ADD sF[scratch], 10
 67F  00AF0                           LOAD sA[ypos], sF[scratch]
 680  207E2                           CALL 7E2[moveto]
 681  11908                           ADD s9[xpos], 08[alien_x_dim]
 682  207E5                           CALL 7E5[drawto]
 683  11A02                           ADD sA[ypos], 02[alien_y_dim]
 684  207E5                           CALL 7E5[drawto]
 685  19908                           SUB s9[xpos], 08[alien_x_dim]
 686  207E5                           CALL 7E5[drawto]
 687  19A02                           SUB sA[ypos], 02[alien_y_dim]
 688  207E5                           CALL 7E5[drawto]
 689                   draw_alien_25: 
 689  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 68A  0DF01                           TEST sF[scratch], 01
 68B  3E69A                           JUMP NC, 69A[draw_alien_26]
 68C  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 25 alien
 68D  009F0                           LOAD s9[xpos], sF[scratch]
 68E  0BF01                           FETCH sF[scratch], 01[alien_y]
 68F  11F18                           ADD sF[scratch], 18
 690  00AF0                           LOAD sA[ypos], sF[scratch]
 691  207E2                           CALL 7E2[moveto]
 692  11908                           ADD s9[xpos], 08[alien_x_dim]
 693  207E5                           CALL 7E5[drawto]
 694  11A02                           ADD sA[ypos], 02[alien_y_dim]
 695  207E5                           CALL 7E5[drawto]
 696  19908                           SUB s9[xpos], 08[alien_x_dim]
 697  207E5                           CALL 7E5[drawto]
 698  19A02                           SUB sA[ypos], 02[alien_y_dim]
 699  207E5                           CALL 7E5[drawto]
 69A                   draw_alien_26: 
 69A  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 69B  0DF02                           TEST sF[scratch], 02
 69C  3E6AC                           JUMP NC, 6AC[draw_alien_27]
 69D  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 26 alien
 69E  11F10                           ADD sF[scratch], 10
 69F  009F0                           LOAD s9[xpos], sF[scratch]
 6A0  0BF01                           FETCH sF[scratch], 01[alien_y]
 6A1  11F18                           ADD sF[scratch], 18
 6A2  00AF0                           LOAD sA[ypos], sF[scratch]
 6A3  207E2                           CALL 7E2[moveto]
 6A4  11908                           ADD s9[xpos], 08[alien_x_dim]
 6A5  207E5                           CALL 7E5[drawto]
 6A6  11A02                           ADD sA[ypos], 02[alien_y_dim]
 6A7  207E5                           CALL 7E5[drawto]
 6A8  19908                           SUB s9[xpos], 08[alien_x_dim]
 6A9  207E5                           CALL 7E5[drawto]
 6AA  19A02                           SUB sA[ypos], 02[alien_y_dim]
 6AB  207E5                           CALL 7E5[drawto]
 6AC                   draw_alien_27: 
 6AC  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 6AD  0DF04                           TEST sF[scratch], 04
 6AE  3E6BE                           JUMP NC, 6BE[draw_alien_28]
 6AF  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 27 alien
 6B0  11F20                           ADD sF[scratch], 20
 6B1  009F0                           LOAD s9[xpos], sF[scratch]
 6B2  0BF01                           FETCH sF[scratch], 01[alien_y]
 6B3  11F18                           ADD sF[scratch], 18
 6B4  00AF0                           LOAD sA[ypos], sF[scratch]
 6B5  207E2                           CALL 7E2[moveto]
 6B6  11908                           ADD s9[xpos], 08[alien_x_dim]
 6B7  207E5                           CALL 7E5[drawto]
 6B8  11A02                           ADD sA[ypos], 02[alien_y_dim]
 6B9  207E5                           CALL 7E5[drawto]
 6BA  19908                           SUB s9[xpos], 08[alien_x_dim]
 6BB  207E5                           CALL 7E5[drawto]
 6BC  19A02                           SUB sA[ypos], 02[alien_y_dim]
 6BD  207E5                           CALL 7E5[drawto]
 6BE                   draw_alien_28: 
 6BE  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 6BF  0DF08                           TEST sF[scratch], 08
 6C0  3E6D0                           JUMP NC, 6D0[draw_alien_29]
 6C1  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 28 alien
 6C2  11F30                           ADD sF[scratch], 30
 6C3  009F0                           LOAD s9[xpos], sF[scratch]
 6C4  0BF01                           FETCH sF[scratch], 01[alien_y]
 6C5  11F18                           ADD sF[scratch], 18
 6C6  00AF0                           LOAD sA[ypos], sF[scratch]
 6C7  207E2                           CALL 7E2[moveto]
 6C8  11908                           ADD s9[xpos], 08[alien_x_dim]
 6C9  207E5                           CALL 7E5[drawto]
 6CA  11A02                           ADD sA[ypos], 02[alien_y_dim]
 6CB  207E5                           CALL 7E5[drawto]
 6CC  19908                           SUB s9[xpos], 08[alien_x_dim]
 6CD  207E5                           CALL 7E5[drawto]
 6CE  19A02                           SUB sA[ypos], 02[alien_y_dim]
 6CF  207E5                           CALL 7E5[drawto]
 6D0                   draw_alien_29: 
 6D0  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 6D1  0DF10                           TEST sF[scratch], 10
 6D2  3E6E2                           JUMP NC, 6E2[draw_alien_30]
 6D3  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 29 alien
 6D4  11F40                           ADD sF[scratch], 40
 6D5  009F0                           LOAD s9[xpos], sF[scratch]
 6D6  0BF01                           FETCH sF[scratch], 01[alien_y]
 6D7  11F18                           ADD sF[scratch], 18
 6D8  00AF0                           LOAD sA[ypos], sF[scratch]
 6D9  207E2                           CALL 7E2[moveto]
 6DA  11908                           ADD s9[xpos], 08[alien_x_dim]
 6DB  207E5                           CALL 7E5[drawto]
 6DC  11A02                           ADD sA[ypos], 02[alien_y_dim]
 6DD  207E5                           CALL 7E5[drawto]
 6DE  19908                           SUB s9[xpos], 08[alien_x_dim]
 6DF  207E5                           CALL 7E5[drawto]
 6E0  19A02                           SUB sA[ypos], 02[alien_y_dim]
 6E1  207E5                           CALL 7E5[drawto]
 6E2                   draw_alien_30: 
 6E2  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 6E3  0DF20                           TEST sF[scratch], 20
 6E4  3E6F4                           JUMP NC, 6F4[draw_alien_31]
 6E5  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 30 alien
 6E6  11F50                           ADD sF[scratch], 50
 6E7  009F0                           LOAD s9[xpos], sF[scratch]
 6E8  0BF01                           FETCH sF[scratch], 01[alien_y]
 6E9  11F18                           ADD sF[scratch], 18
 6EA  00AF0                           LOAD sA[ypos], sF[scratch]
 6EB  207E2                           CALL 7E2[moveto]
 6EC  11908                           ADD s9[xpos], 08[alien_x_dim]
 6ED  207E5                           CALL 7E5[drawto]
 6EE  11A02                           ADD sA[ypos], 02[alien_y_dim]
 6EF  207E5                           CALL 7E5[drawto]
 6F0  19908                           SUB s9[xpos], 08[alien_x_dim]
 6F1  207E5                           CALL 7E5[drawto]
 6F2  19A02                           SUB sA[ypos], 02[alien_y_dim]
 6F3  207E5                           CALL 7E5[drawto]
 6F4                   draw_alien_31: 
 6F4  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 6F5  0DF40                           TEST sF[scratch], 40
 6F6  3E706                           JUMP NC, 706[draw_alien_32]
 6F7  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 31 alien
 6F8  11F60                           ADD sF[scratch], 60
 6F9  009F0                           LOAD s9[xpos], sF[scratch]
 6FA  0BF01                           FETCH sF[scratch], 01[alien_y]
 6FB  11F18                           ADD sF[scratch], 18
 6FC  00AF0                           LOAD sA[ypos], sF[scratch]
 6FD  207E2                           CALL 7E2[moveto]
 6FE  11908                           ADD s9[xpos], 08[alien_x_dim]
 6FF  207E5                           CALL 7E5[drawto]
 700  11A02                           ADD sA[ypos], 02[alien_y_dim]
 701  207E5                           CALL 7E5[drawto]
 702  19908                           SUB s9[xpos], 08[alien_x_dim]
 703  207E5                           CALL 7E5[drawto]
 704  19A02                           SUB sA[ypos], 02[alien_y_dim]
 705  207E5                           CALL 7E5[drawto]
 706                   draw_alien_32: 
 706  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 707  0DF80                           TEST sF[scratch], 80
 708  3E718                           JUMP NC, 718[draw_alien_33]
 709  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 32 alien
 70A  11F70                           ADD sF[scratch], 70
 70B  009F0                           LOAD s9[xpos], sF[scratch]
 70C  0BF01                           FETCH sF[scratch], 01[alien_y]
 70D  11F18                           ADD sF[scratch], 18
 70E  00AF0                           LOAD sA[ypos], sF[scratch]
 70F  207E2                           CALL 7E2[moveto]
 710  11908                           ADD s9[xpos], 08[alien_x_dim]
 711  207E5                           CALL 7E5[drawto]
 712  11A02                           ADD sA[ypos], 02[alien_y_dim]
 713  207E5                           CALL 7E5[drawto]
 714  19908                           SUB s9[xpos], 08[alien_x_dim]
 715  207E5                           CALL 7E5[drawto]
 716  19A02                           SUB sA[ypos], 02[alien_y_dim]
 717  207E5                           CALL 7E5[drawto]
 718                   draw_alien_33: 
 718  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 719  0DF01                           TEST sF[scratch], 01
 71A  3E729                           JUMP NC, 729[draw_alien_34]
 71B  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 33 alien
 71C  009F0                           LOAD s9[xpos], sF[scratch]
 71D  0BF01                           FETCH sF[scratch], 01[alien_y]
 71E  11F20                           ADD sF[scratch], 20
 71F  00AF0                           LOAD sA[ypos], sF[scratch]
 720  207E2                           CALL 7E2[moveto]
 721  11908                           ADD s9[xpos], 08[alien_x_dim]
 722  207E5                           CALL 7E5[drawto]
 723  11A02                           ADD sA[ypos], 02[alien_y_dim]
 724  207E5                           CALL 7E5[drawto]
 725  19908                           SUB s9[xpos], 08[alien_x_dim]
 726  207E5                           CALL 7E5[drawto]
 727  19A02                           SUB sA[ypos], 02[alien_y_dim]
 728  207E5                           CALL 7E5[drawto]
 729                   draw_alien_34: 
 729  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 72A  0DF02                           TEST sF[scratch], 02
 72B  3E73B                           JUMP NC, 73B[draw_alien_35]
 72C  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 34 alien
 72D  11F10                           ADD sF[scratch], 10
 72E  009F0                           LOAD s9[xpos], sF[scratch]
 72F  0BF01                           FETCH sF[scratch], 01[alien_y]
 730  11F20                           ADD sF[scratch], 20
 731  00AF0                           LOAD sA[ypos], sF[scratch]
 732  207E2                           CALL 7E2[moveto]
 733  11908                           ADD s9[xpos], 08[alien_x_dim]
 734  207E5                           CALL 7E5[drawto]
 735  11A02                           ADD sA[ypos], 02[alien_y_dim]
 736  207E5                           CALL 7E5[drawto]
 737  19908                           SUB s9[xpos], 08[alien_x_dim]
 738  207E5                           CALL 7E5[drawto]
 739  19A02                           SUB sA[ypos], 02[alien_y_dim]
 73A  207E5                           CALL 7E5[drawto]
 73B                   draw_alien_35: 
 73B  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 73C  0DF04                           TEST sF[scratch], 04
 73D  3E74D                           JUMP NC, 74D[draw_alien_36]
 73E  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 35 alien
 73F  11F20                           ADD sF[scratch], 20
 740  009F0                           LOAD s9[xpos], sF[scratch]
 741  0BF01                           FETCH sF[scratch], 01[alien_y]
 742  11F20                           ADD sF[scratch], 20
 743  00AF0                           LOAD sA[ypos], sF[scratch]
 744  207E2                           CALL 7E2[moveto]
 745  11908                           ADD s9[xpos], 08[alien_x_dim]
 746  207E5                           CALL 7E5[drawto]
 747  11A02                           ADD sA[ypos], 02[alien_y_dim]
 748  207E5                           CALL 7E5[drawto]
 749  19908                           SUB s9[xpos], 08[alien_x_dim]
 74A  207E5                           CALL 7E5[drawto]
 74B  19A02                           SUB sA[ypos], 02[alien_y_dim]
 74C  207E5                           CALL 7E5[drawto]
 74D                   draw_alien_36: 
 74D  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 74E  0DF08                           TEST sF[scratch], 08
 74F  3E75F                           JUMP NC, 75F[draw_alien_37]
 750  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 36 alien
 751  11F30                           ADD sF[scratch], 30
 752  009F0                           LOAD s9[xpos], sF[scratch]
 753  0BF01                           FETCH sF[scratch], 01[alien_y]
 754  11F20                           ADD sF[scratch], 20
 755  00AF0                           LOAD sA[ypos], sF[scratch]
 756  207E2                           CALL 7E2[moveto]
 757  11908                           ADD s9[xpos], 08[alien_x_dim]
 758  207E5                           CALL 7E5[drawto]
 759  11A02                           ADD sA[ypos], 02[alien_y_dim]
 75A  207E5                           CALL 7E5[drawto]
 75B  19908                           SUB s9[xpos], 08[alien_x_dim]
 75C  207E5                           CALL 7E5[drawto]
 75D  19A02                           SUB sA[ypos], 02[alien_y_dim]
 75E  207E5                           CALL 7E5[drawto]
 75F                   draw_alien_37: 
 75F  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 760  0DF10                           TEST sF[scratch], 10
 761  3E771                           JUMP NC, 771[draw_alien_38]
 762  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 37 alien
 763  11F40                           ADD sF[scratch], 40
 764  009F0                           LOAD s9[xpos], sF[scratch]
 765  0BF01                           FETCH sF[scratch], 01[alien_y]
 766  11F20                           ADD sF[scratch], 20
 767  00AF0                           LOAD sA[ypos], sF[scratch]
 768  207E2                           CALL 7E2[moveto]
 769  11908                           ADD s9[xpos], 08[alien_x_dim]
 76A  207E5                           CALL 7E5[drawto]
 76B  11A02                           ADD sA[ypos], 02[alien_y_dim]
 76C  207E5                           CALL 7E5[drawto]
 76D  19908                           SUB s9[xpos], 08[alien_x_dim]
 76E  207E5                           CALL 7E5[drawto]
 76F  19A02                           SUB sA[ypos], 02[alien_y_dim]
 770  207E5                           CALL 7E5[drawto]
 771                   draw_alien_38: 
 771  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 772  0DF20                           TEST sF[scratch], 20
 773  3E783                           JUMP NC, 783[draw_alien_39]
 774  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 38 alien
 775  11F50                           ADD sF[scratch], 50
 776  009F0                           LOAD s9[xpos], sF[scratch]
 777  0BF01                           FETCH sF[scratch], 01[alien_y]
 778  11F20                           ADD sF[scratch], 20
 779  00AF0                           LOAD sA[ypos], sF[scratch]
 77A  207E2                           CALL 7E2[moveto]
 77B  11908                           ADD s9[xpos], 08[alien_x_dim]
 77C  207E5                           CALL 7E5[drawto]
 77D  11A02                           ADD sA[ypos], 02[alien_y_dim]
 77E  207E5                           CALL 7E5[drawto]
 77F  19908                           SUB s9[xpos], 08[alien_x_dim]
 780  207E5                           CALL 7E5[drawto]
 781  19A02                           SUB sA[ypos], 02[alien_y_dim]
 782  207E5                           CALL 7E5[drawto]
 783                   draw_alien_39: 
 783  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 784  0DF40                           TEST sF[scratch], 40
 785  3E795                           JUMP NC, 795[draw_alien_40]
 786  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 39 alien
 787  11F60                           ADD sF[scratch], 60
 788  009F0                           LOAD s9[xpos], sF[scratch]
 789  0BF01                           FETCH sF[scratch], 01[alien_y]
 78A  11F20                           ADD sF[scratch], 20
 78B  00AF0                           LOAD sA[ypos], sF[scratch]
 78C  207E2                           CALL 7E2[moveto]
 78D  11908                           ADD s9[xpos], 08[alien_x_dim]
 78E  207E5                           CALL 7E5[drawto]
 78F  11A02                           ADD sA[ypos], 02[alien_y_dim]
 790  207E5                           CALL 7E5[drawto]
 791  19908                           SUB s9[xpos], 08[alien_x_dim]
 792  207E5                           CALL 7E5[drawto]
 793  19A02                           SUB sA[ypos], 02[alien_y_dim]
 794  207E5                           CALL 7E5[drawto]
 795                   draw_alien_40: 
 795  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 796  0DF80                           TEST sF[scratch], 80
 797  3D000                           RETURN NC
 798  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 40 alien
 799  11F70                           ADD sF[scratch], 70
 79A  009F0                           LOAD s9[xpos], sF[scratch]
 79B  0BF01                           FETCH sF[scratch], 01[alien_y]
 79C  11F20                           ADD sF[scratch], 20
 79D  00AF0                           LOAD sA[ypos], sF[scratch]
 79E  207E2                           CALL 7E2[moveto]
 79F  11908                           ADD s9[xpos], 08[alien_x_dim]
 7A0  207E5                           CALL 7E5[drawto]
 7A1  11A02                           ADD sA[ypos], 02[alien_y_dim]
 7A2  207E5                           CALL 7E5[drawto]
 7A3  19908                           SUB s9[xpos], 08[alien_x_dim]
 7A4  207E5                           CALL 7E5[drawto]
 7A5  19A02                           SUB sA[ypos], 02[alien_y_dim]
 7A6  207E5                           CALL 7E5[drawto]
 7A7  25000                           RETURN 
 7A8                    draw_gameend: 
 7A8  01948                           LOAD s9[xpos], 48                          ; draw letter d
 7A9  01A50                           LOAD sA[ypos], 50
 7AA  207E2                           CALL 7E2[moveto]
 7AB  01948                           LOAD s9[xpos], 48
 7AC  01A90                           LOAD sA[ypos], 90
 7AD  207E5                           CALL 7E5[drawto]
 7AE  01928                           LOAD s9[xpos], 28
 7AF  01A90                           LOAD sA[ypos], 90
 7B0  207E5                           CALL 7E5[drawto]
 7B1  01928                           LOAD s9[xpos], 28
 7B2  01A70                           LOAD sA[ypos], 70
 7B3  207E5                           CALL 7E5[drawto]
 7B4  01948                           LOAD s9[xpos], 48
 7B5  01A70                           LOAD sA[ypos], 70
 7B6  207E5                           CALL 7E5[drawto]
 7B7  01958                           LOAD s9[xpos], 58                          ; draw letter o
 7B8  01A70                           LOAD sA[ypos], 70
 7B9  207E2                           CALL 7E2[moveto]
 7BA  01958                           LOAD s9[xpos], 58
 7BB  01A90                           LOAD sA[ypos], 90
 7BC  207E5                           CALL 7E5[drawto]
 7BD  01978                           LOAD s9[xpos], 78
 7BE  01A90                           LOAD sA[ypos], 90
 7BF  207E5                           CALL 7E5[drawto]
 7C0  01978                           LOAD s9[xpos], 78
 7C1  01A70                           LOAD sA[ypos], 70
 7C2  207E5                           CALL 7E5[drawto]
 7C3  01958                           LOAD s9[xpos], 58
 7C4  01A70                           LOAD sA[ypos], 70
 7C5  207E5                           CALL 7E5[drawto]
 7C6  01988                           LOAD s9[xpos], 88                          ; draw letter n
 7C7  01A90                           LOAD sA[ypos], 90
 7C8  207E2                           CALL 7E2[moveto]
 7C9  01988                           LOAD s9[xpos], 88
 7CA  01A70                           LOAD sA[ypos], 70
 7CB  207E5                           CALL 7E5[drawto]
 7CC  019A8                           LOAD s9[xpos], A8
 7CD  01A70                           LOAD sA[ypos], 70
 7CE  207E5                           CALL 7E5[drawto]
 7CF  019A8                           LOAD s9[xpos], A8
 7D0  01A90                           LOAD sA[ypos], 90
 7D1  207E5                           CALL 7E5[drawto]
 7D2  019D8                           LOAD s9[xpos], D8                          ; draw letter e
 7D3  01A90                           LOAD sA[ypos], 90
 7D4  207E2                           CALL 7E2[moveto]
 7D5  019B8                           LOAD s9[xpos], B8
 7D6  01A90                           LOAD sA[ypos], 90
 7D7  207E5                           CALL 7E5[drawto]
 7D8  019B8                           LOAD s9[xpos], B8
 7D9  01A70                           LOAD sA[ypos], 70
 7DA  207E5                           CALL 7E5[drawto]
 7DB  019D8                           LOAD s9[xpos], D8
 7DC  01A70                           LOAD sA[ypos], 70
 7DD  207E5                           CALL 7E5[drawto]
 7DE  019B8                           LOAD s9[xpos], B8
 7DF  01A90                           LOAD sA[ypos], 90
 7E0  207E5                           CALL 7E5[drawto]
 7E1  25000                           RETURN 
 7E2                                  ;;============================================================================
 7E2                                  ;; Subroutine: moveto and drawto
 7E2                                  ;; The moveto routine uses the global variables xpos and ypos, and the drawto
 7E2                                  ;; routine uses these global variables as well as the endpoint coordinates in
 7E2                                  ;; the display controller.  Moveto simply copies xpos and ypos into endpoint
 7E2                                  ;; coordinates in the display controller, it does not draw anything.  The
 7E2                                  ;; drawto routine copies endpoint coordinates to startpoint coordinates (does
 7E2                                  ;; not matter if the endpoint was from an actual draw, or simply an update
 7E2                                  ;; by moveto) and then copies xpos and ypos into endpoint coordinates, then
 7E2                                  ;; starts a linedraw.
 7E2                                  ;;============================================================================
 7E2                          moveto: 
 7E2  2D902                           OUTPUT s9[xpos], 02[endx]                  ; copy global to hardware
 7E3  2DA03                           OUTPUT sA[ypos], 03[endy]                  ; copy global to hardware
 7E4  25000                           RETURN                                     ; return
 7E5                          drawto: 
 7E5  09F02                           INPUT sF[scratch], 02[endx]                ; read hardware
 7E6  2DF00                           OUTPUT sF[scratch], 00[stax]               ; write hardware
 7E7  2D902                           OUTPUT s9[xpos], 02[endx]                  ; copy global to hardware
 7E8  09F03                           INPUT sF[scratch], 03[endy]                ; read hardware
 7E9  2DF01                           OUTPUT sF[scratch], 01[stay]               ; write hardware
 7EA  2DA03                           OUTPUT sA[ypos], 03[endy]                  ; copy global to hardware
 7EB  01F01                           LOAD sF[scratch], 01[busy_go]              ; prepare the command
 7EC  2DF04                           OUTPUT sF[scratch], 04[busy]               ; send the command
 7ED  20012                           CALL 012[hw_init_wait]                     ; wait line draw done
 7EE  25000                           RETURN                                     ; return
 7EF                                  ;;============================================================================
 7EF                                  ;; Interrupt - Vector.
 7EF                                  ;;============================================================================
 7FF                                  ADDRESS 7FF                                ; must be located here
 7FF                      isr_vector: 
 7FF  22004                           JUMP 004[isr]                              ; always jump to isr
 800                                  ;;============================================================================
 800                                  ;;
 800                                  ;;============================================================================



List of PSM files that have been assembled

C:\Users\Jacky\FPGA_Space_Invaders\software\software.psm



List of defined constants

 CONSTANT name     Value        Source PSM File

 timestamp_hours   18'd         
 timestamp_minutes 56'd         
 timestamp_seconds 22'd         
 datestamp_year    16'd         
 datestamp_month   12'd         
 datestamp_day     13'd         
 NUL               00           
 BEL               07           
 BS                08           
 HT                09           
 LF                0A           
 VT                0B           
 CR                0D           
 ESC               1B           
 DEL               7F           
 DCS               90           
 ST                9C           
 stax              00           software.psm
 stay              01           software.psm
 endx              02           software.psm
 endy              03           software.psm
 busy              04           software.psm
 beam              05           software.psm
 mode              06           software.psm
 prng              07           software.psm
 leds_lo           08           software.psm
 leds_hi           09           software.psm
 qssd_lo           0A           software.psm
 qssd_hi           0B           software.psm
 qssd_dp           0C           software.psm
 switches_lo       0D           software.psm
 switches_hi       0E           software.psm
 buttons           0F           software.psm
 busy_go           01           software.psm
 beam_hi           0F           software.psm
 beam_md           07           software.psm
 beam_lo           03           software.psm
 mode_hld          00           software.psm
 mode_clr          01           software.psm
 mode_lin          02           software.psm
 mode_exp          03           software.psm
 buttons_ct        10           software.psm
 buttons_up        08           software.psm
 buttons_dn        04           software.psm
 buttons_lf        02           software.psm
 buttons_rt        01           software.psm
 gs_major_attrone  00           software.psm
 gs_major_attrtwo  01           software.psm
 gs_major_playing  02           software.psm
 gs_major_gameend  03           software.psm
 gs_minor_begins   00           software.psm
 gs_minor_twosec   78           software.psm
 gs_minor_onesec   3C           software.psm
 gs_minor_getrdy   1E           software.psm
 gs_tbullet_xdim   00           software.psm
 gs_tbullet_ydim   05           software.psm
 gs_tbullet_speed  08           software.psm
 gs_tanky          F4           software.psm
 gs_tank_xdim      10           software.psm
 gs_tank_ydim      08           software.psm
 gs_tank_speed     02           software.psm
 shield1hit        40           software.psm
 shield2hit        10           software.psm
 shield3hit        04           software.psm
 shield4hit        01           software.psm
 shield1dead_test  3F           software.psm
 shield2dead_test  CF           software.psm
 shield3dead_test  F3           software.psm
 shield4dead_test  FC           software.psm
 shieldxdim        18           software.psm
 shieldydim        14           software.psm
 shield1x          10           software.psm
 shield2x          52           software.psm
 shield3x          95           software.psm
 shield4x          D7           software.psm
 shieldy           D0           software.psm
 alien_x           00           software.psm
 alien_y           01           software.psm
 alien_1_hp        02           software.psm
 alien_2_hp        03           software.psm
 alien_3_hp        04           software.psm
 alien_4_hp        05           software.psm
 alien_5_hp        06           software.psm
 alien_x_dim       08           software.psm
 alien_y_dim       02           software.psm
 minusone          FF           software.psm
 minusmax          80           software.psm
 plusmax           7F           software.psm
 zero              00           software.psm
 one               01           software.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.51"        
 datestamp$        "13 Dec 2016"  
 timestamp$        "18:56:22"     



List of line labels

   Label                     Addr  Source PSM File

 * boot                      000   software.psm
   main                      003   software.psm
   isr                       004   software.psm
   hw_init                   008   software.psm
   hw_init_wait              012   software.psm
   gs_init                   016   software.psm
   user_input                028   software.psm
   calc_next_gs              02A   software.psm
   calc_attrone              033   software.psm
   calc_attrtwo              039   software.psm
   initial_positions         03F   software.psm
   calc_playing              057   software.psm
   upd_aliens                061   software.psm
   upd_aliens_cont           0BD   software.psm
   upd_aliens_y_0            0D0   software.psm
   upd_aliens_y_1            0D4   software.psm
   upd_aliens_y_2            0D8   software.psm
   upd_aliens_y_3            0DC   software.psm
   upd_aliens_y_4            0E0   software.psm
   upd_aliens_y_5            0E4   software.psm
   upd_aliens_y_6            0E8   software.psm
   upd_aliens_y_7            0EC   software.psm
   alien_hp_shift            0F0   software.psm
   upd_aliens_x_right        100   software.psm
   upd_aliens_x_left         104   software.psm
   upd_aliens_y              108   software.psm
   upd_tank                  10C   software.psm
   upd_tank_lt               11B   software.psm
   upd_tank_rt               11F   software.psm
   load_tbullet_en           126   software.psm
   upd_tbullet               128   software.psm
   upd_tbullet_loop          129   software.psm
   restart_upd_bullet_loop   144   software.psm
   reset_tbullet             145   software.psm
   check_alien_5_hp          14D   software.psm
   check_alien_5_hp_1        185   software.psm
   check_alien_5_hp_2        18B   software.psm
   check_alien_5_hp_3        191   software.psm
   check_alien_5_hp_4        197   software.psm
   check_alien_5_hp_5        19D   software.psm
   check_alien_5_hp_6        1A3   software.psm
   check_alien_5_hp_7        1A9   software.psm
   check_alien_5_hp_8        1AF   software.psm
   check_alien_4_hp          1B5   software.psm
   check_alien_4_hp_1        1ED   software.psm
   check_alien_4_hp_2        1F3   software.psm
   check_alien_4_hp_3        1F9   software.psm
   check_alien_4_hp_4        1FF   software.psm
   check_alien_4_hp_5        205   software.psm
   check_alien_4_hp_6        20B   software.psm
   check_alien_4_hp_7        211   software.psm
   check_alien_4_hp_8        217   software.psm
   check_alien_3_hp          21D   software.psm
   check_alien_3_hp_1        255   software.psm
   check_alien_3_hp_2        25B   software.psm
   check_alien_3_hp_3        261   software.psm
   check_alien_3_hp_4        267   software.psm
   check_alien_3_hp_5        26D   software.psm
   check_alien_3_hp_6        273   software.psm
   check_alien_3_hp_7        279   software.psm
   check_alien_3_hp_8        27F   software.psm
   check_alien_2_hp          285   software.psm
   check_alien_2_hp_1        2BD   software.psm
   check_alien_2_hp_2        2C3   software.psm
   check_alien_2_hp_3        2C9   software.psm
   check_alien_2_hp_4        2CF   software.psm
   check_alien_2_hp_5        2D5   software.psm
   check_alien_2_hp_6        2DB   software.psm
   check_alien_2_hp_7        2E1   software.psm
   check_alien_2_hp_8        2E7   software.psm
   check_alien_1_hp          2ED   software.psm
   check_alien_1_hp_1        325   software.psm
   check_alien_1_hp_2        32B   software.psm
   check_alien_1_hp_3        331   software.psm
   check_alien_1_hp_4        337   software.psm
   check_alien_1_hp_5        33D   software.psm
   check_alien_1_hp_6        343   software.psm
   check_alien_1_hp_7        349   software.psm
   check_alien_1_hp_8        34F   software.psm
   check_shield              355   software.psm
   check_shield1             366   software.psm
   check_shield2             371   software.psm
   check_shield3             37C   software.psm
   check_shield4             387   software.psm
   shield1_hit               392   software.psm
   shield2_hit               399   software.psm
   shield3_hit               3A0   software.psm
   shield4_hit               3A7   software.psm
   upd_shields               3AE   software.psm
   draw_shield1_full         3BF   software.psm
   draw_shield2_full         3E5   software.psm
   draw_shield3_full         40B   software.psm
   draw_shield4_full         431   software.psm
   calc_gameend              457   software.psm
   goto_attrone              45B   software.psm
   goto_attrtwo              45E   software.psm
   goto_gameend              461   software.psm
   draw_gs                   464   software.psm
   draw_gs_debug             46E   software.psm
   draw_attrone              471   software.psm
   draw_attrtwo              4AE   software.psm
   draw_playing              4CA   software.psm
 * draw_alien_1              4E4   software.psm
   draw_alien_2              4F4   software.psm
   draw_alien_3              505   software.psm
   draw_alien_4              516   software.psm
   draw_alien_5              527   software.psm
   draw_alien_6              538   software.psm
   draw_alien_7              549   software.psm
   draw_alien_8              55A   software.psm
   draw_alien_9              56B   software.psm
   draw_alien_10             57C   software.psm
   draw_alien_11             58E   software.psm
   draw_alien_12             5A0   software.psm
   draw_alien_13             5B2   software.psm
   draw_alien_14             5C4   software.psm
   draw_alien_15             5D6   software.psm
   draw_alien_16             5E8   software.psm
   draw_alien_17             5FA   software.psm
   draw_alien_18             60B   software.psm
   draw_alien_19             61D   software.psm
   draw_alien_20             62F   software.psm
   draw_alien_21             641   software.psm
   draw_alien_22             653   software.psm
   draw_alien_23             665   software.psm
   draw_alien_24             677   software.psm
   draw_alien_25             689   software.psm
   draw_alien_26             69A   software.psm
   draw_alien_27             6AC   software.psm
   draw_alien_28             6BE   software.psm
   draw_alien_29             6D0   software.psm
   draw_alien_30             6E2   software.psm
   draw_alien_31             6F4   software.psm
   draw_alien_32             706   software.psm
   draw_alien_33             718   software.psm
   draw_alien_34             729   software.psm
   draw_alien_35             73B   software.psm
   draw_alien_36             74D   software.psm
   draw_alien_37             75F   software.psm
   draw_alien_38             771   software.psm
   draw_alien_39             783   software.psm
   draw_alien_40             795   software.psm
   draw_gameend              7A8   software.psm
   moveto                    7E2   software.psm
   drawto                    7E5   software.psm
 * isr_vector                7FF   software.psm

      * Line label has not been referenced in any instructions.
        Hint - This may indicate unused code that could be
               removed to reduce the size of this program.



Instruction usage statistics

 Instruction    Instances

 LOAD            333
 STAR              -

 AND               -
 OR               12
 XOR              53

 ADD             280
 ADDCY             1
 SUB             103
 SUBCY             1

 TEST             94
 TESTCY           32
 COMPARE         127
 COMPARECY         4

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               5
 SR1               -
 SRX               1
 SRA               -
 RR                -

 REGBANK           -

 INPUT             4
 OUTPUT           16
 OUTPUTK           -

 STORE           269
 FETCH           269

 DISABLE           -
 ENABLE            1
 RETURNI           1

 JUMP            272
 JUMP@             -
 CALL            321
 CALL@             -
 RETURN           40
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
