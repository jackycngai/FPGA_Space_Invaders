KCPSM6 Assembler log file for program 'C:\Users\Jacky\FPGA_Space_Invaders\software\software.psm'.
Generated by KCPSM6 version v2.51
Ken Chapman - Xilinx Ltd - 29th May 2013

Assembly datestamp: 08 Dec 2016
Assembly timestamp: 19:02:39

Contents
  Assembly listing
  List of PSM files
  List of CONSTANTs
  List of TABLEs
  List of STRINGs
  List of line labels
  Instruction usage statistics


Last occupied address: 7FF hex
Nominal program memory size: 2K (2048)   address(10:0)
Actual memory size: 4096
  (Default memory size)
Occupied memory locations: 1288
Memory locations available: 2808


Assembly listing

 Addr Code                            Instruction

 000                                  ;;============================================================================
 000                                  ;; File: software.psm
 000                                  ;; This is the PicoBlaze example game program for EE178 Lab #8.
 000                                  ;; No guarantee this is bug-free but it is a playable example.
 000                                  ;;============================================================================
 000                                  ;;============================================================================
 000                                  ;; Editor: Thi Le
 000                                  ;; Current Version: 1.4
 000                                  ;; Change Log: 1.0 - initial file provided
 000                                  ;;      1.1 - replaced padl with tank and cleaned up code
 000                                  ;;      1.2 - added in bullet, bullet shooting, and bullet resetting
 000                                  ;;      1.3 - added in shield drawings
 000                                  ;;      1.4 - completion of shield hit detection and bullet reset
 000                                  ;;============================================================================
 000                                  ;;============================================================================
 000                                  ;; Ports and related constants.
 000                                  ;;============================================================================
 000                                  CONSTANT stax, 00                          ; port for 8-bit start-x
 000                                  CONSTANT stay, 01                          ; port for 8-bit start-y
 000                                  CONSTANT endx, 02                          ; port for 8-bit end-x
 000                                  CONSTANT endy, 03                          ; port for 8-bit end-y
 000                                  CONSTANT busy, 04                          ; port for 8-bit busy
 000                                  CONSTANT beam, 05                          ; port for 8-bit beam
 000                                  CONSTANT mode, 06                          ; port for 8-bit mode
 000                                  CONSTANT prng, 07                          ; port for 8-bit prng
 000                                  CONSTANT leds_lo, 08                       ; port for 8-bit led data out
 000                                  CONSTANT leds_hi, 09                       ; port for 8-bit led data out
 000                                  CONSTANT qssd_lo, 0A                       ; port for 8-bit qssd data out
 000                                  CONSTANT qssd_hi, 0B                       ; port for 8-bit qssd data out
 000                                  CONSTANT qssd_dp, 0C                       ; port for 8-bit qssd data out
 000                                  CONSTANT switches_lo, 0D                   ; port for 8-bit switch input
 000                                  CONSTANT switches_hi, 0E                   ; port for 8-bit switch input
 000                                  CONSTANT buttons, 0F                       ; port for 8-bit button input
 000                                  CONSTANT busy_go, 01                       ; go command and busy status
 000                                  CONSTANT beam_hi, 0F                       ; beam high intensity
 000                                  CONSTANT beam_md, 07                       ; beam med intensity
 000                                  CONSTANT beam_lo, 03                       ; beam low intensity
 000                                  CONSTANT mode_hld, 00                      ; mode hold framebuffer
 000                                  CONSTANT mode_clr, 01                      ; mode clear framebuffer
 000                                  CONSTANT mode_lin, 02                      ; mode linear decay
 000                                  CONSTANT mode_exp, 03                      ; mode exponential decay
 000                                  CONSTANT buttons_ct, 10                    ; center
 000                                  CONSTANT buttons_up, 08                    ; up
 000                                  CONSTANT buttons_dn, 04                    ; down
 000                                  CONSTANT buttons_lf, 02                    ; left
 000                                  CONSTANT buttons_rt, 01                    ; right
 000                                  ;;============================================================================
 000                                  ;; Game state declarations.
 000                                  ;;============================================================================
 000                                  NAMEREG s0, gs_major
 000                                  CONSTANT gs_major_attrone, 00              ; state assignment
 000                                  CONSTANT gs_major_attrtwo, 01              ; state assignment
 000                                  CONSTANT gs_major_playing, 02              ; state assignment
 000                                  CONSTANT gs_major_gameend, 03              ; state assignment
 000                                  NAMEREG s1, gs_minor
 000                                  CONSTANT gs_minor_begins, 00               ; counter initialize
 000                                  CONSTANT gs_minor_twosec, 78               ; frame count about 2.0 secs
 000                                  CONSTANT gs_minor_onesec, 3C               ; frame count about 1.0 secs
 000                                  CONSTANT gs_minor_getrdy, 1E               ; frame count about 0.5 secs
 000                                  NAMEREG s2, gs_tbulletx
 000                                  NAMEREG s3, gs_tbullety
 000                                  NAMEREG s4, gs_tbulletdy
 000                                  CONSTANT gs_tbullet_xdim, 00               ; it's this plus 1
 000                                  CONSTANT gs_tbullet_ydim, 05               ; it's this plus 1
 000                                  CONSTANT gs_tbullet_speed, 08              ; pixels per frame
 000                                  NAMEREG s5, gs_tankx
 000                                  CONSTANT gs_tanky, F4                      ; tank y location
 000                                  CONSTANT gs_tank_xdim, 10                  ; it's this plus 1
 000                                  CONSTANT gs_tank_ydim, 08                  ; it's this plus 1
 000                                  CONSTANT gs_tank_speed, 02                 ; pixels per frame
 000                                  NAMEREG s6, shieldshp                      ; health register counter for 4 shields: 00 00 00 00
 000                                  CONSTANT shield1hit, 40                    ; add to shieldshp when shield 1 is hit: 01 00 00 00
 000                                  CONSTANT shield2hit, 10                    ; add to shieldshp when shield 2 is hit: 00 01 00 00
 000                                  CONSTANT shield3hit, 04                    ; add to shieldshp when shield 3 is hit: 00 00 01 00
 000                                  CONSTANT shield4hit, 01                    ; add to shieldshp when shield 4 is hit: 00 00 00 01
 000                                  CONSTANT shieldxdim, 18                    ; shield x dimension is 24 pixels
 000                                  CONSTANT shieldydim, 14                    ; shield y dimension is 20 pixels
 000                                  CONSTANT shield1x, 10                      ; shield 1 starts at x = 16
 000                                  CONSTANT shield2x, 52                      ; shield 2 starts at x = 82
 000                                  CONSTANT shield3x, 95                      ; shield 3 starts at x = 149
 000                                  CONSTANT shield4x, D7                      ; shield 4 starts at x = 215
 000                                  CONSTANT shieldy, E0                       ; shield starts at y = 224
 000                                  CONSTANT alien_x, 00                       ; scratchpad memory location
 000                                  CONSTANT alien_y, 01
 000                                  CONSTANT alien_1_hp, 02
 000                                  CONSTANT alien_2_hp, 03
 000                                  CONSTANT alien_3_hp, 04
 000                                  CONSTANT alien_4_hp, 05
 000                                  CONSTANT alien_5_hp, 06
 000                                  CONSTANT alien_x_dim, 08
 000                                  CONSTANT alien_y_dim, 02
 000                                  ;;============================================================================
 000                                  ;; Global variables.
 000                                  ;;============================================================================
 000                                  NAMEREG s7, resvd1                         ; reserved
 000                                  NAMEREG s8, resvd2                         ; reserved
 000                                  NAMEREG sC, resvd3                         ; reserved
 000                                  NAMEREG s9, xpos                           ; for drawing routines
 000                                  NAMEREG sA, ypos                           ; for drawing routines
 000                                  NAMEREG sB, tbullet_en                     ; for tank bullet enable
 000                                  NAMEREG sD, btnsamp                        ; button sample
 000                                  NAMEREG sE, loopvar                        ; for loops
 000                                  NAMEREG sF, scratch                        ; for scratch
 000                                  ;;============================================================================
 000                                  ;; Other stuff.
 000                                  ;;============================================================================
 000                                  CONSTANT minusone, FF                      ; minusone
 000                                  CONSTANT minusmax, 80                      ; minus 128
 000                                  CONSTANT plusmax, 7F                       ; plus 127
 000                                  CONSTANT zero, 00                          ; zero
 000                                  CONSTANT one, 01                           ; one
 000                                  ;;============================================================================
 000                                  ;; Boot.
 000                                  ;; This performs one-time initialization of the hardware and the game state.
 000                                  ;;============================================================================
 000                            boot: 
 000  20008                           CALL 008[hw_init]                          ; initial hardware setup
 001  20016                           CALL 016[gs_init]                          ; set initial game state
 002  28001                           ENABLE INTERRUPT                           ; enable vblnk interrupt
 003                                  ;;============================================================================
 003                                  ;; Main.
 003                                  ;; This is an empty loop, does nothing, waiting for interrupts to occur.
 003                                  ;;============================================================================
 003                            main: 
 003  22003                           JUMP 003[main]                             ; empty loop, does nothing
 004                                  ;;============================================================================
 004                                  ;; Interrupt.
 004                                  ;; This is the main game logic.  At each interrupt, the procedure is to read
 004                                  ;; the user input, calculate the next game state, and then draw the game
 004                                  ;; state on the display.
 004                                  ;;============================================================================
 004                             isr: 
 004  20027                           CALL 027[user_input]                       ; get the user input
 005  20029                           CALL 029[calc_next_gs]                     ; calculate next state
 006  200DF                           CALL 0DF[draw_gs]                          ; draw the state
 007  29001                           RETURNI ENABLE                             ; return with enable
 008                                  ;;============================================================================
 008                                  ;; Subroutine: hw_init
 008                                  ;; This puts the hardware into a known, initial state.  This includes a wait
 008                                  ;; to make sure the line drawing harware is idle (a wait loop which is also
 008                                  ;; called from other routines, as a subroutine).
 008                                  ;;============================================================================
 008                         hw_init: 
 008  01F00                           LOAD sF[scratch], 00[zero]                 ; going to use lot of zero
 009  2DF08                           OUTPUT sF[scratch], 08[leds_lo]            ; turn off lo leds
 00A  2DF09                           OUTPUT sF[scratch], 09[leds_hi]            ; turn off hi leds
 00B  2DF0A                           OUTPUT sF[scratch], 0A[qssd_lo]            ; zeroize qssd lo
 00C  2DF0B                           OUTPUT sF[scratch], 0B[qssd_hi]            ; zeroize qssd hi
 00D  2DF0C                           OUTPUT sF[scratch], 0C[qssd_dp]            ; turn off qssd dots
 00E  01F03                           LOAD sF[scratch], 03[mode_exp]             ; load desired mode
 00F  2DF06                           OUTPUT sF[scratch], 06[mode]               ; program the framebuffer
 010  01F0F                           LOAD sF[scratch], 0F[beam_hi]              ; load desired beam
 011  2DF05                           OUTPUT sF[scratch], 05[beam]               ; program the framebuffer
 012                    hw_init_wait: 
 012  09F04                           INPUT sF[scratch], 04[busy]                ; get framebuffer busy
 013  1DF01                           COMPARE sF[scratch], 01[busy_go]           ; check framebuffer busy
 014  32012                           JUMP Z, 012[hw_init_wait]                  ; back to wait if busy
 015  25000                           RETURN                                     ; return
 016                                  ;;============================================================================
 016                                  ;; Subroutine: gs_init
 016                                  ;; This puts the game into a known, initial state.  I've assigned all of the
 016                                  ;; game state to a known value -- although some of these assignments do not
 016                                  ;; really matter based on design of the game state machine.
 016                                  ;;============================================================================
 016                         gs_init: 
 016  01000                           LOAD s0[gs_major], 00[gs_major_attrone]    ; start in attract mdoe
 017  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]     ; start with counter zero
 018  01200                           LOAD s2[gs_tbulletx], 00[zero]             ; doesn't really matter
 019  01300                           LOAD s3[gs_tbullety], 00[zero]             ; doesn't really matter
 01A  01500                           LOAD s5[gs_tankx], 00[zero]                ; doesn't really matter
 01B  01400                           LOAD s4[gs_tbulletdy], 00[zero]            ; doesn't really matter
 01C  01B00                           LOAD sB[tbullet_en], 00[zero]              ; start with top button not pressed
 01D  01F00                           LOAD sF[scratch], 00[zero]                 ; loads zero to scratch
 01E  2FF00                           STORE sF[scratch], 00[alien_x]             ; aliens start at 0,0
 01F  2FF01                           STORE sF[scratch], 01[alien_y]             ; aliens start at 0,0
 020  01FFF                           LOAD sF[scratch], FF                       ; loads ff to scratch
 021  2FF02                           STORE sF[scratch], 02[alien_1_hp]          ; sets full health to aliens
 022  2FF03                           STORE sF[scratch], 03[alien_2_hp]          ; sets full health to aliens
 023  2FF04                           STORE sF[scratch], 04[alien_3_hp]          ; sets full health to aliens
 024  2FF05                           STORE sF[scratch], 05[alien_4_hp]          ; sets full health to aliens
 025  2FF06                           STORE sF[scratch], 06[alien_5_hp]          ; sets full health to aliens
 026  25000                           RETURN                                     ; return
 027                                  ;;============================================================================
 027                                  ;; Subroutine: user_input
 027                                  ;; This samples the user inputs required for this game (which happens to be
 027                                  ;; only the buttons, but this could is extended to the switches as well).
 027                                  ;; This subroutine calls an example of how to use the RAM scratchpad, by
 027                                  ;; implementing access of a 256x8 array using switches, button, and qssd.
 027                                  ;; The call to the ram_example routine (and ram_example routine itself)
 027                                  ;; can be entirely removed as it is not needed in this game.
 027                                  ;;============================================================================
 027                      user_input: 
 027  09D0F                           INPUT sD[btnsamp], 0F[buttons]             ; sample button hardware
 028  25000                           RETURN                                     ; return
 029                                  ;;============================================================================
 029                                  ;; Subroutine: calc_next_gs
 029                                  ;; This logic calculates the next state of the game, given the sampled user
 029                                  ;; inputs and the current state of the game.
 029                                  ;;============================================================================
 029                    calc_next_gs: 
 029  1D000                           COMPARE s0[gs_major], 00[gs_major_attrone] ; are we in attrone?
 02A  32032                           JUMP Z, 032[calc_attrone]                  ; do ns calc for attrone
 02B  1D001                           COMPARE s0[gs_major], 01[gs_major_attrtwo] ; are we in attrtwo?
 02C  32038                           JUMP Z, 038[calc_attrtwo]                  ; do ns calc for attrtwo
 02D  1D002                           COMPARE s0[gs_major], 02[gs_major_playing] ; are we in playing?
 02E  32055                           JUMP Z, 055[calc_playing]                  ; do ns calc for playing
 02F  1D003                           COMPARE s0[gs_major], 03[gs_major_gameend] ; are we in gameend?
 030  320D2                           JUMP Z, 0D2[calc_gameend]                  ; do ns calc for gameend
 031  25000                           RETURN 
 032                    calc_attrone: 
 032  0DD10                           TEST sD[btnsamp], 10[buttons_ct]           ; starts game if center button is pressed
 033  3603E                           JUMP NZ, 03E[initial_positions]            ; othersize, swap between bong and ec
 034  1D178                           COMPARE s1[gs_minor], 78[gs_minor_twosec]  ; attrone is bong, attrtwo is ec
 035  320D9                           JUMP Z, 0D9[goto_attrtwo]
 036  11101                           ADD s1[gs_minor], 01[one]
 037  25000                           RETURN 
 038                    calc_attrtwo: 
 038  0DD10                           TEST sD[btnsamp], 10[buttons_ct]
 039  3603E                           JUMP NZ, 03E[initial_positions]
 03A  1D13C                           COMPARE s1[gs_minor], 3C[gs_minor_onesec]
 03B  320D6                           JUMP Z, 0D6[goto_attrone]
 03C  11101                           ADD s1[gs_minor], 01[one]
 03D  25000                           RETURN 
 03E               initial_positions: 
 03E  01510                           LOAD s5[gs_tankx], 10[gs_tank_xdim]        ; start tank at the bottom horizontal center of screen
 03F  1450A                           SRX s5[gs_tankx]
 040  075FF                           XOR s5[gs_tankx], FF[minusone]
 041  11501                           ADD s5[gs_tankx], 01[one]
 042  11580                           ADD s5[gs_tankx], 80[minusmax]
 043  00F50                           LOAD sF[scratch], s5[gs_tankx]             ; start bullet at the upper center of the tank
 044  11F08                           ADD sF[scratch], 08
 045  002F0                           LOAD s2[gs_tbulletx], sF[scratch]
 046  01FF4                           LOAD sF[scratch], F4[gs_tanky]
 047  19F03                           SUB sF[scratch], 03
 048  003F0                           LOAD s3[gs_tbullety], sF[scratch]
 049  01002                           LOAD s0[gs_major], 02[gs_major_playing]
 04A  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 04B  01F00                           LOAD sF[scratch], 00[zero]                 ; loads zero to scratch
 04C  2FF00                           STORE sF[scratch], 00[alien_x]             ; aliens start at 0,0
 04D  2FF01                           STORE sF[scratch], 01[alien_y]             ; aliens start at 0,0
 04E  01FFF                           LOAD sF[scratch], FF                       ; loads ff to scratch
 04F  2FF02                           STORE sF[scratch], 02[alien_1_hp]          ; sets full health to aliens
 050  2FF03                           STORE sF[scratch], 03[alien_2_hp]          ; sets full health to aliens
 051  2FF04                           STORE sF[scratch], 04[alien_3_hp]          ; sets full health to aliens
 052  2FF05                           STORE sF[scratch], 05[alien_4_hp]          ; sets full health to aliens
 053  2FF06                           STORE sF[scratch], 06[alien_5_hp]          ; sets full health to aliens
 054  25000                           RETURN 
 055                    calc_playing: 
 055  20075                           CALL 075[upd_tank]                         ; go to update tank position
 056  0DD08                           TEST sD[btnsamp], 08[buttons_up]           ; check if the top button was pushed
 057  3408F                           CALL NZ, 08F[load_tbullet_en]              ; if it was, enable bullet enable
 058  1DB00                           COMPARE sB[tbullet_en], 00[zero]           ; check if bullet enable is enabled
 059  34091                           CALL NZ, 091[upd_tbullet]                  ; if it is, update shot bullet position
 05A  2005C                           CALL 05C[upd_aliens]
 05B  25000                           RETURN 
 05C                      upd_aliens: 
 05C  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 05D  1DF87                           COMPARE sF[scratch], 87                    ; compare and check if at end
 05E  30071                           CALL Z, 071[upd_aliens_y]                  ; if at end add one to y position
 05F  1DF00                           COMPARE sF[scratch], 00
 060  30071                           CALL Z, 071[upd_aliens_y]                  ; if at end add one to y position
 061  0BF01                           FETCH sF[scratch], 01[alien_y]
 062  0DF01                           TEST sF[scratch], 01
 063  3C06D                           CALL NC, 06D[upd_aliens_x_left]
 064  38069                           CALL C, 069[upd_aliens_x_right]
 065  0BF01                           FETCH sF[scratch], 01[alien_y]
 066  1DFBE                           COMPARE sF[scratch], BE
 067  300DC                           CALL Z, 0DC[goto_gameend]                  ; end the game if aliens reach end
 068  25000                           RETURN 
 069              upd_aliens_x_right: 
 069  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 06A  11F01                           ADD sF[scratch], 01[one]                   ; adds one to scratch
 06B  2FF00                           STORE sF[scratch], 00[alien_x]             ; store scratch back into alien x position
 06C  25000                           RETURN 
 06D               upd_aliens_x_left: 
 06D  0BF00                           FETCH sF[scratch], 00[alien_x]             ; store alien x position to scratch
 06E  19F01                           SUB sF[scratch], 01[one]                   ; sub one to scratch
 06F  2FF00                           STORE sF[scratch], 00[alien_x]             ; store scratch back into alien x position
 070  25000                           RETURN 
 071                    upd_aliens_y: 
 071  0BF01                           FETCH sF[scratch], 01[alien_y]             ; store alien y position to scratch
 072  11F05                           ADD sF[scratch], 05                        ; adds one to scratch
 073  2FF01                           STORE sF[scratch], 01[alien_y]             ; store scratch back into alien y position
 074  25000                           RETURN 
 075                        upd_tank: 
 075  01F00                           LOAD sF[scratch], 00[zero]                 ; update tank position
 076  0DD02                           TEST sD[btnsamp], 02[buttons_lf]
 077  1BF00                           SUBCY sF[scratch], 00[zero]
 078  0DD01                           TEST sD[btnsamp], 01[buttons_rt]
 079  13F00                           ADDCY sF[scratch], 00[zero]
 07A  1DFFF                           COMPARE sF[scratch], FF[minusone]
 07B  30084                           CALL Z, 084[upd_tank_lt]
 07C  1DF01                           COMPARE sF[scratch], 01[one]
 07D  30088                           CALL Z, 088[upd_tank_rt]
 07E  1DB00                           COMPARE sB[tbullet_en], 00[zero]           ; if bullet enable is 0, update unshot bullet x position
 07F  35000                           RETURN NZ                                  ; if bullet enable is 1, do not update bullet x position
 080  00F50                           LOAD sF[scratch], s5[gs_tankx]             ; update unshot bullet x position
 081  11F08                           ADD sF[scratch], 08
 082  002F0                           LOAD s2[gs_tbulletx], sF[scratch]
 083  25000                           RETURN 
 084                     upd_tank_lt: 
 084  19502                           SUB s5[gs_tankx], 02[gs_tank_speed]
 085  3D000                           RETURN NC
 086  01500                           LOAD s5[gs_tankx], 00[zero]
 087  25000                           RETURN 
 088                     upd_tank_rt: 
 088  11502                           ADD s5[gs_tankx], 02[gs_tank_speed]
 089  00F50                           LOAD sF[scratch], s5[gs_tankx]
 08A  11F10                           ADD sF[scratch], 10[gs_tank_xdim]
 08B  3D000                           RETURN NC
 08C  015FF                           LOAD s5[gs_tankx], FF[minusone]
 08D  19510                           SUB s5[gs_tankx], 10[gs_tank_xdim]
 08E  25000                           RETURN 
 08F                 load_tbullet_en: 
 08F  01B01                           LOAD sB[tbullet_en], 01[one]               ; enable bullet enable
 090  25000                           RETURN 
 091                     upd_tbullet: 
 091  01E08                           LOAD sE[loopvar], 08[gs_tbullet_speed]     ; loop for bullety moving up
 092                upd_tbullet_loop: 
 092  19E01                           SUB sE[loopvar], 01[one]
 093  39000                           RETURN C                                   ; needed for some reason I do not know... yet
 094  19301                           SUB s3[gs_tbullety], 01[one]
 095  32099                           JUMP Z, 099[reset_tbullet]
 096  1D3E0                           COMPARE s3[gs_tbullety], E0[shieldy]
 097  320A1                           JUMP Z, 0A1[check_shield]
 098         restart_upd_bullet_loop: 
 098  22092                           JUMP 092[upd_tbullet_loop]
 099                   reset_tbullet: ; reload bullet position when it hits something
 099  00F50                           LOAD sF[scratch], s5[gs_tankx]
 09A  11F08                           ADD sF[scratch], 08
 09B  002F0                           LOAD s2[gs_tbulletx], sF[scratch]
 09C  01FF4                           LOAD sF[scratch], F4[gs_tanky]
 09D  19F03                           SUB sF[scratch], 03
 09E  003F0                           LOAD s3[gs_tbullety], sF[scratch]
 09F  01B00                           LOAD sB[tbullet_en], 00[zero]
 0A0  25000                           RETURN 
 0A1                    check_shield: ; check which shield region the bullet is in
 0A1  01F10                           LOAD sF[scratch], 10[shield1x]
 0A2  11F18                           ADD sF[scratch], 18[shieldxdim]
 0A3  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 0A4  3A0B2                           JUMP C, 0B2[check_shield1]
 0A5  01F52                           LOAD sF[scratch], 52[shield2x]
 0A6  11F18                           ADD sF[scratch], 18[shieldxdim]
 0A7  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 0A8  3A0BA                           JUMP C, 0BA[check_shield2]
 0A9  01F95                           LOAD sF[scratch], 95[shield3x]
 0AA  11F18                           ADD sF[scratch], 18[shieldxdim]
 0AB  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 0AC  3A0C2                           JUMP C, 0C2[check_shield3]
 0AD  01FD7                           LOAD sF[scratch], D7[shield4x]
 0AE  11F18                           ADD sF[scratch], 18[shieldxdim]
 0AF  1C2F0                           COMPARE s2[gs_tbulletx], sF[scratch]
 0B0  3A0CA                           JUMP C, 0CA[check_shield4]
 0B1  22098                           JUMP 098[restart_upd_bullet_loop]
 0B2                   check_shield1: ; check if the bullet hit shield 1
 0B2  01F10                           LOAD sF[scratch], 10[shield1x]
 0B3  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0B4  3E098                           JUMP NC, 098[restart_upd_bullet_loop]
 0B5  01F10                           LOAD sF[scratch], 10[shield1x]
 0B6  11F18                           ADD sF[scratch], 18[shieldxdim]
 0B7  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0B8  3E099                           JUMP NC, 099[reset_tbullet]
 0B9  25000                           RETURN 
 0BA                   check_shield2: ; check if the bullet hit shield 2
 0BA  01F52                           LOAD sF[scratch], 52[shield2x]
 0BB  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0BC  3E098                           JUMP NC, 098[restart_upd_bullet_loop]
 0BD  01F52                           LOAD sF[scratch], 52[shield2x]
 0BE  11F18                           ADD sF[scratch], 18[shieldxdim]
 0BF  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0C0  3E099                           JUMP NC, 099[reset_tbullet]
 0C1  25000                           RETURN 
 0C2                   check_shield3: ; check if the bullet hit shield 3
 0C2  01F95                           LOAD sF[scratch], 95[shield3x]
 0C3  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0C4  3E098                           JUMP NC, 098[restart_upd_bullet_loop]
 0C5  01F95                           LOAD sF[scratch], 95[shield3x]
 0C6  11F18                           ADD sF[scratch], 18[shieldxdim]
 0C7  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0C8  3E099                           JUMP NC, 099[reset_tbullet]
 0C9  25000                           RETURN 
 0CA                   check_shield4: ; check if the bullet hit shield 4
 0CA  01FD7                           LOAD sF[scratch], D7[shield4x]
 0CB  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0CC  3E098                           JUMP NC, 098[restart_upd_bullet_loop]
 0CD  01FD7                           LOAD sF[scratch], D7[shield4x]
 0CE  11F18                           ADD sF[scratch], 18[shieldxdim]
 0CF  1CF20                           COMPARE sF[scratch], s2[gs_tbulletx]
 0D0  3E099                           JUMP NC, 099[reset_tbullet]
 0D1  25000                           RETURN 
 0D2                    calc_gameend: 
 0D2  1D13C                           COMPARE s1[gs_minor], 3C[gs_minor_onesec]
 0D3  320D6                           JUMP Z, 0D6[goto_attrone]
 0D4  11101                           ADD s1[gs_minor], 01[one]
 0D5  25000                           RETURN 
 0D6                    goto_attrone: 
 0D6  01000                           LOAD s0[gs_major], 00[gs_major_attrone]
 0D7  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 0D8  25000                           RETURN 
 0D9                    goto_attrtwo: 
 0D9  01001                           LOAD s0[gs_major], 01[gs_major_attrtwo]
 0DA  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 0DB  25000                           RETURN 
 0DC                    goto_gameend: 
 0DC  01003                           LOAD s0[gs_major], 03[gs_major_gameend]
 0DD  01100                           LOAD s1[gs_minor], 00[gs_minor_begins]
 0DE  25000                           RETURN 
 0DF                                  ;;============================================================================
 0DF                                  ;; Subroutine: draw_gs
 0DF                                  ;; This uses the current game state as input, and draws it on the display.
 0DF                                  ;; This subroutine calls an example of how to output debug or diagnostic info
 0DF                                  ;; using the leds.  The call to the draw_gs_debug routine (and draw_gs_debug
 0DF                                  ;; routine itself) can be entirely remove as it is required to play the game.
 0DF                                  ;;============================================================================
 0DF                         draw_gs: 
 0DF  200E9                           CALL 0E9[draw_gs_debug]                    ; for debug info display
 0E0  1D000                           COMPARE s0[gs_major], 00[gs_major_attrone] ; are we in attrone?
 0E1  320EC                           JUMP Z, 0EC[draw_attrone]                  ; do drawing for attrone
 0E2  1D001                           COMPARE s0[gs_major], 01[gs_major_attrtwo] ; are we in attrtwo?
 0E3  32129                           JUMP Z, 129[draw_attrtwo]                  ; do drawing for attrtwo
 0E4  1D002                           COMPARE s0[gs_major], 02[gs_major_playing] ; are we in playing?
 0E5  32145                           JUMP Z, 145[draw_playing]                  ; do drawing for playing
 0E6  1D003                           COMPARE s0[gs_major], 03[gs_major_gameend] ; are we in gameend?
 0E7  324C0                           JUMP Z, 4C0[draw_gameend]                  ; do drawing for gameend
 0E8  25000                           RETURN                                     ; return
 0E9                   draw_gs_debug: 
 0E9  2D009                           OUTPUT s0[gs_major], 09[leds_hi]           ; debug display on leds
 0EA  2D108                           OUTPUT s1[gs_minor], 08[leds_lo]           ; debug display on leds
 0EB  25000                           RETURN                                     ; return
 0EC                    draw_attrone: 
 0EC  01928                           LOAD s9[xpos], 28                          ; draw letter b
 0ED  01A50                           LOAD sA[ypos], 50
 0EE  204FA                           CALL 4FA[moveto]
 0EF  01928                           LOAD s9[xpos], 28
 0F0  01A90                           LOAD sA[ypos], 90
 0F1  204FD                           CALL 4FD[drawto]
 0F2  01948                           LOAD s9[xpos], 48
 0F3  01A90                           LOAD sA[ypos], 90
 0F4  204FD                           CALL 4FD[drawto]
 0F5  01948                           LOAD s9[xpos], 48
 0F6  01A70                           LOAD sA[ypos], 70
 0F7  204FD                           CALL 4FD[drawto]
 0F8  01928                           LOAD s9[xpos], 28
 0F9  01A70                           LOAD sA[ypos], 70
 0FA  204FD                           CALL 4FD[drawto]
 0FB  01958                           LOAD s9[xpos], 58                          ; draw letter o
 0FC  01A70                           LOAD sA[ypos], 70
 0FD  204FA                           CALL 4FA[moveto]
 0FE  01958                           LOAD s9[xpos], 58
 0FF  01A90                           LOAD sA[ypos], 90
 100  204FD                           CALL 4FD[drawto]
 101  01978                           LOAD s9[xpos], 78
 102  01A90                           LOAD sA[ypos], 90
 103  204FD                           CALL 4FD[drawto]
 104  01978                           LOAD s9[xpos], 78
 105  01A70                           LOAD sA[ypos], 70
 106  204FD                           CALL 4FD[drawto]
 107  01958                           LOAD s9[xpos], 58
 108  01A70                           LOAD sA[ypos], 70
 109  204FD                           CALL 4FD[drawto]
 10A  01988                           LOAD s9[xpos], 88                          ; draw letter n
 10B  01A90                           LOAD sA[ypos], 90
 10C  204FA                           CALL 4FA[moveto]
 10D  01988                           LOAD s9[xpos], 88
 10E  01A70                           LOAD sA[ypos], 70
 10F  204FD                           CALL 4FD[drawto]
 110  019A8                           LOAD s9[xpos], A8
 111  01A70                           LOAD sA[ypos], 70
 112  204FD                           CALL 4FD[drawto]
 113  019A8                           LOAD s9[xpos], A8
 114  01A90                           LOAD sA[ypos], 90
 115  204FD                           CALL 4FD[drawto]
 116  019B8                           LOAD s9[xpos], B8                          ; draw letter g
 117  01AB0                           LOAD sA[ypos], B0
 118  204FA                           CALL 4FA[moveto]
 119  019D8                           LOAD s9[xpos], D8
 11A  01AB0                           LOAD sA[ypos], B0
 11B  204FD                           CALL 4FD[drawto]
 11C  019D8                           LOAD s9[xpos], D8
 11D  01A70                           LOAD sA[ypos], 70
 11E  204FD                           CALL 4FD[drawto]
 11F  019B8                           LOAD s9[xpos], B8
 120  01A70                           LOAD sA[ypos], 70
 121  204FD                           CALL 4FD[drawto]
 122  019B8                           LOAD s9[xpos], B8
 123  01A90                           LOAD sA[ypos], 90
 124  204FD                           CALL 4FD[drawto]
 125  019D8                           LOAD s9[xpos], D8
 126  01A90                           LOAD sA[ypos], 90
 127  204FD                           CALL 4FD[drawto]
 128  25000                           RETURN 
 129                    draw_attrtwo: 
 129  01978                           LOAD s9[xpos], 78                          ; draw letter e
 12A  01A90                           LOAD sA[ypos], 90
 12B  204FA                           CALL 4FA[moveto]
 12C  01958                           LOAD s9[xpos], 58
 12D  01A90                           LOAD sA[ypos], 90
 12E  204FD                           CALL 4FD[drawto]
 12F  01958                           LOAD s9[xpos], 58
 130  01A70                           LOAD sA[ypos], 70
 131  204FD                           CALL 4FD[drawto]
 132  01978                           LOAD s9[xpos], 78
 133  01A70                           LOAD sA[ypos], 70
 134  204FD                           CALL 4FD[drawto]
 135  01958                           LOAD s9[xpos], 58
 136  01A90                           LOAD sA[ypos], 90
 137  204FD                           CALL 4FD[drawto]
 138  019A8                           LOAD s9[xpos], A8                          ; draw letter c
 139  01A70                           LOAD sA[ypos], 70
 13A  204FA                           CALL 4FA[moveto]
 13B  01988                           LOAD s9[xpos], 88
 13C  01A70                           LOAD sA[ypos], 70
 13D  204FD                           CALL 4FD[drawto]
 13E  01988                           LOAD s9[xpos], 88
 13F  01A90                           LOAD sA[ypos], 90
 140  204FD                           CALL 4FD[drawto]
 141  019A8                           LOAD s9[xpos], A8
 142  01A90                           LOAD sA[ypos], 90
 143  204FD                           CALL 4FD[drawto]
 144  25000                           RETURN 
 145                    draw_playing: 
 145  00920                           LOAD s9[xpos], s2[gs_tbulletx]             ; draw bullet
 146  00A30                           LOAD sA[ypos], s3[gs_tbullety]
 147  204FA                           CALL 4FA[moveto]
 148  00920                           LOAD s9[xpos], s2[gs_tbulletx]
 149  00A30                           LOAD sA[ypos], s3[gs_tbullety]
 14A  11A05                           ADD sA[ypos], 05[gs_tbullet_ydim]
 14B  204FD                           CALL 4FD[drawto]
 14C  00950                           LOAD s9[xpos], s5[gs_tankx]                ; draw tank
 14D  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 14E  204FA                           CALL 4FA[moveto]
 14F  00950                           LOAD s9[xpos], s5[gs_tankx]
 150  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 151  11A08                           ADD sA[ypos], 08[gs_tank_ydim]
 152  204FD                           CALL 4FD[drawto]
 153  00950                           LOAD s9[xpos], s5[gs_tankx]
 154  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 155  11910                           ADD s9[xpos], 10[gs_tank_xdim]
 156  11A08                           ADD sA[ypos], 08[gs_tank_ydim]
 157  204FD                           CALL 4FD[drawto]
 158  00950                           LOAD s9[xpos], s5[gs_tankx]
 159  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 15A  11910                           ADD s9[xpos], 10[gs_tank_xdim]
 15B  204FD                           CALL 4FD[drawto]
 15C  00950                           LOAD s9[xpos], s5[gs_tankx]
 15D  01AF4                           LOAD sA[ypos], F4[gs_tanky]
 15E  204FD                           CALL 4FD[drawto]
 15F  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1
 160  01AE0                           LOAD sA[ypos], E0[shieldy]
 161  204FA                           CALL 4FA[moveto]
 162  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 1
 163  01AE0                           LOAD sA[ypos], E0[shieldy]
 164  19A14                           SUB sA[ypos], 14[shieldydim]
 165  204FD                           CALL 4FD[drawto]
 166  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 2
 167  01AE0                           LOAD sA[ypos], E0[shieldy]
 168  19A14                           SUB sA[ypos], 14[shieldydim]
 169  11909                           ADD s9[xpos], 09
 16A  204FD                           CALL 4FD[drawto]
 16B  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 3
 16C  01AE0                           LOAD sA[ypos], E0[shieldy]
 16D  19A0E                           SUB sA[ypos], 0E
 16E  11909                           ADD s9[xpos], 09
 16F  204FD                           CALL 4FD[drawto]
 170  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 4
 171  01AE0                           LOAD sA[ypos], E0[shieldy]
 172  19A0E                           SUB sA[ypos], 0E
 173  1190F                           ADD s9[xpos], 0F
 174  204FD                           CALL 4FD[drawto]
 175  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 5
 176  01AE0                           LOAD sA[ypos], E0[shieldy]
 177  19A14                           SUB sA[ypos], 14[shieldydim]
 178  1190F                           ADD s9[xpos], 0F
 179  204FD                           CALL 4FD[drawto]
 17A  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 6
 17B  01AE0                           LOAD sA[ypos], E0[shieldy]
 17C  11918                           ADD s9[xpos], 18[shieldxdim]
 17D  19A14                           SUB sA[ypos], 14[shieldydim]
 17E  204FD                           CALL 4FD[drawto]
 17F  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 7
 180  01AE0                           LOAD sA[ypos], E0[shieldy]
 181  11918                           ADD s9[xpos], 18[shieldxdim]
 182  204FD                           CALL 4FD[drawto]
 183  01910                           LOAD s9[xpos], 10[shield1x]                ; draw shield 1 side 8
 184  01AE0                           LOAD sA[ypos], E0[shieldy]
 185  204FD                           CALL 4FD[drawto]
 186  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2
 187  01AE0                           LOAD sA[ypos], E0[shieldy]
 188  204FA                           CALL 4FA[moveto]
 189  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 1
 18A  01AE0                           LOAD sA[ypos], E0[shieldy]
 18B  19A14                           SUB sA[ypos], 14[shieldydim]
 18C  204FD                           CALL 4FD[drawto]
 18D  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 2
 18E  01AE0                           LOAD sA[ypos], E0[shieldy]
 18F  19A14                           SUB sA[ypos], 14[shieldydim]
 190  11909                           ADD s9[xpos], 09
 191  204FD                           CALL 4FD[drawto]
 192  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 3
 193  01AE0                           LOAD sA[ypos], E0[shieldy]
 194  19A0E                           SUB sA[ypos], 0E
 195  11909                           ADD s9[xpos], 09
 196  204FD                           CALL 4FD[drawto]
 197  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 4
 198  01AE0                           LOAD sA[ypos], E0[shieldy]
 199  19A0E                           SUB sA[ypos], 0E
 19A  1190F                           ADD s9[xpos], 0F
 19B  204FD                           CALL 4FD[drawto]
 19C  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 5
 19D  01AE0                           LOAD sA[ypos], E0[shieldy]
 19E  19A14                           SUB sA[ypos], 14[shieldydim]
 19F  1190F                           ADD s9[xpos], 0F
 1A0  204FD                           CALL 4FD[drawto]
 1A1  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 6
 1A2  01AE0                           LOAD sA[ypos], E0[shieldy]
 1A3  11918                           ADD s9[xpos], 18[shieldxdim]
 1A4  19A14                           SUB sA[ypos], 14[shieldydim]
 1A5  204FD                           CALL 4FD[drawto]
 1A6  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 7
 1A7  01AE0                           LOAD sA[ypos], E0[shieldy]
 1A8  11918                           ADD s9[xpos], 18[shieldxdim]
 1A9  204FD                           CALL 4FD[drawto]
 1AA  01952                           LOAD s9[xpos], 52[shield2x]                ; draw shield 2 side 8
 1AB  01AE0                           LOAD sA[ypos], E0[shieldy]
 1AC  204FD                           CALL 4FD[drawto]
 1AD  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3
 1AE  01AE0                           LOAD sA[ypos], E0[shieldy]
 1AF  204FA                           CALL 4FA[moveto]
 1B0  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 1
 1B1  01AE0                           LOAD sA[ypos], E0[shieldy]
 1B2  19A14                           SUB sA[ypos], 14[shieldydim]
 1B3  204FD                           CALL 4FD[drawto]
 1B4  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 2
 1B5  01AE0                           LOAD sA[ypos], E0[shieldy]
 1B6  19A14                           SUB sA[ypos], 14[shieldydim]
 1B7  11909                           ADD s9[xpos], 09
 1B8  204FD                           CALL 4FD[drawto]
 1B9  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 3
 1BA  01AE0                           LOAD sA[ypos], E0[shieldy]
 1BB  19A0E                           SUB sA[ypos], 0E
 1BC  11909                           ADD s9[xpos], 09
 1BD  204FD                           CALL 4FD[drawto]
 1BE  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 4
 1BF  01AE0                           LOAD sA[ypos], E0[shieldy]
 1C0  19A0E                           SUB sA[ypos], 0E
 1C1  1190F                           ADD s9[xpos], 0F
 1C2  204FD                           CALL 4FD[drawto]
 1C3  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 5
 1C4  01AE0                           LOAD sA[ypos], E0[shieldy]
 1C5  19A14                           SUB sA[ypos], 14[shieldydim]
 1C6  1190F                           ADD s9[xpos], 0F
 1C7  204FD                           CALL 4FD[drawto]
 1C8  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 6
 1C9  01AE0                           LOAD sA[ypos], E0[shieldy]
 1CA  11918                           ADD s9[xpos], 18[shieldxdim]
 1CB  19A14                           SUB sA[ypos], 14[shieldydim]
 1CC  204FD                           CALL 4FD[drawto]
 1CD  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 7
 1CE  01AE0                           LOAD sA[ypos], E0[shieldy]
 1CF  11918                           ADD s9[xpos], 18[shieldxdim]
 1D0  204FD                           CALL 4FD[drawto]
 1D1  01995                           LOAD s9[xpos], 95[shield3x]                ; draw shield 3 side 8
 1D2  01AE0                           LOAD sA[ypos], E0[shieldy]
 1D3  204FD                           CALL 4FD[drawto]
 1D4  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4
 1D5  01AE0                           LOAD sA[ypos], E0[shieldy]
 1D6  204FA                           CALL 4FA[moveto]
 1D7  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 1
 1D8  01AE0                           LOAD sA[ypos], E0[shieldy]
 1D9  19A14                           SUB sA[ypos], 14[shieldydim]
 1DA  204FD                           CALL 4FD[drawto]
 1DB  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 2
 1DC  01AE0                           LOAD sA[ypos], E0[shieldy]
 1DD  19A14                           SUB sA[ypos], 14[shieldydim]
 1DE  11909                           ADD s9[xpos], 09
 1DF  204FD                           CALL 4FD[drawto]
 1E0  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 3
 1E1  01AE0                           LOAD sA[ypos], E0[shieldy]
 1E2  19A0E                           SUB sA[ypos], 0E
 1E3  11909                           ADD s9[xpos], 09
 1E4  204FD                           CALL 4FD[drawto]
 1E5  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 4
 1E6  01AE0                           LOAD sA[ypos], E0[shieldy]
 1E7  19A0E                           SUB sA[ypos], 0E
 1E8  1190F                           ADD s9[xpos], 0F
 1E9  204FD                           CALL 4FD[drawto]
 1EA  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 5
 1EB  01AE0                           LOAD sA[ypos], E0[shieldy]
 1EC  19A14                           SUB sA[ypos], 14[shieldydim]
 1ED  1190F                           ADD s9[xpos], 0F
 1EE  204FD                           CALL 4FD[drawto]
 1EF  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 6
 1F0  01AE0                           LOAD sA[ypos], E0[shieldy]
 1F1  11918                           ADD s9[xpos], 18[shieldxdim]
 1F2  19A14                           SUB sA[ypos], 14[shieldydim]
 1F3  204FD                           CALL 4FD[drawto]
 1F4  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 7
 1F5  01AE0                           LOAD sA[ypos], E0[shieldy]
 1F6  11918                           ADD s9[xpos], 18[shieldxdim]
 1F7  204FD                           CALL 4FD[drawto]
 1F8  019D7                           LOAD s9[xpos], D7[shield4x]                ; draw shield 4 side 8
 1F9  01AE0                           LOAD sA[ypos], E0[shieldy]
 1FA  204FD                           CALL 4FD[drawto]
 1FB  201FD                           CALL 1FD[draw_alien_1]
 1FC  25000                           RETURN 
 1FD                    draw_alien_1: 
 1FD  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 1FE  0DF01                           TEST sF[scratch], 01
 1FF  3E20D                           JUMP NC, 20D[draw_alien_2]
 200  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 1 alien
 201  009F0                           LOAD s9[xpos], sF[scratch]
 202  0BF01                           FETCH sF[scratch], 01[alien_y]
 203  00AF0                           LOAD sA[ypos], sF[scratch]
 204  204FA                           CALL 4FA[moveto]
 205  11908                           ADD s9[xpos], 08[alien_x_dim]
 206  204FD                           CALL 4FD[drawto]
 207  11A02                           ADD sA[ypos], 02[alien_y_dim]
 208  204FD                           CALL 4FD[drawto]
 209  19908                           SUB s9[xpos], 08[alien_x_dim]
 20A  204FD                           CALL 4FD[drawto]
 20B  19A02                           SUB sA[ypos], 02[alien_y_dim]
 20C  204FD                           CALL 4FD[drawto]
 20D                    draw_alien_2: 
 20D  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 20E  0DF02                           TEST sF[scratch], 02
 20F  3E21E                           JUMP NC, 21E[draw_alien_3]
 210  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 2 alien
 211  11F10                           ADD sF[scratch], 10
 212  009F0                           LOAD s9[xpos], sF[scratch]
 213  0BF01                           FETCH sF[scratch], 01[alien_y]
 214  00AF0                           LOAD sA[ypos], sF[scratch]
 215  204FA                           CALL 4FA[moveto]
 216  11908                           ADD s9[xpos], 08[alien_x_dim]
 217  204FD                           CALL 4FD[drawto]
 218  11A02                           ADD sA[ypos], 02[alien_y_dim]
 219  204FD                           CALL 4FD[drawto]
 21A  19908                           SUB s9[xpos], 08[alien_x_dim]
 21B  204FD                           CALL 4FD[drawto]
 21C  19A02                           SUB sA[ypos], 02[alien_y_dim]
 21D  204FD                           CALL 4FD[drawto]
 21E                    draw_alien_3: 
 21E  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 21F  0DF04                           TEST sF[scratch], 04
 220  3E21E                           JUMP NC, 21E[draw_alien_3]
 221  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 3 alien
 222  11F20                           ADD sF[scratch], 20
 223  009F0                           LOAD s9[xpos], sF[scratch]
 224  0BF01                           FETCH sF[scratch], 01[alien_y]
 225  00AF0                           LOAD sA[ypos], sF[scratch]
 226  204FA                           CALL 4FA[moveto]
 227  11908                           ADD s9[xpos], 08[alien_x_dim]
 228  204FD                           CALL 4FD[drawto]
 229  11A02                           ADD sA[ypos], 02[alien_y_dim]
 22A  204FD                           CALL 4FD[drawto]
 22B  19908                           SUB s9[xpos], 08[alien_x_dim]
 22C  204FD                           CALL 4FD[drawto]
 22D  19A02                           SUB sA[ypos], 02[alien_y_dim]
 22E  204FD                           CALL 4FD[drawto]
 22F                    draw_alien_4: 
 22F  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 230  0DF08                           TEST sF[scratch], 08
 231  3E240                           JUMP NC, 240[draw_alien_5]
 232  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 4 alien
 233  11F30                           ADD sF[scratch], 30
 234  009F0                           LOAD s9[xpos], sF[scratch]
 235  0BF01                           FETCH sF[scratch], 01[alien_y]
 236  00AF0                           LOAD sA[ypos], sF[scratch]
 237  204FA                           CALL 4FA[moveto]
 238  11908                           ADD s9[xpos], 08[alien_x_dim]
 239  204FD                           CALL 4FD[drawto]
 23A  11A02                           ADD sA[ypos], 02[alien_y_dim]
 23B  204FD                           CALL 4FD[drawto]
 23C  19908                           SUB s9[xpos], 08[alien_x_dim]
 23D  204FD                           CALL 4FD[drawto]
 23E  19A02                           SUB sA[ypos], 02[alien_y_dim]
 23F  204FD                           CALL 4FD[drawto]
 240                    draw_alien_5: 
 240  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 241  0DF10                           TEST sF[scratch], 10
 242  3E251                           JUMP NC, 251[draw_alien_6]
 243  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 5 alien
 244  11F40                           ADD sF[scratch], 40
 245  009F0                           LOAD s9[xpos], sF[scratch]
 246  0BF01                           FETCH sF[scratch], 01[alien_y]
 247  00AF0                           LOAD sA[ypos], sF[scratch]
 248  204FA                           CALL 4FA[moveto]
 249  11908                           ADD s9[xpos], 08[alien_x_dim]
 24A  204FD                           CALL 4FD[drawto]
 24B  11A02                           ADD sA[ypos], 02[alien_y_dim]
 24C  204FD                           CALL 4FD[drawto]
 24D  19908                           SUB s9[xpos], 08[alien_x_dim]
 24E  204FD                           CALL 4FD[drawto]
 24F  19A02                           SUB sA[ypos], 02[alien_y_dim]
 250  204FD                           CALL 4FD[drawto]
 251                    draw_alien_6: 
 251  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 252  0DF20                           TEST sF[scratch], 20
 253  3E262                           JUMP NC, 262[draw_alien_7]
 254  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 6 alien
 255  11F50                           ADD sF[scratch], 50
 256  009F0                           LOAD s9[xpos], sF[scratch]
 257  0BF01                           FETCH sF[scratch], 01[alien_y]
 258  00AF0                           LOAD sA[ypos], sF[scratch]
 259  204FA                           CALL 4FA[moveto]
 25A  11908                           ADD s9[xpos], 08[alien_x_dim]
 25B  204FD                           CALL 4FD[drawto]
 25C  11A02                           ADD sA[ypos], 02[alien_y_dim]
 25D  204FD                           CALL 4FD[drawto]
 25E  19908                           SUB s9[xpos], 08[alien_x_dim]
 25F  204FD                           CALL 4FD[drawto]
 260  19A02                           SUB sA[ypos], 02[alien_y_dim]
 261  204FD                           CALL 4FD[drawto]
 262                    draw_alien_7: 
 262  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 263  0DF40                           TEST sF[scratch], 40
 264  3E273                           JUMP NC, 273[draw_alien_8]
 265  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 7 alien
 266  11F60                           ADD sF[scratch], 60
 267  009F0                           LOAD s9[xpos], sF[scratch]
 268  0BF01                           FETCH sF[scratch], 01[alien_y]
 269  00AF0                           LOAD sA[ypos], sF[scratch]
 26A  204FA                           CALL 4FA[moveto]
 26B  11908                           ADD s9[xpos], 08[alien_x_dim]
 26C  204FD                           CALL 4FD[drawto]
 26D  11A02                           ADD sA[ypos], 02[alien_y_dim]
 26E  204FD                           CALL 4FD[drawto]
 26F  19908                           SUB s9[xpos], 08[alien_x_dim]
 270  204FD                           CALL 4FD[drawto]
 271  19A02                           SUB sA[ypos], 02[alien_y_dim]
 272  204FD                           CALL 4FD[drawto]
 273                    draw_alien_8: 
 273  0BF02                           FETCH sF[scratch], 02[alien_1_hp]
 274  0DF80                           TEST sF[scratch], 80
 275  3E284                           JUMP NC, 284[draw_alien_9]
 276  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 8 alien
 277  11F70                           ADD sF[scratch], 70
 278  009F0                           LOAD s9[xpos], sF[scratch]
 279  0BF01                           FETCH sF[scratch], 01[alien_y]
 27A  00AF0                           LOAD sA[ypos], sF[scratch]
 27B  204FA                           CALL 4FA[moveto]
 27C  11908                           ADD s9[xpos], 08[alien_x_dim]
 27D  204FD                           CALL 4FD[drawto]
 27E  11A02                           ADD sA[ypos], 02[alien_y_dim]
 27F  204FD                           CALL 4FD[drawto]
 280  19908                           SUB s9[xpos], 08[alien_x_dim]
 281  204FD                           CALL 4FD[drawto]
 282  19A02                           SUB sA[ypos], 02[alien_y_dim]
 283  204FD                           CALL 4FD[drawto]
 284                    draw_alien_9: 
 284  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 285  0DF01                           TEST sF[scratch], 01
 286  3E295                           JUMP NC, 295[draw_alien_10]
 287  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 9 alien
 288  009F0                           LOAD s9[xpos], sF[scratch]
 289  0BF01                           FETCH sF[scratch], 01[alien_y]
 28A  11F08                           ADD sF[scratch], 08
 28B  00AF0                           LOAD sA[ypos], sF[scratch]
 28C  204FA                           CALL 4FA[moveto]
 28D  11908                           ADD s9[xpos], 08[alien_x_dim]
 28E  204FD                           CALL 4FD[drawto]
 28F  11A02                           ADD sA[ypos], 02[alien_y_dim]
 290  204FD                           CALL 4FD[drawto]
 291  19908                           SUB s9[xpos], 08[alien_x_dim]
 292  204FD                           CALL 4FD[drawto]
 293  19A02                           SUB sA[ypos], 02[alien_y_dim]
 294  204FD                           CALL 4FD[drawto]
 295                   draw_alien_10: 
 295  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 296  0DF02                           TEST sF[scratch], 02
 297  3E2A7                           JUMP NC, 2A7[draw_alien_11]
 298  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 10 alien
 299  11F10                           ADD sF[scratch], 10
 29A  009F0                           LOAD s9[xpos], sF[scratch]
 29B  0BF01                           FETCH sF[scratch], 01[alien_y]
 29C  11F08                           ADD sF[scratch], 08
 29D  00AF0                           LOAD sA[ypos], sF[scratch]
 29E  204FA                           CALL 4FA[moveto]
 29F  11908                           ADD s9[xpos], 08[alien_x_dim]
 2A0  204FD                           CALL 4FD[drawto]
 2A1  11A02                           ADD sA[ypos], 02[alien_y_dim]
 2A2  204FD                           CALL 4FD[drawto]
 2A3  19908                           SUB s9[xpos], 08[alien_x_dim]
 2A4  204FD                           CALL 4FD[drawto]
 2A5  19A02                           SUB sA[ypos], 02[alien_y_dim]
 2A6  204FD                           CALL 4FD[drawto]
 2A7                   draw_alien_11: 
 2A7  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2A8  0DF04                           TEST sF[scratch], 04
 2A9  3E2B9                           JUMP NC, 2B9[draw_alien_12]
 2AA  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 11 alien
 2AB  11F20                           ADD sF[scratch], 20
 2AC  009F0                           LOAD s9[xpos], sF[scratch]
 2AD  0BF01                           FETCH sF[scratch], 01[alien_y]
 2AE  11F08                           ADD sF[scratch], 08
 2AF  00AF0                           LOAD sA[ypos], sF[scratch]
 2B0  204FA                           CALL 4FA[moveto]
 2B1  11908                           ADD s9[xpos], 08[alien_x_dim]
 2B2  204FD                           CALL 4FD[drawto]
 2B3  11A02                           ADD sA[ypos], 02[alien_y_dim]
 2B4  204FD                           CALL 4FD[drawto]
 2B5  19908                           SUB s9[xpos], 08[alien_x_dim]
 2B6  204FD                           CALL 4FD[drawto]
 2B7  19A02                           SUB sA[ypos], 02[alien_y_dim]
 2B8  204FD                           CALL 4FD[drawto]
 2B9                   draw_alien_12: 
 2B9  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2BA  0DF08                           TEST sF[scratch], 08
 2BB  3E2CB                           JUMP NC, 2CB[draw_alien_13]
 2BC  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 12 alien
 2BD  11F30                           ADD sF[scratch], 30
 2BE  009F0                           LOAD s9[xpos], sF[scratch]
 2BF  0BF01                           FETCH sF[scratch], 01[alien_y]
 2C0  11F08                           ADD sF[scratch], 08
 2C1  00AF0                           LOAD sA[ypos], sF[scratch]
 2C2  204FA                           CALL 4FA[moveto]
 2C3  11908                           ADD s9[xpos], 08[alien_x_dim]
 2C4  204FD                           CALL 4FD[drawto]
 2C5  11A02                           ADD sA[ypos], 02[alien_y_dim]
 2C6  204FD                           CALL 4FD[drawto]
 2C7  19908                           SUB s9[xpos], 08[alien_x_dim]
 2C8  204FD                           CALL 4FD[drawto]
 2C9  19A02                           SUB sA[ypos], 02[alien_y_dim]
 2CA  204FD                           CALL 4FD[drawto]
 2CB                   draw_alien_13: 
 2CB  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2CC  0DF10                           TEST sF[scratch], 10
 2CD  3E2DD                           JUMP NC, 2DD[draw_alien_14]
 2CE  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 13 alien
 2CF  11F40                           ADD sF[scratch], 40
 2D0  009F0                           LOAD s9[xpos], sF[scratch]
 2D1  0BF01                           FETCH sF[scratch], 01[alien_y]
 2D2  11F08                           ADD sF[scratch], 08
 2D3  00AF0                           LOAD sA[ypos], sF[scratch]
 2D4  204FA                           CALL 4FA[moveto]
 2D5  11908                           ADD s9[xpos], 08[alien_x_dim]
 2D6  204FD                           CALL 4FD[drawto]
 2D7  11A02                           ADD sA[ypos], 02[alien_y_dim]
 2D8  204FD                           CALL 4FD[drawto]
 2D9  19908                           SUB s9[xpos], 08[alien_x_dim]
 2DA  204FD                           CALL 4FD[drawto]
 2DB  19A02                           SUB sA[ypos], 02[alien_y_dim]
 2DC  204FD                           CALL 4FD[drawto]
 2DD                   draw_alien_14: 
 2DD  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2DE  0DF20                           TEST sF[scratch], 20
 2DF  3E2EF                           JUMP NC, 2EF[draw_alien_15]
 2E0  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 14 alien
 2E1  11F50                           ADD sF[scratch], 50
 2E2  009F0                           LOAD s9[xpos], sF[scratch]
 2E3  0BF01                           FETCH sF[scratch], 01[alien_y]
 2E4  11F08                           ADD sF[scratch], 08
 2E5  00AF0                           LOAD sA[ypos], sF[scratch]
 2E6  204FA                           CALL 4FA[moveto]
 2E7  11908                           ADD s9[xpos], 08[alien_x_dim]
 2E8  204FD                           CALL 4FD[drawto]
 2E9  11A02                           ADD sA[ypos], 02[alien_y_dim]
 2EA  204FD                           CALL 4FD[drawto]
 2EB  19908                           SUB s9[xpos], 08[alien_x_dim]
 2EC  204FD                           CALL 4FD[drawto]
 2ED  19A02                           SUB sA[ypos], 02[alien_y_dim]
 2EE  204FD                           CALL 4FD[drawto]
 2EF                   draw_alien_15: 
 2EF  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 2F0  0DF40                           TEST sF[scratch], 40
 2F1  3E301                           JUMP NC, 301[draw_alien_16]
 2F2  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 15 alien
 2F3  11F60                           ADD sF[scratch], 60
 2F4  009F0                           LOAD s9[xpos], sF[scratch]
 2F5  0BF01                           FETCH sF[scratch], 01[alien_y]
 2F6  11F08                           ADD sF[scratch], 08
 2F7  00AF0                           LOAD sA[ypos], sF[scratch]
 2F8  204FA                           CALL 4FA[moveto]
 2F9  11908                           ADD s9[xpos], 08[alien_x_dim]
 2FA  204FD                           CALL 4FD[drawto]
 2FB  11A02                           ADD sA[ypos], 02[alien_y_dim]
 2FC  204FD                           CALL 4FD[drawto]
 2FD  19908                           SUB s9[xpos], 08[alien_x_dim]
 2FE  204FD                           CALL 4FD[drawto]
 2FF  19A02                           SUB sA[ypos], 02[alien_y_dim]
 300  204FD                           CALL 4FD[drawto]
 301                   draw_alien_16: 
 301  0BF03                           FETCH sF[scratch], 03[alien_2_hp]
 302  0DF80                           TEST sF[scratch], 80
 303  3E313                           JUMP NC, 313[draw_alien_17]
 304  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 16 alien
 305  11F70                           ADD sF[scratch], 70
 306  009F0                           LOAD s9[xpos], sF[scratch]
 307  0BF01                           FETCH sF[scratch], 01[alien_y]
 308  11F08                           ADD sF[scratch], 08
 309  00AF0                           LOAD sA[ypos], sF[scratch]
 30A  204FA                           CALL 4FA[moveto]
 30B  11908                           ADD s9[xpos], 08[alien_x_dim]
 30C  204FD                           CALL 4FD[drawto]
 30D  11A02                           ADD sA[ypos], 02[alien_y_dim]
 30E  204FD                           CALL 4FD[drawto]
 30F  19908                           SUB s9[xpos], 08[alien_x_dim]
 310  204FD                           CALL 4FD[drawto]
 311  19A02                           SUB sA[ypos], 02[alien_y_dim]
 312  204FD                           CALL 4FD[drawto]
 313                   draw_alien_17: 
 313  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 314  0DF01                           TEST sF[scratch], 01
 315  3E324                           JUMP NC, 324[draw_alien_18]
 316  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 17 alien
 317  009F0                           LOAD s9[xpos], sF[scratch]
 318  0BF01                           FETCH sF[scratch], 01[alien_y]
 319  11F10                           ADD sF[scratch], 10
 31A  00AF0                           LOAD sA[ypos], sF[scratch]
 31B  204FA                           CALL 4FA[moveto]
 31C  11908                           ADD s9[xpos], 08[alien_x_dim]
 31D  204FD                           CALL 4FD[drawto]
 31E  11A02                           ADD sA[ypos], 02[alien_y_dim]
 31F  204FD                           CALL 4FD[drawto]
 320  19908                           SUB s9[xpos], 08[alien_x_dim]
 321  204FD                           CALL 4FD[drawto]
 322  19A02                           SUB sA[ypos], 02[alien_y_dim]
 323  204FD                           CALL 4FD[drawto]
 324                   draw_alien_18: 
 324  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 325  0DF02                           TEST sF[scratch], 02
 326  3E336                           JUMP NC, 336[draw_alien_19]
 327  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 18 alien
 328  11F10                           ADD sF[scratch], 10
 329  009F0                           LOAD s9[xpos], sF[scratch]
 32A  0BF01                           FETCH sF[scratch], 01[alien_y]
 32B  11F10                           ADD sF[scratch], 10
 32C  00AF0                           LOAD sA[ypos], sF[scratch]
 32D  204FA                           CALL 4FA[moveto]
 32E  11908                           ADD s9[xpos], 08[alien_x_dim]
 32F  204FD                           CALL 4FD[drawto]
 330  11A02                           ADD sA[ypos], 02[alien_y_dim]
 331  204FD                           CALL 4FD[drawto]
 332  19908                           SUB s9[xpos], 08[alien_x_dim]
 333  204FD                           CALL 4FD[drawto]
 334  19A02                           SUB sA[ypos], 02[alien_y_dim]
 335  204FD                           CALL 4FD[drawto]
 336                   draw_alien_19: 
 336  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 337  0DF04                           TEST sF[scratch], 04
 338  3E348                           JUMP NC, 348[draw_alien_20]
 339  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 19 alien
 33A  11F20                           ADD sF[scratch], 20
 33B  009F0                           LOAD s9[xpos], sF[scratch]
 33C  0BF01                           FETCH sF[scratch], 01[alien_y]
 33D  11F10                           ADD sF[scratch], 10
 33E  00AF0                           LOAD sA[ypos], sF[scratch]
 33F  204FA                           CALL 4FA[moveto]
 340  11908                           ADD s9[xpos], 08[alien_x_dim]
 341  204FD                           CALL 4FD[drawto]
 342  11A02                           ADD sA[ypos], 02[alien_y_dim]
 343  204FD                           CALL 4FD[drawto]
 344  19908                           SUB s9[xpos], 08[alien_x_dim]
 345  204FD                           CALL 4FD[drawto]
 346  19A02                           SUB sA[ypos], 02[alien_y_dim]
 347  204FD                           CALL 4FD[drawto]
 348                   draw_alien_20: 
 348  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 349  0DF08                           TEST sF[scratch], 08
 34A  3E35A                           JUMP NC, 35A[draw_alien_21]
 34B  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 20 alien
 34C  11F30                           ADD sF[scratch], 30
 34D  009F0                           LOAD s9[xpos], sF[scratch]
 34E  0BF01                           FETCH sF[scratch], 01[alien_y]
 34F  11F10                           ADD sF[scratch], 10
 350  00AF0                           LOAD sA[ypos], sF[scratch]
 351  204FA                           CALL 4FA[moveto]
 352  11908                           ADD s9[xpos], 08[alien_x_dim]
 353  204FD                           CALL 4FD[drawto]
 354  11A02                           ADD sA[ypos], 02[alien_y_dim]
 355  204FD                           CALL 4FD[drawto]
 356  19908                           SUB s9[xpos], 08[alien_x_dim]
 357  204FD                           CALL 4FD[drawto]
 358  19A02                           SUB sA[ypos], 02[alien_y_dim]
 359  204FD                           CALL 4FD[drawto]
 35A                   draw_alien_21: 
 35A  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 35B  0DF10                           TEST sF[scratch], 10
 35C  3E36C                           JUMP NC, 36C[draw_alien_22]
 35D  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 21 alien
 35E  11F40                           ADD sF[scratch], 40
 35F  009F0                           LOAD s9[xpos], sF[scratch]
 360  0BF01                           FETCH sF[scratch], 01[alien_y]
 361  11F10                           ADD sF[scratch], 10
 362  00AF0                           LOAD sA[ypos], sF[scratch]
 363  204FA                           CALL 4FA[moveto]
 364  11908                           ADD s9[xpos], 08[alien_x_dim]
 365  204FD                           CALL 4FD[drawto]
 366  11A02                           ADD sA[ypos], 02[alien_y_dim]
 367  204FD                           CALL 4FD[drawto]
 368  19908                           SUB s9[xpos], 08[alien_x_dim]
 369  204FD                           CALL 4FD[drawto]
 36A  19A02                           SUB sA[ypos], 02[alien_y_dim]
 36B  204FD                           CALL 4FD[drawto]
 36C                   draw_alien_22: 
 36C  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 36D  0DF20                           TEST sF[scratch], 20
 36E  3E37E                           JUMP NC, 37E[draw_alien_23]
 36F  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 22 alien
 370  11F50                           ADD sF[scratch], 50
 371  009F0                           LOAD s9[xpos], sF[scratch]
 372  0BF01                           FETCH sF[scratch], 01[alien_y]
 373  11F10                           ADD sF[scratch], 10
 374  00AF0                           LOAD sA[ypos], sF[scratch]
 375  204FA                           CALL 4FA[moveto]
 376  11908                           ADD s9[xpos], 08[alien_x_dim]
 377  204FD                           CALL 4FD[drawto]
 378  11A02                           ADD sA[ypos], 02[alien_y_dim]
 379  204FD                           CALL 4FD[drawto]
 37A  19908                           SUB s9[xpos], 08[alien_x_dim]
 37B  204FD                           CALL 4FD[drawto]
 37C  19A02                           SUB sA[ypos], 02[alien_y_dim]
 37D  204FD                           CALL 4FD[drawto]
 37E                   draw_alien_23: 
 37E  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 37F  0DF40                           TEST sF[scratch], 40
 380  3E390                           JUMP NC, 390[draw_alien_24]
 381  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 23 alien
 382  11F60                           ADD sF[scratch], 60
 383  009F0                           LOAD s9[xpos], sF[scratch]
 384  0BF01                           FETCH sF[scratch], 01[alien_y]
 385  11F10                           ADD sF[scratch], 10
 386  00AF0                           LOAD sA[ypos], sF[scratch]
 387  204FA                           CALL 4FA[moveto]
 388  11908                           ADD s9[xpos], 08[alien_x_dim]
 389  204FD                           CALL 4FD[drawto]
 38A  11A02                           ADD sA[ypos], 02[alien_y_dim]
 38B  204FD                           CALL 4FD[drawto]
 38C  19908                           SUB s9[xpos], 08[alien_x_dim]
 38D  204FD                           CALL 4FD[drawto]
 38E  19A02                           SUB sA[ypos], 02[alien_y_dim]
 38F  204FD                           CALL 4FD[drawto]
 390                   draw_alien_24: 
 390  0BF04                           FETCH sF[scratch], 04[alien_3_hp]
 391  0DF80                           TEST sF[scratch], 80
 392  3E3A2                           JUMP NC, 3A2[draw_alien_25]
 393  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 24 alien
 394  11F70                           ADD sF[scratch], 70
 395  009F0                           LOAD s9[xpos], sF[scratch]
 396  0BF01                           FETCH sF[scratch], 01[alien_y]
 397  11F10                           ADD sF[scratch], 10
 398  00AF0                           LOAD sA[ypos], sF[scratch]
 399  204FA                           CALL 4FA[moveto]
 39A  11908                           ADD s9[xpos], 08[alien_x_dim]
 39B  204FD                           CALL 4FD[drawto]
 39C  11A02                           ADD sA[ypos], 02[alien_y_dim]
 39D  204FD                           CALL 4FD[drawto]
 39E  19908                           SUB s9[xpos], 08[alien_x_dim]
 39F  204FD                           CALL 4FD[drawto]
 3A0  19A02                           SUB sA[ypos], 02[alien_y_dim]
 3A1  204FD                           CALL 4FD[drawto]
 3A2                   draw_alien_25: 
 3A2  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 3A3  0DF01                           TEST sF[scratch], 01
 3A4  3E3B3                           JUMP NC, 3B3[draw_alien_26]
 3A5  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 25 alien
 3A6  009F0                           LOAD s9[xpos], sF[scratch]
 3A7  0BF01                           FETCH sF[scratch], 01[alien_y]
 3A8  11F18                           ADD sF[scratch], 18
 3A9  00AF0                           LOAD sA[ypos], sF[scratch]
 3AA  204FA                           CALL 4FA[moveto]
 3AB  11908                           ADD s9[xpos], 08[alien_x_dim]
 3AC  204FD                           CALL 4FD[drawto]
 3AD  11A02                           ADD sA[ypos], 02[alien_y_dim]
 3AE  204FD                           CALL 4FD[drawto]
 3AF  19908                           SUB s9[xpos], 08[alien_x_dim]
 3B0  204FD                           CALL 4FD[drawto]
 3B1  19A02                           SUB sA[ypos], 02[alien_y_dim]
 3B2  204FD                           CALL 4FD[drawto]
 3B3                   draw_alien_26: 
 3B3  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 3B4  0DF02                           TEST sF[scratch], 02
 3B5  3E3C5                           JUMP NC, 3C5[draw_alien_27]
 3B6  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 26 alien
 3B7  11F10                           ADD sF[scratch], 10
 3B8  009F0                           LOAD s9[xpos], sF[scratch]
 3B9  0BF01                           FETCH sF[scratch], 01[alien_y]
 3BA  11F18                           ADD sF[scratch], 18
 3BB  00AF0                           LOAD sA[ypos], sF[scratch]
 3BC  204FA                           CALL 4FA[moveto]
 3BD  11908                           ADD s9[xpos], 08[alien_x_dim]
 3BE  204FD                           CALL 4FD[drawto]
 3BF  11A02                           ADD sA[ypos], 02[alien_y_dim]
 3C0  204FD                           CALL 4FD[drawto]
 3C1  19908                           SUB s9[xpos], 08[alien_x_dim]
 3C2  204FD                           CALL 4FD[drawto]
 3C3  19A02                           SUB sA[ypos], 02[alien_y_dim]
 3C4  204FD                           CALL 4FD[drawto]
 3C5                   draw_alien_27: 
 3C5  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 3C6  0DF04                           TEST sF[scratch], 04
 3C7  3E3D7                           JUMP NC, 3D7[draw_alien_28]
 3C8  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 27 alien
 3C9  11F20                           ADD sF[scratch], 20
 3CA  009F0                           LOAD s9[xpos], sF[scratch]
 3CB  0BF01                           FETCH sF[scratch], 01[alien_y]
 3CC  11F18                           ADD sF[scratch], 18
 3CD  00AF0                           LOAD sA[ypos], sF[scratch]
 3CE  204FA                           CALL 4FA[moveto]
 3CF  11908                           ADD s9[xpos], 08[alien_x_dim]
 3D0  204FD                           CALL 4FD[drawto]
 3D1  11A02                           ADD sA[ypos], 02[alien_y_dim]
 3D2  204FD                           CALL 4FD[drawto]
 3D3  19908                           SUB s9[xpos], 08[alien_x_dim]
 3D4  204FD                           CALL 4FD[drawto]
 3D5  19A02                           SUB sA[ypos], 02[alien_y_dim]
 3D6  204FD                           CALL 4FD[drawto]
 3D7                   draw_alien_28: 
 3D7  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 3D8  0DF08                           TEST sF[scratch], 08
 3D9  3E3E9                           JUMP NC, 3E9[draw_alien_29]
 3DA  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 28 alien
 3DB  11F30                           ADD sF[scratch], 30
 3DC  009F0                           LOAD s9[xpos], sF[scratch]
 3DD  0BF01                           FETCH sF[scratch], 01[alien_y]
 3DE  11F18                           ADD sF[scratch], 18
 3DF  00AF0                           LOAD sA[ypos], sF[scratch]
 3E0  204FA                           CALL 4FA[moveto]
 3E1  11908                           ADD s9[xpos], 08[alien_x_dim]
 3E2  204FD                           CALL 4FD[drawto]
 3E3  11A02                           ADD sA[ypos], 02[alien_y_dim]
 3E4  204FD                           CALL 4FD[drawto]
 3E5  19908                           SUB s9[xpos], 08[alien_x_dim]
 3E6  204FD                           CALL 4FD[drawto]
 3E7  19A02                           SUB sA[ypos], 02[alien_y_dim]
 3E8  204FD                           CALL 4FD[drawto]
 3E9                   draw_alien_29: 
 3E9  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 3EA  0DF10                           TEST sF[scratch], 10
 3EB  3E3FB                           JUMP NC, 3FB[draw_alien_30]
 3EC  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 29 alien
 3ED  11F40                           ADD sF[scratch], 40
 3EE  009F0                           LOAD s9[xpos], sF[scratch]
 3EF  0BF01                           FETCH sF[scratch], 01[alien_y]
 3F0  11F18                           ADD sF[scratch], 18
 3F1  00AF0                           LOAD sA[ypos], sF[scratch]
 3F2  204FA                           CALL 4FA[moveto]
 3F3  11908                           ADD s9[xpos], 08[alien_x_dim]
 3F4  204FD                           CALL 4FD[drawto]
 3F5  11A02                           ADD sA[ypos], 02[alien_y_dim]
 3F6  204FD                           CALL 4FD[drawto]
 3F7  19908                           SUB s9[xpos], 08[alien_x_dim]
 3F8  204FD                           CALL 4FD[drawto]
 3F9  19A02                           SUB sA[ypos], 02[alien_y_dim]
 3FA  204FD                           CALL 4FD[drawto]
 3FB                   draw_alien_30: 
 3FB  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 3FC  0DF20                           TEST sF[scratch], 20
 3FD  3E40D                           JUMP NC, 40D[draw_alien_31]
 3FE  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 30 alien
 3FF  11F50                           ADD sF[scratch], 50
 400  009F0                           LOAD s9[xpos], sF[scratch]
 401  0BF01                           FETCH sF[scratch], 01[alien_y]
 402  11F18                           ADD sF[scratch], 18
 403  00AF0                           LOAD sA[ypos], sF[scratch]
 404  204FA                           CALL 4FA[moveto]
 405  11908                           ADD s9[xpos], 08[alien_x_dim]
 406  204FD                           CALL 4FD[drawto]
 407  11A02                           ADD sA[ypos], 02[alien_y_dim]
 408  204FD                           CALL 4FD[drawto]
 409  19908                           SUB s9[xpos], 08[alien_x_dim]
 40A  204FD                           CALL 4FD[drawto]
 40B  19A02                           SUB sA[ypos], 02[alien_y_dim]
 40C  204FD                           CALL 4FD[drawto]
 40D                   draw_alien_31: 
 40D  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 40E  0DF40                           TEST sF[scratch], 40
 40F  3E41F                           JUMP NC, 41F[draw_alien_32]
 410  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 31 alien
 411  11F60                           ADD sF[scratch], 60
 412  009F0                           LOAD s9[xpos], sF[scratch]
 413  0BF01                           FETCH sF[scratch], 01[alien_y]
 414  11F18                           ADD sF[scratch], 18
 415  00AF0                           LOAD sA[ypos], sF[scratch]
 416  204FA                           CALL 4FA[moveto]
 417  11908                           ADD s9[xpos], 08[alien_x_dim]
 418  204FD                           CALL 4FD[drawto]
 419  11A02                           ADD sA[ypos], 02[alien_y_dim]
 41A  204FD                           CALL 4FD[drawto]
 41B  19908                           SUB s9[xpos], 08[alien_x_dim]
 41C  204FD                           CALL 4FD[drawto]
 41D  19A02                           SUB sA[ypos], 02[alien_y_dim]
 41E  204FD                           CALL 4FD[drawto]
 41F                   draw_alien_32: 
 41F  0BF05                           FETCH sF[scratch], 05[alien_4_hp]
 420  0DF80                           TEST sF[scratch], 80
 421  3E431                           JUMP NC, 431[draw_alien_33]
 422  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 32 alien
 423  11F70                           ADD sF[scratch], 70
 424  009F0                           LOAD s9[xpos], sF[scratch]
 425  0BF01                           FETCH sF[scratch], 01[alien_y]
 426  11F18                           ADD sF[scratch], 18
 427  00AF0                           LOAD sA[ypos], sF[scratch]
 428  204FA                           CALL 4FA[moveto]
 429  11908                           ADD s9[xpos], 08[alien_x_dim]
 42A  204FD                           CALL 4FD[drawto]
 42B  11A02                           ADD sA[ypos], 02[alien_y_dim]
 42C  204FD                           CALL 4FD[drawto]
 42D  19908                           SUB s9[xpos], 08[alien_x_dim]
 42E  204FD                           CALL 4FD[drawto]
 42F  19A02                           SUB sA[ypos], 02[alien_y_dim]
 430  204FD                           CALL 4FD[drawto]
 431                   draw_alien_33: 
 431  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 432  0DF01                           TEST sF[scratch], 01
 433  3E442                           JUMP NC, 442[draw_alien_34]
 434  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 33 alien
 435  009F0                           LOAD s9[xpos], sF[scratch]
 436  0BF01                           FETCH sF[scratch], 01[alien_y]
 437  11F20                           ADD sF[scratch], 20
 438  00AF0                           LOAD sA[ypos], sF[scratch]
 439  204FA                           CALL 4FA[moveto]
 43A  11908                           ADD s9[xpos], 08[alien_x_dim]
 43B  204FD                           CALL 4FD[drawto]
 43C  11A02                           ADD sA[ypos], 02[alien_y_dim]
 43D  204FD                           CALL 4FD[drawto]
 43E  19908                           SUB s9[xpos], 08[alien_x_dim]
 43F  204FD                           CALL 4FD[drawto]
 440  19A02                           SUB sA[ypos], 02[alien_y_dim]
 441  204FD                           CALL 4FD[drawto]
 442                   draw_alien_34: 
 442  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 443  0DF02                           TEST sF[scratch], 02
 444  3E454                           JUMP NC, 454[draw_alien_35]
 445  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 34 alien
 446  11F10                           ADD sF[scratch], 10
 447  009F0                           LOAD s9[xpos], sF[scratch]
 448  0BF01                           FETCH sF[scratch], 01[alien_y]
 449  11F20                           ADD sF[scratch], 20
 44A  00AF0                           LOAD sA[ypos], sF[scratch]
 44B  204FA                           CALL 4FA[moveto]
 44C  11908                           ADD s9[xpos], 08[alien_x_dim]
 44D  204FD                           CALL 4FD[drawto]
 44E  11A02                           ADD sA[ypos], 02[alien_y_dim]
 44F  204FD                           CALL 4FD[drawto]
 450  19908                           SUB s9[xpos], 08[alien_x_dim]
 451  204FD                           CALL 4FD[drawto]
 452  19A02                           SUB sA[ypos], 02[alien_y_dim]
 453  204FD                           CALL 4FD[drawto]
 454                   draw_alien_35: 
 454  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 455  0DF04                           TEST sF[scratch], 04
 456  3E466                           JUMP NC, 466[draw_alien_36]
 457  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 35 alien
 458  11F20                           ADD sF[scratch], 20
 459  009F0                           LOAD s9[xpos], sF[scratch]
 45A  0BF01                           FETCH sF[scratch], 01[alien_y]
 45B  11F20                           ADD sF[scratch], 20
 45C  00AF0                           LOAD sA[ypos], sF[scratch]
 45D  204FA                           CALL 4FA[moveto]
 45E  11908                           ADD s9[xpos], 08[alien_x_dim]
 45F  204FD                           CALL 4FD[drawto]
 460  11A02                           ADD sA[ypos], 02[alien_y_dim]
 461  204FD                           CALL 4FD[drawto]
 462  19908                           SUB s9[xpos], 08[alien_x_dim]
 463  204FD                           CALL 4FD[drawto]
 464  19A02                           SUB sA[ypos], 02[alien_y_dim]
 465  204FD                           CALL 4FD[drawto]
 466                   draw_alien_36: 
 466  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 467  0DF08                           TEST sF[scratch], 08
 468  3E478                           JUMP NC, 478[draw_alien_37]
 469  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 36 alien
 46A  11F30                           ADD sF[scratch], 30
 46B  009F0                           LOAD s9[xpos], sF[scratch]
 46C  0BF01                           FETCH sF[scratch], 01[alien_y]
 46D  11F20                           ADD sF[scratch], 20
 46E  00AF0                           LOAD sA[ypos], sF[scratch]
 46F  204FA                           CALL 4FA[moveto]
 470  11908                           ADD s9[xpos], 08[alien_x_dim]
 471  204FD                           CALL 4FD[drawto]
 472  11A02                           ADD sA[ypos], 02[alien_y_dim]
 473  204FD                           CALL 4FD[drawto]
 474  19908                           SUB s9[xpos], 08[alien_x_dim]
 475  204FD                           CALL 4FD[drawto]
 476  19A02                           SUB sA[ypos], 02[alien_y_dim]
 477  204FD                           CALL 4FD[drawto]
 478                   draw_alien_37: 
 478  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 479  0DF10                           TEST sF[scratch], 10
 47A  3E48A                           JUMP NC, 48A[draw_alien_38]
 47B  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 37 alien
 47C  11F40                           ADD sF[scratch], 40
 47D  009F0                           LOAD s9[xpos], sF[scratch]
 47E  0BF01                           FETCH sF[scratch], 01[alien_y]
 47F  11F20                           ADD sF[scratch], 20
 480  00AF0                           LOAD sA[ypos], sF[scratch]
 481  204FA                           CALL 4FA[moveto]
 482  11908                           ADD s9[xpos], 08[alien_x_dim]
 483  204FD                           CALL 4FD[drawto]
 484  11A02                           ADD sA[ypos], 02[alien_y_dim]
 485  204FD                           CALL 4FD[drawto]
 486  19908                           SUB s9[xpos], 08[alien_x_dim]
 487  204FD                           CALL 4FD[drawto]
 488  19A02                           SUB sA[ypos], 02[alien_y_dim]
 489  204FD                           CALL 4FD[drawto]
 48A                   draw_alien_38: 
 48A  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 48B  0DF20                           TEST sF[scratch], 20
 48C  3E49C                           JUMP NC, 49C[draw_alien_39]
 48D  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 38 alien
 48E  11F50                           ADD sF[scratch], 50
 48F  009F0                           LOAD s9[xpos], sF[scratch]
 490  0BF01                           FETCH sF[scratch], 01[alien_y]
 491  11F20                           ADD sF[scratch], 20
 492  00AF0                           LOAD sA[ypos], sF[scratch]
 493  204FA                           CALL 4FA[moveto]
 494  11908                           ADD s9[xpos], 08[alien_x_dim]
 495  204FD                           CALL 4FD[drawto]
 496  11A02                           ADD sA[ypos], 02[alien_y_dim]
 497  204FD                           CALL 4FD[drawto]
 498  19908                           SUB s9[xpos], 08[alien_x_dim]
 499  204FD                           CALL 4FD[drawto]
 49A  19A02                           SUB sA[ypos], 02[alien_y_dim]
 49B  204FD                           CALL 4FD[drawto]
 49C                   draw_alien_39: 
 49C  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 49D  0DF40                           TEST sF[scratch], 40
 49E  3E49C                           JUMP NC, 49C[draw_alien_39]
 49F  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 39 alien
 4A0  11F60                           ADD sF[scratch], 60
 4A1  009F0                           LOAD s9[xpos], sF[scratch]
 4A2  0BF01                           FETCH sF[scratch], 01[alien_y]
 4A3  11F20                           ADD sF[scratch], 20
 4A4  00AF0                           LOAD sA[ypos], sF[scratch]
 4A5  204FA                           CALL 4FA[moveto]
 4A6  11908                           ADD s9[xpos], 08[alien_x_dim]
 4A7  204FD                           CALL 4FD[drawto]
 4A8  11A02                           ADD sA[ypos], 02[alien_y_dim]
 4A9  204FD                           CALL 4FD[drawto]
 4AA  19908                           SUB s9[xpos], 08[alien_x_dim]
 4AB  204FD                           CALL 4FD[drawto]
 4AC  19A02                           SUB sA[ypos], 02[alien_y_dim]
 4AD  204FD                           CALL 4FD[drawto]
 4AE                   draw_alien_40: 
 4AE  0BF06                           FETCH sF[scratch], 06[alien_5_hp]
 4AF  0DF80                           TEST sF[scratch], 80
 4B0  0BF00                           FETCH sF[scratch], 00[alien_x]             ;draw 40 alien
 4B1  11F70                           ADD sF[scratch], 70
 4B2  009F0                           LOAD s9[xpos], sF[scratch]
 4B3  0BF01                           FETCH sF[scratch], 01[alien_y]
 4B4  11F20                           ADD sF[scratch], 20
 4B5  00AF0                           LOAD sA[ypos], sF[scratch]
 4B6  204FA                           CALL 4FA[moveto]
 4B7  11908                           ADD s9[xpos], 08[alien_x_dim]
 4B8  204FD                           CALL 4FD[drawto]
 4B9  11A02                           ADD sA[ypos], 02[alien_y_dim]
 4BA  204FD                           CALL 4FD[drawto]
 4BB  19908                           SUB s9[xpos], 08[alien_x_dim]
 4BC  204FD                           CALL 4FD[drawto]
 4BD  19A02                           SUB sA[ypos], 02[alien_y_dim]
 4BE  204FD                           CALL 4FD[drawto]
 4BF  25000                           RETURN 
 4C0                    draw_gameend: 
 4C0  01948                           LOAD s9[xpos], 48                          ; draw letter d
 4C1  01A50                           LOAD sA[ypos], 50
 4C2  204FA                           CALL 4FA[moveto]
 4C3  01948                           LOAD s9[xpos], 48
 4C4  01A90                           LOAD sA[ypos], 90
 4C5  204FD                           CALL 4FD[drawto]
 4C6  01928                           LOAD s9[xpos], 28
 4C7  01A90                           LOAD sA[ypos], 90
 4C8  204FD                           CALL 4FD[drawto]
 4C9  01928                           LOAD s9[xpos], 28
 4CA  01A70                           LOAD sA[ypos], 70
 4CB  204FD                           CALL 4FD[drawto]
 4CC  01948                           LOAD s9[xpos], 48
 4CD  01A70                           LOAD sA[ypos], 70
 4CE  204FD                           CALL 4FD[drawto]
 4CF  01958                           LOAD s9[xpos], 58                          ; draw letter o
 4D0  01A70                           LOAD sA[ypos], 70
 4D1  204FA                           CALL 4FA[moveto]
 4D2  01958                           LOAD s9[xpos], 58
 4D3  01A90                           LOAD sA[ypos], 90
 4D4  204FD                           CALL 4FD[drawto]
 4D5  01978                           LOAD s9[xpos], 78
 4D6  01A90                           LOAD sA[ypos], 90
 4D7  204FD                           CALL 4FD[drawto]
 4D8  01978                           LOAD s9[xpos], 78
 4D9  01A70                           LOAD sA[ypos], 70
 4DA  204FD                           CALL 4FD[drawto]
 4DB  01958                           LOAD s9[xpos], 58
 4DC  01A70                           LOAD sA[ypos], 70
 4DD  204FD                           CALL 4FD[drawto]
 4DE  01988                           LOAD s9[xpos], 88                          ; draw letter n
 4DF  01A90                           LOAD sA[ypos], 90
 4E0  204FA                           CALL 4FA[moveto]
 4E1  01988                           LOAD s9[xpos], 88
 4E2  01A70                           LOAD sA[ypos], 70
 4E3  204FD                           CALL 4FD[drawto]
 4E4  019A8                           LOAD s9[xpos], A8
 4E5  01A70                           LOAD sA[ypos], 70
 4E6  204FD                           CALL 4FD[drawto]
 4E7  019A8                           LOAD s9[xpos], A8
 4E8  01A90                           LOAD sA[ypos], 90
 4E9  204FD                           CALL 4FD[drawto]
 4EA  019D8                           LOAD s9[xpos], D8                          ; draw letter e
 4EB  01A90                           LOAD sA[ypos], 90
 4EC  204FA                           CALL 4FA[moveto]
 4ED  019B8                           LOAD s9[xpos], B8
 4EE  01A90                           LOAD sA[ypos], 90
 4EF  204FD                           CALL 4FD[drawto]
 4F0  019B8                           LOAD s9[xpos], B8
 4F1  01A70                           LOAD sA[ypos], 70
 4F2  204FD                           CALL 4FD[drawto]
 4F3  019D8                           LOAD s9[xpos], D8
 4F4  01A70                           LOAD sA[ypos], 70
 4F5  204FD                           CALL 4FD[drawto]
 4F6  019B8                           LOAD s9[xpos], B8
 4F7  01A90                           LOAD sA[ypos], 90
 4F8  204FD                           CALL 4FD[drawto]
 4F9  25000                           RETURN 
 4FA                                  ;;============================================================================
 4FA                                  ;; Subroutine: moveto and drawto
 4FA                                  ;; The moveto routine uses the global variables xpos and ypos, and the drawto
 4FA                                  ;; routine uses these global variables as well as the endpoint coordinates in
 4FA                                  ;; the display controller.  Moveto simply copies xpos and ypos into endpoint
 4FA                                  ;; coordinates in the display controller, it does not draw anything.  The
 4FA                                  ;; drawto routine copies endpoint coordinates to startpoint coordinates (does
 4FA                                  ;; not matter if the endpoint was from an actual draw, or simply an update
 4FA                                  ;; by moveto) and then copies xpos and ypos into endpoint coordinates, then
 4FA                                  ;; starts a linedraw.
 4FA                                  ;;============================================================================
 4FA                          moveto: 
 4FA  2D902                           OUTPUT s9[xpos], 02[endx]                  ; copy global to hardware
 4FB  2DA03                           OUTPUT sA[ypos], 03[endy]                  ; copy global to hardware
 4FC  25000                           RETURN                                     ; return
 4FD                          drawto: 
 4FD  09F02                           INPUT sF[scratch], 02[endx]                ; read hardware
 4FE  2DF00                           OUTPUT sF[scratch], 00[stax]               ; write hardware
 4FF  2D902                           OUTPUT s9[xpos], 02[endx]                  ; copy global to hardware
 500  09F03                           INPUT sF[scratch], 03[endy]                ; read hardware
 501  2DF01                           OUTPUT sF[scratch], 01[stay]               ; write hardware
 502  2DA03                           OUTPUT sA[ypos], 03[endy]                  ; copy global to hardware
 503  01F01                           LOAD sF[scratch], 01[busy_go]              ; prepare the command
 504  2DF04                           OUTPUT sF[scratch], 04[busy]               ; send the command
 505  20012                           CALL 012[hw_init_wait]                     ; wait line draw done
 506  25000                           RETURN                                     ; return
 507                                  ;;============================================================================
 507                                  ;; Interrupt - Vector.
 507                                  ;;============================================================================
 7FF                                  ADDRESS 7FF                                ; must be located here
 7FF                      isr_vector: 
 7FF  22004                           JUMP 004[isr]                              ; always jump to isr
 800                                  ;;============================================================================
 800                                  ;;
 800                                  ;;============================================================================



List of PSM files that have been assembled

C:\Users\Jacky\FPGA_Space_Invaders\software\software.psm



List of defined constants

 CONSTANT name     Value        Source PSM File

 timestamp_hours   19'd         
 timestamp_minutes 02'd         
 timestamp_seconds 39'd         
 datestamp_year    16'd         
 datestamp_month   12'd         
 datestamp_day     08'd         
 NUL               00           
 BEL               07           
 BS                08           
 HT                09           
 LF                0A           
 VT                0B           
 CR                0D           
 ESC               1B           
 DEL               7F           
 DCS               90           
 ST                9C           
 stax              00           software.psm
 stay              01           software.psm
 endx              02           software.psm
 endy              03           software.psm
 busy              04           software.psm
 beam              05           software.psm
 mode              06           software.psm
 prng              07           software.psm
 leds_lo           08           software.psm
 leds_hi           09           software.psm
 qssd_lo           0A           software.psm
 qssd_hi           0B           software.psm
 qssd_dp           0C           software.psm
 switches_lo       0D           software.psm
 switches_hi       0E           software.psm
 buttons           0F           software.psm
 busy_go           01           software.psm
 beam_hi           0F           software.psm
 beam_md           07           software.psm
 beam_lo           03           software.psm
 mode_hld          00           software.psm
 mode_clr          01           software.psm
 mode_lin          02           software.psm
 mode_exp          03           software.psm
 buttons_ct        10           software.psm
 buttons_up        08           software.psm
 buttons_dn        04           software.psm
 buttons_lf        02           software.psm
 buttons_rt        01           software.psm
 gs_major_attrone  00           software.psm
 gs_major_attrtwo  01           software.psm
 gs_major_playing  02           software.psm
 gs_major_gameend  03           software.psm
 gs_minor_begins   00           software.psm
 gs_minor_twosec   78           software.psm
 gs_minor_onesec   3C           software.psm
 gs_minor_getrdy   1E           software.psm
 gs_tbullet_xdim   00           software.psm
 gs_tbullet_ydim   05           software.psm
 gs_tbullet_speed  08           software.psm
 gs_tanky          F4           software.psm
 gs_tank_xdim      10           software.psm
 gs_tank_ydim      08           software.psm
 gs_tank_speed     02           software.psm
 shield1hit        40           software.psm
 shield2hit        10           software.psm
 shield3hit        04           software.psm
 shield4hit        01           software.psm
 shieldxdim        18           software.psm
 shieldydim        14           software.psm
 shield1x          10           software.psm
 shield2x          52           software.psm
 shield3x          95           software.psm
 shield4x          D7           software.psm
 shieldy           E0           software.psm
 alien_x           00           software.psm
 alien_y           01           software.psm
 alien_1_hp        02           software.psm
 alien_2_hp        03           software.psm
 alien_3_hp        04           software.psm
 alien_4_hp        05           software.psm
 alien_5_hp        06           software.psm
 alien_x_dim       08           software.psm
 alien_y_dim       02           software.psm
 minusone          FF           software.psm
 minusmax          80           software.psm
 plusmax           7F           software.psm
 zero              00           software.psm
 one               01           software.psm



No TABLEs defined



List of text strings

 STRING name       String         Source PSM File

 KCPSM6_version$   "v2.51"        
 datestamp$        "08 Dec 2016"  
 timestamp$        "19:02:39"     



List of line labels

   Label                     Addr  Source PSM File

 * boot                      000   software.psm
   main                      003   software.psm
   isr                       004   software.psm
   hw_init                   008   software.psm
   hw_init_wait              012   software.psm
   gs_init                   016   software.psm
   user_input                027   software.psm
   calc_next_gs              029   software.psm
   calc_attrone              032   software.psm
   calc_attrtwo              038   software.psm
   initial_positions         03E   software.psm
   calc_playing              055   software.psm
   upd_aliens                05C   software.psm
   upd_aliens_x_right        069   software.psm
   upd_aliens_x_left         06D   software.psm
   upd_aliens_y              071   software.psm
   upd_tank                  075   software.psm
   upd_tank_lt               084   software.psm
   upd_tank_rt               088   software.psm
   load_tbullet_en           08F   software.psm
   upd_tbullet               091   software.psm
   upd_tbullet_loop          092   software.psm
   restart_upd_bullet_loop   098   software.psm
   reset_tbullet             099   software.psm
   check_shield              0A1   software.psm
   check_shield1             0B2   software.psm
   check_shield2             0BA   software.psm
   check_shield3             0C2   software.psm
   check_shield4             0CA   software.psm
   calc_gameend              0D2   software.psm
   goto_attrone              0D6   software.psm
   goto_attrtwo              0D9   software.psm
   goto_gameend              0DC   software.psm
   draw_gs                   0DF   software.psm
   draw_gs_debug             0E9   software.psm
   draw_attrone              0EC   software.psm
   draw_attrtwo              129   software.psm
   draw_playing              145   software.psm
   draw_alien_1              1FD   software.psm
   draw_alien_2              20D   software.psm
   draw_alien_3              21E   software.psm
 * draw_alien_4              22F   software.psm
   draw_alien_5              240   software.psm
   draw_alien_6              251   software.psm
   draw_alien_7              262   software.psm
   draw_alien_8              273   software.psm
   draw_alien_9              284   software.psm
   draw_alien_10             295   software.psm
   draw_alien_11             2A7   software.psm
   draw_alien_12             2B9   software.psm
   draw_alien_13             2CB   software.psm
   draw_alien_14             2DD   software.psm
   draw_alien_15             2EF   software.psm
   draw_alien_16             301   software.psm
   draw_alien_17             313   software.psm
   draw_alien_18             324   software.psm
   draw_alien_19             336   software.psm
   draw_alien_20             348   software.psm
   draw_alien_21             35A   software.psm
   draw_alien_22             36C   software.psm
   draw_alien_23             37E   software.psm
   draw_alien_24             390   software.psm
   draw_alien_25             3A2   software.psm
   draw_alien_26             3B3   software.psm
   draw_alien_27             3C5   software.psm
   draw_alien_28             3D7   software.psm
   draw_alien_29             3E9   software.psm
   draw_alien_30             3FB   software.psm
   draw_alien_31             40D   software.psm
   draw_alien_32             41F   software.psm
   draw_alien_33             431   software.psm
   draw_alien_34             442   software.psm
   draw_alien_35             454   software.psm
   draw_alien_36             466   software.psm
   draw_alien_37             478   software.psm
   draw_alien_38             48A   software.psm
   draw_alien_39             49C   software.psm
 * draw_alien_40             4AE   software.psm
   draw_gameend              4C0   software.psm
   moveto                    4FA   software.psm
   drawto                    4FD   software.psm
 * isr_vector                7FF   software.psm

      * Line label has not been referenced in any instructions.
        Hint - This may indicate unused code that could be
               removed to reduce the size of this program.



Instruction usage statistics

 Instruction    Instances

 LOAD            315
 STAR              -

 AND               -
 OR                -
 XOR               1

 ADD             196
 ADDCY             1
 SUB             111
 SUBCY             1

 TEST             46
 TESTCY            -
 COMPARE          32
 COMPARECY         -

 SL0               -
 SL1               -
 SLX               -
 SLA               -
 RL                -
 SR0               -
 SR1               -
 SRX               1
 SRA               -
 RR                -

 REGBANK           -

 INPUT             4
 OUTPUT           16
 OUTPUTK           -

 STORE           126
 FETCH           126

 DISABLE           -
 ENABLE            1
 RETURNI           1

 JUMP             71
 JUMP@             -
 CALL            310
 CALL@             -
 RETURN           38
 LOAD&RETURN       -

 HWBUILD           -



End of KCPSM6 log file.
